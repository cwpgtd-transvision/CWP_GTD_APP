!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(e._Highcharts,e._Highcharts.StackItem,e._Highcharts.Axis,e._Highcharts.Color):"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts/highcharts"],function(e){return t(e,e.StackItem,e.Axis,e.Color)}):"object"==typeof exports?exports["highcharts/modules/treegrid"]=t(e._Highcharts,e._Highcharts.StackItem,e._Highcharts.Axis,e._Highcharts.Color):e.Highcharts=t(e.Highcharts,e.Highcharts.StackItem,e.Highcharts.Axis,e.Highcharts.Color)}("undefined"==typeof window?this:window,(Ve,Ke,Ye,Je)=>(()=>{"use strict";var L={184:e=>{e.exports=Ke},532:e=>{e.exports=Ye},620:e=>{e.exports=Je},944:e=>{e.exports=Ve}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;t=i[e]={exports:{}};return L[e](t,t.exports,s),t.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var e={},t=(s.d(e,{default:()=>Ue}),s(944)),l=s.n(t),t=s(184),S=s.n(t);const{addEvent:o,find:M,fireEvent:f,isArray:W,isNumber:u,pick:m}=l();{function z(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function j(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function _(){const e=this,t=e.brokenAxis;if(t?.hasBreaks){const i=e.tickPositions,s=e.tickPositions.info,o=[];for(let e=0;e<i.length;e++)t.isInAnyBreak(i[e])||o.push(i[e]);e.tickPositions=o,e.tickPositions.info=s}}function F(){this.brokenAxis||(this.brokenAxis=new C(this))}function X(){const{isDirty:e,options:{connectNulls:t},points:i,xAxis:s,yAxis:o}=this;if(e){let e=i.length;for(;e--;){const n=i[e];var r=!(null===n.y&&!1===t)&&(s?.brokenAxis?.isInAnyBreak(n.x,!0)||o?.brokenAxis?.isInAnyBreak(n.y,!0));n.visible=!r&&!1!==n.options.visible}}}function q(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,m(this.pointArrayMap,["y"]))}function U(s,e){const i=this,o=i.points;let r,n,a;if(s?.brokenAxis?.hasBreaks){const l=s.brokenAxis;e.forEach(function(e){r=l?.breakArray||[],n=s.isXAxis?s.min:m(i.options.threshold,s.min);const t=s?.options?.breaks?.filter(function(t){let i=!0;for(let e=0;e<r.length;e++){var s=r[e];if(s.from===t.from&&s.to===t.to){i=!1;break}}return i});o.forEach(function(i){a=m(i["stack"+e.toUpperCase()],i[e]),r.forEach(function(t){if(u(n)&&u(a)){let e="";n<t.from&&a>t.to||n>t.from&&a<t.from?e="pointBreak":(n<t.from&&a>t.from&&a<t.to||n>t.from&&a>t.to&&a<t.from)&&(e="pointInBreak"),e&&f(s,e,{point:i,brk:t})}}),t?.forEach(function(e){f(s,"pointOutsideOfBreak",{point:i,brk:e})})})})}}function V(){const e=this.currentDataGrouping,i=e?.gapSize,s=this.points.slice(),o=this.yAxis;let r=this.options.gapSize,n=s.length-1,a;if(r&&0<n){"value"!==this.options.gapUnit&&(r*=this.basePointRange),i&&i>r&&i>=this.basePointRange&&(r=i);let e,t;for(;n--;){var l;t&&!1!==t.visible||(t=s[n+1]),e=s[n],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>r&&(l=(e.x+t.x)/2,s.splice(n+1,0,{isNull:!0,x:l}),o.stacking&&this.options.stacking&&((a=o.stacking.stacks[this.stackKey][l]=new(S())(o,o.options.stackLabels,!1,l,this.stack)).total=0)),t=e)}}return this.getGraphPath(s)}(t=I=I||{}).compose=function(e,t){if(!e.keepProps.includes("brokenAxis")){e.keepProps.push("brokenAxis"),o(e,"init",F),o(e,"afterInit",z),o(e,"afterSetTickPositions",_),o(e,"afterSetOptions",j);const i=t.prototype;i.drawBreaks=U,i.gappedPath=V,o(t,"afterGeneratePoints",X),o(t,"afterRender",q)}return e};class C{static isInBreak(e,t){var i=e.repeat||1/0,s=e.from,o=e.to-e.from,s=s<=t?(t-s)%i:i-(s-t)%i;let r;return r=e.inclusive?s<=o:s<o&&0!=s}static lin2Val(e){var t=this.brokenAxis?.breakArray;if(!t||!u(e))return e;let i=e,s,o;for(o=0;o<t.length&&!((s=t[o]).from>=i);o++)(s.to<i||C.isInBreak(s,i))&&(i+=s.len);return i}static val2Lin(e){var t=this.brokenAxis?.breakArray;if(!t||!u(e))return e;let i=e,s,o;for(o=0;o<t.length;o++)if((s=t[o]).to<=e)i-=s.len;else{if(s.from>=e)break;if(C.isInBreak(s,e)){i-=e-s.from;break}}return i}constructor(e){this.hasBreaks=!1,this.axis=e}findBreakAt(t,e){return M(e,function(e){return e.from<t&&t<e.to})}isInAnyBreak(e,t){var i=this.axis,s=i.options.breaks||[];let o=s.length,r,n,a;if(o&&u(e)){for(;o--;)C.isInBreak(s[o],e)&&(r=!0,n=n||m(s[o].showPoints,!i.isXAxis));a=r&&t?r&&!n:r}return a}setBreaks(e,t){const h=this,p=h.axis,i=p.chart.time,s=W(e)&&!!e.length&&!!Object.keys(e[0]).length;p.isDirty=h.hasBreaks!==s,h.hasBreaks=s,e?.forEach(e=>{e.from=i.parse(e.from)||0,e.to=i.parse(e.to)||0}),e!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=e),p.forceRedraw=!0,p.series.forEach(function(e){e.isDirty=!0}),s||p.val2lin!==C.val2Lin||(delete p.val2lin,delete p.lin2val),s&&(p.userOptions.ordinal=!1,p.lin2val=C.lin2Val,p.val2lin=C.val2Lin,p.setExtremes=function(t,i,e,s,o){if(h.hasBreaks){var r=this.options.breaks||[];let e;for(;e=h.findBreakAt(t,r);)t=e.to;for(;e=h.findBreakAt(i,r);)i=e.from;i<t&&(i=t)}p.constructor.prototype.setExtremes.call(this,t,i,e,s,o)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),h.unitLength=void 0,h.hasBreaks){const e=p.options.breaks||[],l=[],d=[],c=m(p.pointRangePadding,0);let t=0,i,s,o=p.userMin||p.min,r=p.userMax||p.max,n,a;e.forEach(function(e){s=e.repeat||1/0,u(o)&&u(r)&&(C.isInBreak(e,o)&&(o+=e.to%s-o%s),C.isInBreak(e,r)&&(r-=r%s-e.from%s))}),e.forEach(function(e){if(n=e.from,s=e.repeat||1/0,u(o)&&u(r)){for(;n-s>o;)n-=s;for(;n<o;)n+=s;for(a=n;a<r;a+=s)l.push({value:a,move:"in"}),l.push({value:a+e.to-e.from,move:"out",size:e.breakSize})}}),l.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),i=0,n=o,l.forEach(function(e){1===(i+="in"===e.move?1:-1)&&"in"===e.move&&(n=e.value),0===i&&u(n)&&(d.push({from:n,to:e.value,len:e.value-n-(e.size||0)}),t+=e.value-n-(e.size||0))}),h.breakArray=d,u(o)&&u(r)&&u(p.min)&&(h.unitLength=r-o-t+c,f(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:h.unitLength&&(p.transA*=(r-p.min+c)/h.unitLength),c&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=o,p.max=r)}}),m(t,!0)&&p.chart.redraw()}}t.Additions=C}const r=I;var b,t=s(532),K=s.n(t);const n=l()["dateFormats"],{addEvent:a,defined:c,erase:d,find:Y,isArray:J,isNumber:v,merge:h,pick:k,timeUnits:Q,wrap:p}=l();function g(e){return l().isObject(e,!0)}function Z(o,e){const r={width:0,height:0};return e.forEach(function(e){e=o[e];let t,i=0,s;g(e)&&(t=(s=g(e.label)?e.label:{}).getBBox?s.getBBox().height:0,s.textStr&&!v(s.textPxLength)&&(s.textPxLength=s.getBBox().width),i=v(s.textPxLength)?Math.round(s.textPxLength):0,s.textStr&&(i=Math.round(s.getBBox().width)),r.height=Math.max(t,r.height),r.width=Math.max(i,r.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(e=this.treeGrid.mapOfPosToGridNode[-1].height||0,r.width+=this.options.labels.indentation*(e-1)),r}function $(e){var t=this["grid"],i=3===this.side;if(i||e.apply(this),!t?.isColumn){let e=t?.columns||[];(e=i?e.slice().reverse():e).forEach(e=>{e.getOffset()})}i&&e.apply(this)}function ee(e){var t=this;const i=t.options;if(!0===(i.grid||{}).enabled){const{axisTitle:d,height:c,horiz:h,left:p,offset:f,opposite:u,options:i,top:m,width:g}=t;var s=t.tickSize(),o=d?.getBBox().width,r=i.title.x,n=i.title.y,a=k(i.title.margin,h?5:10),l=d?t.chart.renderer.fontMetrics(d).f:0,s=(h?m+c:p)+(h?1:-1)*(u?-1:1)*(s?s[0]/2:0)+(t.side===b.bottom?l:0);e.titlePosition.x=h?p-(o||0)/2-a+r:s+(u?g:0)+f+r,e.titlePosition.y=h?s-(u?c:0)+(u?l:-l)/2+f+n:m-a+n}}function te(){var t=this,{chart:i,options:{grid:s={}},userOptions:o}=t;if(s.enabled){var e=t;const n=e.options;n.labels.align=k(n.labels.align,"center"),e.categories||(n.showLastLabel=!1),e.labelRotation=0,n.labels.rotation=0,n.minTickInterval=1}if(s.columns){const a=t.grid.columns=[];let e=t.grid.columnIndex=0;for(;++e<s.columns.length;){var r=h(o,s.columns[e],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}});const l=new(K())(t.chart,r,"yAxis");l.grid.isColumn=!0,l.grid.columnIndex=e,d(i.axes,l),d(i[t.coll]||[],l),a.push(l)}}}function ie(){const i=this,{axisTitle:e,grid:t,options:s}=i,o=s.grid||{};if(!0===o.enabled){var r=i.min||0,n=i.max||0,a=i.ticks[i.tickPositions[0]];if(e&&!i.chart.styledMode&&a?.slotWidth&&!i.options.title.style.width&&e.css({width:a.slotWidth+"px"}),i.maxLabelDimensions=i.getMaxLabelDimensions(i.ticks,i.tickPositions),i.rightWall&&i.rightWall.destroy(),i.grid?.isOuterAxis()&&i.axisLine){var a=s.lineWidth;if(a){const c=i.getLinePath(a),h=c[0],p=c[1],f=(i.tickSize("tick")||[1])[0],u=f*(i.side===b.top||i.side===b.left?-1:1);"M"===h[0]&&"L"===p[0]&&(i.horiz?(h[2]+=u,p[2]+=u):(h[1]+=u,p[1]+=u)),!i.horiz&&i.chart.marginRight&&(a=[h,["L",i.left,h[2]||0]],l=["L",i.chart.chartWidth-i.chart.marginRight,i.toPixels(n+i.tickmarkOffset)],l=[["M",p[1]||0,i.toPixels(n+i.tickmarkOffset)],l],i.grid.upperBorder||r%1==0||(i.grid.upperBorder=i.grid.renderBorder(a)),i.grid.upperBorder&&(i.grid.upperBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),i.grid.upperBorder.animate({d:a})),i.grid.lowerBorder||n%1==0||(i.grid.lowerBorder=i.grid.renderBorder(l)),i.grid.lowerBorder&&(i.grid.lowerBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),i.grid.lowerBorder.animate({d:l}))),i.grid.axisLineExtra?(i.grid.axisLineExtra.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),i.grid.axisLineExtra.animate({d:c})):i.grid.axisLineExtra=i.grid.renderBorder(c),i.axisLine[i.showAxis?"show":"hide"]()}}if((t?.columns||[]).forEach(e=>e.render()),!i.horiz&&i.chart.hasRendered&&(i.scrollbar||i.linkedParent?.scrollbar)&&i.tickPositions.length){var a=i.tickmarkOffset,l=i.tickPositions[i.tickPositions.length-1],d=i.tickPositions[0];let e,t;for(;(e=i.hiddenLabels.pop())&&e.element;)e.show();for(;(t=i.hiddenMarks.pop())&&t.element;)t.show();(e=i.ticks[d].label)&&(a<r-d?i.hiddenLabels.push(e.hide()):e.show()),(e=i.ticks[l].label)&&(a<l-n?i.hiddenLabels.push(e.hide()):e.show());const m=i.ticks[l].mark;m&&l-n<a&&0<l-n&&i.ticks[l].isLast&&i.hiddenMarks.push(m.hide())}}}function se(){var e=this,t=e.tickPositions?.info;const i=e.options;var s=i.grid||{},o=e.userOptions.labels||{};s.enabled&&(e.horiz?(e.series.forEach(e=>{e.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!c(o.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",c(o.x)||(i.labels.x=3))):"treegrid"!==this.type&&e.grid&&e.grid.columns&&(this.minPointOffset=this.tickInterval))}function oe(e){const t=this.options,i=e.userOptions,s=t&&g(t.grid)?t.grid:{};let d;!0===s.enabled&&(d=h(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(c(i.linkedTo)&&!c(i.tickPixelInterval)&&(d.tickPixelInterval=350),c(i.tickPixelInterval)||!c(i.linkedTo)||c(i.tickPositioner)||c(i.tickInterval)||c(i.units)||(d.tickPositioner=function(s,o){var r=this.linkedParent?.tickPositions?.info;if(r){var n=d.units||[];let t,e=1,i="year";for(let e=0;e<n.length;e++){var a=n[e];if(a&&a[0]===r.unitName){t=e;break}}var l=v(t)&&n[t+1],l=(l?(i=l[0]||"year",l=l[1],e=l?.[0]||1):"year"===r.unitName&&(e=10*r.count),Q[i]);return this.tickInterval=l*e,this.chart.time.getTimeTicks({unitRange:l,count:e,unitName:i},s,o,this.options.startOfWeek)}})),h(!0,this.options,d),this.horiz&&(t.minPadding=k(i.minPadding,0),t.maxPadding=k(i.maxPadding,0)),v(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=s.borderWidth))}function re(e){var e=e.userOptions?.grid||{},t=e.columns;e.enabled&&t&&h(!0,this.options,t[0])}function ne(){(this.grid.columns||[]).forEach(e=>e.setScale())}function ae(e){var t,{horiz:i,maxLabelDimensions:s,options:{grid:o={}}}=this;o.enabled&&s&&(t=2*this.options.labels.distance,i=i?o.cellHeight||t+s.height:t+s.width,J(e.tickSize)?e.tickSize[0]=i:e.tickSize=[i,0])}function le(){this.axes.forEach(e=>{(e.grid?.columns||[]).forEach(e=>{e.setAxisSize(),e.setAxisTranslation()})})}function de(t){const e=this["grid"];(e.columns||[]).forEach(e=>e.destroy(t.keepEvents)),e.columns=void 0}function ce(e){var t=this;const i=e.userOptions||{};e=i.grid||{};e.enabled&&c(e.borderColor)&&(i.tickColor=i.lineColor=e.borderColor),t.grid||(t.grid=new me(t)),t.hiddenLabels=[],t.hiddenMarks=[]}function he(o){const r=this.label,n=this.axis,a=n.reversed,l=n.chart,e=n.options,t=e.grid||{},d=n.options.labels,c=d.align,h=b[n.side],i=o.tickmarkOffset,s=n.tickPositions,p=this.pos-i,f=v(s[o.index+1])?s[o.index+1]-i:(n.max||0)+i,u=n.tickSize("tick"),m=u?u[0]:0,g=u?u[1]/2:0;if(!0===t.enabled){let e,t,i,s;var k,x;"top"===h?(e=n.top+n.offset,t=e-m):"bottom"===h?(t=l.chartHeight-n.bottom+n.offset,e=t+m):(e=n.top+n.len-(n.translate(a?f:p)||0),t=n.top+n.len-(n.translate(a?p:f)||0)),"right"===h?(i=l.chartWidth-n.right+n.offset,s=i+m):"left"===h?(s=n.left+n.offset,i=s-m):(i=Math.round(n.left+(n.translate(a?f:p)||0))-g,s=Math.min(Math.round(n.left+(n.translate(a?p:f)||0))-g,n.left+n.len)),this.slotWidth=s-i,o.pos.x="left"===c?i:"right"===c?s:i+(s-i)/2,o.pos.y=t+(e-t)/2,r&&(k=l.renderer.fontMetrics(r),x=r.getBBox().height,d.useHTML?o.pos.y+=k.b+-x/2:(x=Math.round(x/k.h),o.pos.y+=(k.b-(k.h-k.f))/2+-((x-1)*k.h)/2)),o.pos.x+=n.horiz&&d.x||0}}function pe(t){const{axis:i,value:s}=t;if(i.options.grid?.enabled){var o=i.tickPositions;const a=(i.linkedParent||i).series[0];var r=s===o[0],o=s===o[o.length-1],n=a&&Y(a.options.data,function(e){return e[i.isXAxis?"x":"y"]===s});let e;n&&a.is("gantt")&&(e=h(n),l().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(e,i.chart)),t.isFirst=r,t.isLast=o,t.point=e}}function fe(){const e=this,t=e.options,i=t.grid||{},s=e.categories,o=e.tickPositions,r=o[0],n=o[1],a=o[o.length-1],l=o[o.length-2],d=e.linkedParent?.min,c=e.linkedParent?.max,h=d||e.min,p=c||e.max,f=e.tickInterval,u=v(h)&&r+f<=h&&h<n,m=v(h)&&r<h&&h<r+f,g=v(p)&&p<a&&a-f<p,k=v(p)&&p<=a-f&&l<p;!0!==i.enabled||s||!e.isXAxis&&!e.isLinked||(!m&&!u||t.startOnTick||(o[0]=h),!g&&!k||t.endOnTick||(o[o.length-1]=p))}function ue(e){var{options:{grid:t={}}}=this;return!0===t.enabled&&this.categories?this.tickInterval:e.apply(this,(t=arguments,Array.prototype.slice.call(t,1)))}(I=b=b||{})[I.top=0]="top",I[I.right=1]="right",I[I.bottom=2]="bottom",I[I.left=3]="left";class me{constructor(e){this.axis=e}isOuterAxis(){const i=this.axis,e=i.chart;var t=i.grid.columnIndex,s=i.linkedParent?.grid.columns||i.grid.columns||[];const o=t?i.linkedParent:i;let r=-1,n=0;return 3===i.side&&!e.inverted&&s.length?!i.linkedParent:((e[i.coll]||[]).forEach((e,t)=>{e.side!==i.side||e.options.isInternal||(n=t,e===o&&(r=t))}),n===r&&(!v(t)||s.length===t))}renderBorder(e){const t=this.axis,i=t.chart.renderer,s=t.options,o=i.path(e).addClass("highcharts-axis-line").add(t.axisGroup);return i.styledMode||o.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),o}}n.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},n.W=function(e){const t=this.toParts(e),i=(t[7]+6)%7,s=t.slice(0);s[2]=t[2]-i+3;var e=this.toParts(this.makeTime(s[0],0,1)),o=(4!==e[7]&&(t[1]=0,t[2]=1+(11-e[7])%7),this.makeTime(s[0],s[1],s[2])),e=this.makeTime(e[0],e[1],e[2]);return(1+Math.floor((o-e)/6048e5)).toString()};const ge={compose:function(e,t,i){return e.keepProps.includes("grid")||(e.keepProps.push("grid"),e.prototype.getMaxLabelDimensions=Z,p(e.prototype,"unsquish",ue),p(e.prototype,"getOffset",$),a(e,"init",ce),a(e,"afterGetTitlePosition",ee),a(e,"afterInit",te),a(e,"afterRender",ie),a(e,"afterSetAxisTranslation",se),a(e,"afterSetOptions",oe),a(e,"afterSetOptions",re),a(e,"afterSetScale",ne),a(e,"afterTickSize",ae),a(e,"trimTicks",fe),a(e,"destroy",de),a(t,"afterSetChartSize",le),a(i,"afterGetLabelPosition",he),a(i,"labelFormat",pe)),e}},{extend:ke,isNumber:xe,pick:be}=l();function x(s,e,o,t,r,n){const i=n&&n.after,a=n&&n.before,l={data:t,depth:o-1,id:s,level:o,parent:e||""};let d=0,c=0,h,p;"function"==typeof a&&a(l,n);e=(r[s]||[]).map(e=>{var t=x(e.id,s,o+1,e,r,n),i=e.start||NaN,e=!0===e.milestone?i:e.end||NaN;return h=!xe(h)||i<h?i:h,p=!xe(p)||e>p?e:p,d=d+1+t.descendants,c=Math.max(t.height+1,c),t});return t&&(t.start=be(t.start,h),t.end=be(t.end,p)),ke(l,{children:e,descendants:d,height:c}),"function"==typeof i&&i(l,n),l}const y={getNode:x,getTree:function(e,t){return x("",null,1,null,function(e){const o=[],i=e.reduce((e,t)=>{var{parent:i="",id:s}=t;return void 0===e[i]&&(e[i]=[]),e[i].push(t),s&&o.push(s),e},{});return Object.keys(i).forEach(e=>{var t;""!==e&&-1===o.indexOf(e)&&(t=i[e].map(function(e){const{...t}=e;return t}),i[""].push(...t),delete i[e])}),i}(e),t)}},{addEvent:H,removeEvent:ve,isObject:R,isNumber:ye,pick:D,wrap:P}=l();function Pe(){this.treeGrid||(this.treeGrid=new Oe(this))}function Ge(e,t,i,s,o,r,n,a,l){const d=D(this.options?.labels,r),c=this.pos,h=this.axis,p="treegrid"===h.type,f=e.apply(this,[t,i,s,o,d,n,a,l]);return p&&({width:r=0,padding:e=h.linkedParent?0:5}=d&&R(d.symbol,!0)?d.symbol:{},t=d&&ye(d.indentation)?d.indentation:0,i=(h.treeGrid.mapOfPosToGridNode?.[c])?.depth||1,f.x+=r+2*e+(i-1)*t),f}function Ae(t){const{pos:e,axis:i,label:s,treeGrid:o,options:r}=this,n=o?.labelIcon,a=s?.element,{treeGrid:l,options:d,chart:c,tickPositions:h}=i,p=l.mapOfPosToGridNode,f=D(r?.labels,d?.labels),u=f&&R(f.symbol,!0)?f.symbol:{},m=p?.[e],{descendants:g,depth:k}=m||{},M=m&&g&&0<g,W=k,x="treegrid"===i.type&&a,z=-1<h.indexOf(e),b="highcharts-treegrid-node-",v=b+"level-",y=c.styledMode;if(x&&m&&s.removeClass(new RegExp(v+".*")).addClass(v+W),t.apply(this,Array.prototype.slice.call(arguments,1)),x&&M){t=l.isCollapsed(m);{var P=this;var G={color:!y&&s.styles.color||"",collapsed:t,group:s.parentGroup,options:u,renderer:s.renderer,show:z,xy:s.xy};const A=P.treeGrid,O=!A.labelIcon,T=G.renderer,B=G.xy,w=G.options,N=w.width||0,E=w.height||0,I=w.padding??P.axis.linkedParent?0:5,C={x:B.x-N/2-I,y:B.y-E/2},L=G.collapsed?90:180,S=G.show&&ye(C.y);let e=A.labelIcon;e||(A.labelIcon=e=T.path(T.symbols[w.type](w.x||0,w.y||0,N,E)).addClass("highcharts-label-icon").add(G.group)),e[S?"show":"hide"](),T.styledMode||e.attr({cursor:"pointer",fill:D(G.color,"#666666"),"stroke-width":1,stroke:w.lineColor,strokeWidth:w.lineWidth||0}),e[O?"attr":"animate"]({translateX:C.x,translateY:C.y,rotation:L})}P=b+(t?"expanded":"collapsed"),s.addClass(b+(t?"collapsed":"expanded")).removeClass(P),y||s.css({cursor:"pointer"}),[s,n].forEach(e=>{e&&!e.attachedTreeGridEvents&&(H(e.element,"mouseover",function(){var e;(e=s).addClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:"underline"})}),H(e.element,"mouseout",function(){var e,t;e=s,t=f,t=R(t.style)?t.style:{},e.removeClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:t.textDecoration||"none"})}),H(e.element,"click",function(){o.toggleCollapse()}),e.attachedTreeGridEvents=!0)})}else n&&(ve(a),s?.css({cursor:"default"}),n.destroy())}class Oe{static compose(e){const t=e.prototype;t.toggleCollapse||(H(e,"init",Pe),P(t,"getLabelPosition",Ge),P(t,"renderLabel",Ae),t.collapse=function(e){this.treeGrid.collapse(e)},t.expand=function(e){this.treeGrid.expand(e)},t.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.collapse(o),s.setBreaks(o,D(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){const{pos:t,axis:i}=this.tick,{treeGrid:s,brokenAxis:o}=i,r=s.mapOfPosToGridNode;var n;o&&r&&(n=r[t],n=s.expand(n),o.setBreaks(n,D(e,!0)))}toggleCollapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.toggleCollapse(o),s.setBreaks(o,D(e,!0)))}}const Te=class{static compose(e){const t=e.prototype;t.toggleCollapse||(H(e,"init",Pe),P(t,"getLabelPosition",Ge),P(t,"renderLabel",Ae),t.collapse=function(e){this.treeGrid.collapse(e)},t.expand=function(e){this.treeGrid.expand(e)},t.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.collapse(o),s.setBreaks(o,D(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){const{pos:t,axis:i}=this.tick,{treeGrid:s,brokenAxis:o}=i,r=s.mapOfPosToGridNode;var n;o&&r&&(n=r[t],n=s.expand(n),o.setBreaks(n,D(e,!0)))}toggleCollapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.toggleCollapse(o),s.setBreaks(o,D(e,!0)))}};t=s(620);const{isArray:Be,isNumber:G,isObject:A,merge:O,pick:we}=l();const Ne={getLevelOptions:function(e){const t={};let r,i,s,n,o,a;if(A(e))for(n=G(e.from)?e.from:1,a=e.levels,i={},r=A(e.defaults)?e.defaults:{},Be(a)&&(i=a.reduce((e,t)=>{let i,s,o;return A(t)&&G(t.level)&&(o=O({},t),s=we(o.levelIsConstant,r.levelIsConstant),delete o.levelIsConstant,delete o.level,i=t.level+(s?0:n-1),A(e[i])?O(!0,e[i],o):e[i]=o),e},{})),o=G(e.to)?e.to:1,s=0;s<=o;s++)t[s]=O({},r,A(i[s])?i[s]:{});return t}}["getLevelOptions"],{addEvent:T,isArray:Ee,splat:Ie,find:Ce,fireEvent:Le,isObject:B,isString:Se,merge:Me,pick:We,removeEvent:ze,wrap:w}=l();let N;function E(e,t){var i=e.collapseEnd||0;let s=e.collapseStart||0;return t<=i&&(s-=.5),{from:s,to:i,showPoints:!1}}function He(e,t,i){const a=[],o=[],l={},d=t||!1;let c={},h=-1;var p,t={after:function(e){const t=c[e.pos];let i=0,s=0;t.children.forEach(function(e){s+=(e.descendants||0)+1,i=Math.max((e.height||0)+1,i)}),t.descendants=s,t.height=i,t.collapsed&&o.push(t)},before:function(e){const t=B(e.data,!0)?e.data:{},i=Se(t.name)?t.name:"",s=l[e.parent],o=B(s,!0)?c[s.pos]:null;let r,n;d&&B(o,!0)&&(r=Ce(o.children,function(e){return e.name===i}))?(n=r.pos,r.nodes.push(e)):n=h++,c[n]||(c[n]=r={depth:o?o.depth+1:0,name:i,id:t.id,nodes:[e],children:[],pos:n},-1!==n&&a.push(i),B(o,!0)&&o.children.push(r)),Se(e.id)&&(l[e.id]=e),r&&!0===t.collapsed&&(r.collapsed=!0),e.pos=n}},e=y.getTree(e,t);function f(e,i,t){const s=e.nodes;let o=i+(-1===i?0:p-1);const r=(o-i)/2,n=i+r;return s.forEach(function(e){const t=e.data;B(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=n}),(t[n]=e).pos=n,e.tickmarkOffset=.5+r,e.collapseStart=o+.5,e.children.forEach(function(e){f(e,o+1,t),o=(e.collapseEnd||0)-.5}),e.collapseEnd=o+.5,t}return c=(t=c,p=i,f(t[-1],-1,{})),{categories:a,mapOfIdToNode:l,mapOfPosToGridNode:c,collapsedNodes:o,tree:e}}function Re(c){const h=c.target,e=h.axes;e.filter(e=>"treegrid"===e.type).forEach(function(e){const t=e.options||{},i=t.labels,r=e.uniqueNames,s=h.time.parse(t.max),o=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty});let n=0,a,l;if(o){const d=[];if(a=e.series.reduce(function(t,i){const e=i.options.data||[],s=e[0],o=Array.isArray(s)&&!s.find(e=>"object"==typeof e);return d.push(o),i.visible&&(e.forEach(function(e){(o||i.options.keys?.length)&&(e=i.pointClass.prototype.optionsToObject.call({series:i},e),i.pointClass.setGanttPointAliases(e,h)),B(e,!0)&&(e.seriesIndex=n,t.push(e))}),!0===r&&n++),t},[]),s&&a.length<s)for(let e=a.length;e<=s;e++)a.push({name:e+"​"});l=He(a,r||!1,!0===r?n:1),e.categories=l.categories,e.treeGrid.mapOfPosToGridNode=l.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=l.tree,e.series.forEach(function(e,t){var i=(e.options.data||[]).map(function(i){return(d[t]||Ee(i)&&e.options.keys&&e.options.keys.length)&&a.forEach(function(e){const t=Ie(i);0<=t.indexOf(e.x||0)&&0<=t.indexOf(e.x2||0)&&(i=e)}),B(i,!0)?Me(i):i});e.visible&&e.setData(i,!1)}),e.treeGrid.mapOptionsToLevel=Ne({defaults:i,from:1,levels:i?.levels,to:e.treeGrid.tree?.height}),"beforeRender"===c.type&&(e.treeGrid.collapsedNodes=l.collapsedNodes)}})}function De(e,t){const i=this,s=i.treeGrid.mapOptionsToLevel||{},o="treegrid"===i.type,r=i.ticks;let n=r[t],a,l,d;o&&i.treeGrid.mapOfPosToGridNode?((a=s[(d=i.treeGrid.mapOfPosToGridNode[t]).depth])&&(l={labels:a}),!n&&N?r[t]=n=new N(i,t,void 0,void 0,{category:d.name,tickmarkOffset:d.tickmarkOffset,options:l}):(n.parameters.category=d.name,n.options=l,n.addLabel())):e.apply(i,Array.prototype.slice.call(arguments,1))}function je(e,t,i,s){const o=this,r="treegrid"===i.type;o.treeGrid||(o.treeGrid=new Xe(o)),r&&(T(t,"beforeRender",Re),T(t,"beforeRedraw",Re),T(t,"addSeries",function(e){e.options.data&&(e=He(e.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),T(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(t){var e=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(e,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd)))})}),T(o,"afterBreaks",function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)}),i=Me({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},i,{reversed:!0})),e.apply(o,[t,i,s]),r&&(o.hasNames=!0,o.options.showLastLabel=!0)}function _e(e){const t=this,i=t.options,s=t.chart.time,o="number"==typeof i.linkedTo?this.chart[t.coll]?.[i.linkedTo]:void 0,r="treegrid"===t.type;var n;r?(t.min=t.userMin??s.parse(i.min)??t.dataMin,t.max=t.userMax??s.parse(i.max)??t.dataMax,Le(t,"foundExtremes"),t.setAxisTranslation(),t.tickInterval=1,t.tickmarkOffset=.5,t.tickPositions=t.treeGrid.mapOfPosToGridNode?t.treeGrid.getTickPositions():[],o&&(n=o.getExtremes(),t.min=We(n.min,n.dataMin),t.max=We(n.max,n.dataMax),t.tickPositions=o.tickPositions),t.linkedParent=o):e.apply(t,Array.prototype.slice.call(arguments,1))}function Fe(e){const i=this,t="treegrid"===this.type;t&&i.visible&&i.tickPositions.forEach(function(e){const t=i.ticks[e];t.label?.attachedTreeGridEvents&&(ze(t.label.element),t.label.attachedTreeGridEvents=!1)}),e.apply(i,Array.prototype.slice.call(arguments,1))}class Xe{static compose(e,t,i,s){if(!e.keepProps.includes("treeGrid")){const o=e.prototype;e.keepProps.push("treeGrid"),w(o,"generateTick",De),w(o,"init",je),w(o,"setTickInterval",_e),w(o,"redraw",Fe),o.utils={getNode:y.getNode},N=N||s}return ge.compose(e,t,s),r.compose(e,i),Te.compose(s),e}constructor(e){this.axis=e}setCollapsedStatus(o){const e=this.axis,r=e.chart;e.series.forEach(function(e){var t=e.options.data;if(o.id&&t){const i=r.get(o.id),s=t[e.data.indexOf(i)];i&&s&&(i.collapsed=o.collapsed,s.collapsed=o.collapsed)}})}collapse(e){const t=this.axis,i=t.options.breaks||[],s=E(e,t.max);return i.push(s),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){const t=this.axis,i=t.options.breaks||[],s=E(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===s.to&&t.from===s.from||e.push(t),e},[])}getTickPositions(){const i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){t=+t;return t>=s&&t<=o&&!i.brokenAxis?.isInAnyBreak(t)&&e.push(t),e},[])}isCollapsed(e){const t=this.axis,i=t.options.breaks||[],s=E(e,t.max);return i.some(function(e){return e.from===s.from&&e.to===s.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}const qe=class{static compose(e,t,i,s){if(!e.keepProps.includes("treeGrid")){const o=e.prototype;e.keepProps.push("treeGrid"),w(o,"generateTick",De),w(o,"init",je),w(o,"setTickInterval",_e),w(o,"redraw",Fe),o.utils={getNode:y.getNode},N=N||s}return ge.compose(e,t,s),r.compose(e,i),Te.compose(s),e}constructor(e){this.axis=e}setCollapsedStatus(o){const e=this.axis,r=e.chart;e.series.forEach(function(e){var t=e.options.data;if(o.id&&t){const i=r.get(o.id),s=t[e.data.indexOf(i)];i&&s&&(i.collapsed=o.collapsed,s.collapsed=o.collapsed)}})}collapse(e){const t=this.axis,i=t.options.breaks||[],s=E(e,t.max);return i.push(s),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){const t=this.axis,i=t.options.breaks||[],s=E(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===s.to&&t.from===s.from||e.push(t),e},[])}getTickPositions(){const i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){return(t=+t)>=s&&t<=o&&!i.brokenAxis?.isInAnyBreak(t)&&e.push(t),e},[])}isCollapsed(e){const t=this.axis,i=t.options.breaks||[],s=E(e,t.max);return i.some(function(e){return e.from===s.from&&e.to===s.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}};var I=l();qe.compose(I.Axis,I.Chart,I.Series,I.Tick);const Ue=l();return e.default})());