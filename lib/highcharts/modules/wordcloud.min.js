!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/wordcloud"]=e(t._Highcharts,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(J,K)=>(()=>{"use strict";var i={512:t=>{t.exports=K},944:t=>{t.exports=J}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;e=o[t]={exports:{}};return i[t](e,e.exports,a),e.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(a.d(t,{default:()=>G}),a(944)),r=a.n(e);let S={draw:function(e,t){let{animatableAttribs:i,onComplete:o,css:a,renderer:r}=t,n=e.series&&e.series.chart.hasRendered?void 0:e.series&&e.series.options.animation,s=e.graphic;if(t.attribs={...t.attribs,class:e.getClassName()},e.shouldDraw())s||(e.graphic=s="text"===t.shapeType?r.text():"image"===t.shapeType?r.image(t.imageUrl||"").attr(t.shapeArgs||{}):r[t.shapeType](t.shapeArgs||{}),s.add(t.group)),a&&s.css(a),s.attr(t.attribs).animate(i,!t.isNew&&n,o);else if(s){let t=()=>{e.graphic=s=s&&s.destroy(),"function"==typeof o&&o()};Object.keys(i).length?s.animate(i,void 0,()=>t()):t()}}};e=a(512),e=a.n(e);let{pointClass:n}=e().seriesTypes["column"]["prototype"],s=r()["extend"];class l extends n{isValid(){return!0}}s(l.prototype,{weight:1});let h=r()["deg2rad"],{extend:d,find:p,isNumber:g,isObject:u,merge:c}=r();function m(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function f(t){let e,a=t.axes||[];return a.length||(a=[],(e=t.concat([t[0]])).reduce((t,e)=>{o=e[0]-t[0];let i=[-(e[1]-t[1]),o];var o;return p(a,t=>t[0]===i[0]&&t[1]===i[1])||a.push(i),e}),t.axes=a),a}function x(t,i){t=t.map(t=>{var e=t[0],t=t[1];return e*i[0]+t*i[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function y(o,a){let t=f(o),e=f(a);return!p(t.concat(e),t=>{var e=a,i=x(o,t);return!!((e=x(e,t)).min>i.max||e.max<i.min)})}function b(t,e){let i=4*t,o=Math.ceil((Math.sqrt(i)-1)/2),a=2*o+1,r=Math.pow(a,2),n=!1;return--a,t<=1e4&&("boolean"==typeof n&&i>=r-a&&(n={x:o-(r-i),y:-o}),r-=a,"boolean"==typeof n&&i>=r-a&&(n={x:-o,y:-o+(r-i)}),r-=a,(n="boolean"==typeof n?i>=r-a?{x:-o+(r-i),y:o}:{x:o,y:o-(r-i-a)}:n).x*=5,n.y*=5),n}function M(t,e){e=Math.pow(10,g(e)?e:14);return Math.round(t*e)/e}function w(t,e){var i=t[0],t=t[1],e=-h*e,o=Math.cos(e),e=Math.sin(e);return[M(i*o-t*e),M(i*e+t*o)]}function v(t,e,i){t=w([t[0]-e[0],t[1]-e[1]],i);return[t[0]+e[0],t[1]+e[1]]}let P=r()["noop"],A=e().seriesTypes["column"],{extend:F,isArray:X,isNumber:T,isObject:z,merge:Y}=r(),{archimedeanSpiral:D,extendPlayingField:C,getBoundingBoxFromPolygon:N,getPlayingField:W,getPolygon:_,getRandomPosition:H,getRotation:O,getScale:j,getSpiral:E,intersectionTesting:R,isPolygonsColliding:L,rectangularSpiral:q,rotate2DToOrigin:U,rotate2DToPoint:V,squareSpiral:k,updateFieldBoundaries:I}={archimedeanSpiral:function(t,e){let i=e.field,o=i.width*i.width+i.height*i.height,a=.8*t,r=!1;return t<=1e4&&(Math.min(Math.abs((r={x:a*Math.cos(a),y:a*Math.sin(a)}).x),Math.abs(r.y))<o||(r=!1)),r},extendPlayingField:function(t,e){let i,o,a,r,n,s;return s=u(t)&&u(e)?(i=e.bottom-e.top,n=(o=e.right-e.left)*(a=t.ratioX)>i*(r=t.ratioY)?o:i,c(t,{width:t.width+n*a*2,height:t.height+n*r*2})):t},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var i=e[0],e=e[1];return t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,i){var i=i.reduce(function(t,e){var e=e.dimensions,i=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=i*i,t},{maxHeight:0,maxWidth:0,area:0}),i=Math.max(i.maxHeight,i.maxWidth,.85*Math.sqrt(i.area)),o=e<t?t/e:1,e=t<e?e/t:1;return{width:i*o,height:i*e,ratioX:o,ratioY:e}},getPolygon:function(t,e,i,o,a){let r=[t,e],n=t-i/2,s=t+i/2,l=e-o/2,h=e+o/2;return[[n,l],[s,l],[s,h],[n,h]].map(function(t){return v(t,r,-a)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,i,o){let a=!1;return a=g(t)&&g(e)&&g(i)&&g(o)&&0<t&&-1<e&&i<o?i+e%t*((o-i)/(t-1||1)):a},getScale:function(t,e,i){var o=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),i=2*Math.max(Math.abs(i.left),Math.abs(i.right));return Math.min(0<i?1/i*t:1,0<o?1/o*e:1)},getSpiral:function(e,i){let o=[];for(let t=1;t<1e4;t++)o.push(e(t,i));return t=>t<=1e4&&o[t-1]},intersectionTesting:function(t,e){let i=e.placed,r=e.field,o=e.rectangle,a=e.polygon,n=e.spiral,s=t.rect=d({},o),l=1,h={x:0,y:0};for(t.polygon=a,t.rotation=e.rotation;!1!==h&&(function(i,t){function o(t){let e=m(a,t.rect);return e=e&&(i.rotation%90||t.rotation%90)?y(r,t.polygon):e}let a=i.rect,r=i.polygon,e=i.lastCollidedWith,n=!1;return!e||(n=o(e))||delete i.lastCollidedWith,n=n||!!p(t,function(t){var e=o(t);return e&&(i.lastCollidedWith=t),e})}(t,i)||function(t){let e=-r.width/2,i=r.width/2,o=-r.height/2,a=r.height/2;return!(e<t.left&&i>t.right&&o<t.top&&a>t.bottom)}(s));)u(h=n(l))&&(s.left=o.left+h.x,s.right=o.right+h.x,s.top=o.top+h.y,s.bottom=o.bottom+h.y,t.polygon=function(e,i){return a.map(function(t){return[t[0]+e,t[1]+i]})}(h.x,h.y)),l++;return h},isPolygonsColliding:y,rectangularSpiral:function(t,e){let i=b(t),o=e.field;return i&&(i.x*=o.ratioX,i.y*=o.ratioY),i},rotate2DToOrigin:w,rotate2DToPoint:v,squareSpiral:b,updateFieldBoundaries:function(t,e){return(!g(t.left)||t.left>e.left)&&(t.left=e.left),(!g(t.right)||t.right<e.right)&&(t.right=e.right),(!g(t.top)||t.top>e.top)&&(t.top=e.top),(!g(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}};class B extends A{pointAttribs(t,e){let i=r().seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete i.stroke,delete i["stroke-width"],i}deriveFontSize(t,e,i){t=T(t)?t:0,e=T(e)?e:1;return Math.floor(Math.max(T(i)?i:1,t*e))}drawPoints(){if(!(this.zooming||this.defaultScale&&this.group.scaleX!==this.defaultScale)){let l=this.hasRendered,t=this.xAxis,e=this.yAxis,i=this.chart,h=this.group,d=this.options,p=d.animation,g=d.allowExtendPlayingField,u=i.renderer,c=[],m=this.placementStrategy[d.placementStrategy],f=d.rotation,o=this.points.map(function(t){return t.weight}),x=Math.max.apply(null,o),y=this.points.concat().sort((t,e)=>e.weight-t.weight),a=u.text().add(h),b;for(var r of(this.group.attr({scaleX:1,scaleY:1}),y)){var n=1/x*r.weight,n=F({fontSize:this.deriveFontSize(n,d.maxFontSize,d.minFontSize)+"px"},d.style),n=(a.css(n).attr({x:0,y:0,text:r.name}),a.getBBox(!0));r.dimensions={height:n.height,width:n.width}}b=W(t.len,e.len,y);var M,w=E(this.spirals[d.spiral],{field:b});for(M of y){let t=1/x*M.weight,e=F({fontSize:this.deriveFontSize(t,d.maxFontSize,d.minFontSize)+"px"},d.style),i=m(M,{data:y,field:b,placed:c,rotation:f}),o=F(this.pointAttribs(M,M.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:i.x,y:i.y,text:M.name,rotation:T(i.rotation)?i.rotation:void 0}),a=_(i.x,i.y,M.dimensions.width,M.dimensions.height,i.rotation),r=N(a),n=R(M,{rectangle:r,polygon:a,field:b,placed:c,spiral:w,rotation:i.rotation}),s;!n&&g&&(b=C(b,r),n=R(M,{rectangle:r,polygon:a,field:b,placed:c,spiral:w,rotation:i.rotation})),z(n)?(o.x=(o.x||0)+n.x,o.y=(o.y||0)+n.y,r.left+=n.x,r.right+=n.x,r.top+=n.y,r.bottom+=n.y,b=I(b,r),c.push(M),M.isNull=!1,M.isInside=!0):M.isNull=!0,p&&(s={x:o.x,y:o.y},l?(delete o.x,delete o.y):(o.x=0,o.y=0)),S.draw(M,{animatableAttribs:s,attribs:o,css:e,group:h,renderer:u,shapeArgs:void 0,shapeType:"text"})}a=a.destroy(),this.defaultScale=j(t.len,e.len,b),this.field=b,this.group.attr({scaleX:this.defaultScale,scaleY:this.defaultScale})}}hasData(){return z(this)&&!0===this.visible&&X(this.points)&&0<this.points.length}getPlotBox(t){let{chart:e,group:i,zooming:o}=this,{plotSizeX:a=0,plotSizeY:r=0,inverted:n}=e,s=this[n?"yAxis":"xAxis"],l=this[n?"xAxis":"yAxis"],h=s?s.len:e.plotWidth,d=l?l.len:e.plotHeight,p=s?s.left:e.plotLeft,g=l?l.top:e.plotTop,u=this.field,c=0,m=0,f=p+h/2,x=g+d/2,y=f,b=x,M=this.defaultScale||1,w=0,S=0;var v,P,A;return u&&(w=2*Math.max(Math.abs(u.top),Math.abs(u.bottom)),S=2*Math.max(Math.abs(u.left),Math.abs(u.right))),n&&([S,w]=[w,S]),i&&o&&(v=p+Math.max(S*(M=Math.max(o.scale,this.defaultScale||1)),h)/2,P=g+Math.max(w*M,d)/2,A=M-(i.scaleX||1),c=A*((a-S)/2+o.zoomX*a-h/2),m=A*((r-w)/2+o.zoomY*r-d/2),"series"===t&&(o.x=Math.max(0,Math.min(1-o.width,o.x+o.panX/o.scale)),c+=o.panX*a,o.panX=0,o.y=Math.max(0,Math.min(1-o.height,o.y+o.panY/o.scale)),m+=o.panY*r,o.panY=0),T(i.translateX)&&T(i.translateY)&&(y=i.translateX,b=i.translateY),f=y-c,(x=b-m)>P?x=P:x<2*g+d-P&&(x=2*g+d-P),f>v?f=v:f<2*p+h-v&&(f=2*p+h-v)),{translateX:f,translateY:x,scaleX:M,scaleY:M}}}B.defaultOptions=Y(A.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}}),F(B.prototype,{animate:P,animateDrilldown:P,animateDrillupFrom:P,isCartesian:!1,pointClass:l,setClip:P,placementStrategy:{random:function(t,e){var i=e.field,e=e.rotation;return{x:H(i.width)-i.width/2,y:H(i.height)-i.height/2,rotation:O(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:O(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:D,rectangular:q,square:k},utils:{extendPlayingField:C,getRotation:O,isPolygonsColliding:L,rotate2DToOrigin:U,rotate2DToPoint:V}}),e().registerSeriesType("wordcloud",B);let G=r();return t.default})());