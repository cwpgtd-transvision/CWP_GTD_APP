!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Templating):"function"==typeof define&&define.amd?define("highcharts/modules/datagrouping",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry,t.Templating)}):"object"==typeof exports?exports["highcharts/modules/datagrouping"]=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Templating):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.Templating)}("undefined"==typeof window?this:window,(ft,yt,xt)=>(()=>{"use strict";var o={512:t=>{t.exports=yt},944:t=>{t.exports=ft},984:t=>{t.exports=xt}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;e=i[t]={exports:{}};return o[t](e,e.exports,a),e.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(a.d(t,{default:()=>mt}),a(944)),s=a.n(e);const H={},{arrayMax:n,arrayMin:r,correctFloat:S,extend:k,isNumber:l}=s();function u(t){var e=t.length;let o=p(t);return o=l(o)&&e?S(o/e):o}function p(t){let e=t.length,o;if(!e&&t.hasNulls)o=null;else if(e)for(o=0;e--;)o+=t[e];return o}var h,e={average:u,averages:function(){const e=[];return[].forEach.call(arguments,function(t){e.push(u(t))}),void 0===e[0]?void 0:e},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?n(t):t.hasNulls?null:void 0},hlc:function(t,e,o){if(t=H.high(t),e=H.low(e),o=H.close(o),l(t)||l(e)||l(o))return[t,e,o]},low:function(t){return t.length?r(t):t.hasNulls?null:void 0},ohlc:function(t,e,o,i){if(t=H.open(t),e=H.high(e),o=H.low(o),i=H.close(i),l(t)||l(e)||l(o)||l(i))return[t,e,o,i]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,e){return t=H.low(t),e=H.high(e),l(t)||l(e)?[t,e]:null===t&&null===e?null:void 0},sum:p};k(H,e);const N={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:c,extend:F,merge:O,pick:d}=s();let g;function m(e){const o=this,t=o.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=o.getGroupPixelWidth&&o.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!e.hasExtremesChanged)})}function W(){var t=this.series;let e=t.length,o=0,i=!1,a,n;for(;e--;)(n=t[e].options.dataGrouping)&&(o=Math.max(o,d(n.groupPixelWidth,N.common.groupPixelWidth)),a=(t[e].dataTable.modified||t[e].dataTable).rowCount,(t[e].groupPixelWidth||a>this.chart.plotSizeX/o||a&&n.forced)&&(i=!0));return i?o:0}function E(){this.series.forEach(function(t){t.hasProcessed=!1})}function _(e,t){let o;if(t=d(t,!0),e=e||{forced:!1,units:null},this instanceof g)for(o=this.series.length;o--;)this.series[o].update({dataGrouping:e},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof e?e:O(e,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}const z={compose:function(t){var e=(g=t).prototype;e.applyGrouping||(c(t,"afterSetScale",E),c(t,"postProcessData",m),F(e,{applyGrouping:m,getGroupPixelWidth:W,setDataGrouping:_}))}},{setLength:q,splice:f}=((M=b=b||{}).setLength=function(t,e,o){return Array.isArray(t)?(t.length=e,t):t[o?"subarray":"slice"](0,e)},M.splice=function(t,e,o,i,a=[]){if(Array.isArray(t))return Array.isArray(a)||(a=Array.from(a)),{removed:t.splice(e,o,...a),array:t};const n=Object.getPrototypeOf(t).constructor;var i=t[i?"subarray":"slice"](e,e+o),r=t.length-o+a.length;const s=new n(r);return s.set(t.subarray(0,e),0),s.set(a,e),s.set(t.subarray(e+o),e+a.length),{removed:i,array:s}},b),{fireEvent:y,objectEach:x,uniqueKey:v}=s();const X=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||v(),(this.modified=this).rowCount=0,this.versionTag=v();let o=0;x(t.columns||{},(t,e)=>{this.columns[e]=t.slice(),o=Math.max(o,t.length)}),this.applyRowCount(o)}applyRowCount(o){this.rowCount=o,x(this.columns,(t,e)=>{t.length!==o&&(this.columns[e]=q(t,o))})}deleteRows(i,a=1){if(0<a&&i<this.rowCount){let o=0;x(this.columns,(t,e)=>{this.columns[e]=f(t,i,a).array,o=t.length}),this.rowCount=o}y(this,"afterDeleteRows",{rowIndex:i,rowCount:a}),this.versionTag=v()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(e,t){return(t||Object.keys(this.columns)).map(t=>this.columns[t]?.[e])}setColumn(t,e=[],o=0,i){this.setColumns({[t]:e},o,i)}setColumns(t,e,o){let i=this.rowCount;x(t,(t,e)=>{this.columns[e]=t.slice(),i=t.length}),this.applyRowCount(i),o?.silent||(y(this,"afterSetColumns"),this.versionTag=v())}setRow(t,i=this.rowCount,a,n){const r=this["columns"],s=a?this.rowCount+1:i+1;x(t,(t,e)=>{let o=r[e]||!1!==n?.addColumns&&new Array(s);o&&(a?o=f(o,i,0,!0,[t]).array:o[i]=t,r[e]=o)}),s>this.rowCount&&this.applyRowCount(s),n?.silent||(y(this,"afterSetRows"),this.versionTag=v())}},{addEvent:B,getMagnitude:U,normalizeTickInterval:K,timeUnits:G}=s();{var M=h=h||{};function J(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function Q(){"datetime"!==this.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new P(this))}M.compose=function(t){if(!t.keepProps.includes("dateTime")){t.keepProps.push("dateTime");const e=t.prototype;e.getTimeTicks=J,B(t,"afterSetType",Q)}return t};class P{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];let i=o[o.length-1],a=G[i[0]],n=i[1],r;for(r=0;r<o.length;r++)if(i=o[r],a=G[i[0]],n=i[1],o[r+1])if(t<=(a*n[n.length-1]+G[o[r+1][0]])/2)break;a===G.year&&t<5*a&&(n=[1,2,5]);e=K(t/a,n,"year"===i[0]?Math.max(U(t/a),1):1);return{unitRange:a,count:e,unitName:i[0]}}getXDateFormat(t,e){const o=this["axis"],i=o.chart.time;return o.closestPointRange?i.getDateFormat(o.closestPointRange,t,o.options.startOfWeek,e)||i.resolveDTLFormat(e.year).main:i.resolveDTLFormat(e.day).main}}M.Additions=P}const V=h;var b=a(512);const I=a.n(b)()["series"]["prototype"],{addEvent:D,defined:L,error:j,extend:Z,isNumber:Y,merge:R,pick:$,splat:tt}=s(),et=I.generatePoints;function ot(n){const r=this,s=r.chart,t=r.options,l=t.dataGrouping,e=!1!==r.allowDG&&l&&$(l.enabled,s.options.isStock),u=r.reserveSpace(),o=this.currentDataGrouping;let p,h,i=!1;e&&!r.requireSorting&&(r.requireSorting=i=!0);var c=!1==(n=n,!((c=r).isCartesian&&!c.isDirty&&!c.xAxis.isDirty&&!c.yAxis.isDirty&&!n))||!e;if(i&&(r.requireSorting=!1),!c){r.destroyGroupedData();const D=!l.groupAll&&r.dataTable.modified||r.dataTable,A=r.getColumn("x",!l.groupAll),T=A,w=s.plotSizeX,C=r.xAxis,P=C.getExtremes(),S=C.options.ordinal,k=r.groupPixelWidth;let i,a;if(k&&T&&D.rowCount&&w&&Y(P.min)){a=!0,r.isDirty=!0,r.points=null;const H=P.min,R=P.max,F=S&&C.ordinal&&C.ordinal.getGroupIntervalFactor(H,R,r)||1,O=k*(R-H)/w*F,W=C.getTimeTicks(V.Additions.prototype.normalizeTimeTickInterval(O,l.units||N.units),Math.min(H,T[0]),Math.max(R,T[T.length-1]),C.options.startOfWeek,A,r.closestPointRange),E=I.groupData.apply(r,[D,W,l.approximation]);let t=E.modified,e=t.getColumn("x",!0),o=0;for(l?.smoothed&&t.rowCount&&(l.firstAnchor="firstPoint",l.anchor="middle",l.lastAnchor="lastPoint",j(32,!1,s,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),i=1;i<W.length;i++)W.info.segmentStarts&&-1!==W.info.segmentStarts.indexOf(i)||(o=Math.max(W[i]-W[i-1],o));(p=W.info).gapSize=o,r.closestPointRange=W.info.totalRange,r.groupMap=E.groupMap,r.currentDataGrouping=p;var n=r,d=e||[],c=R,g=n.options.dataGrouping,m=n.currentDataGrouping&&n.currentDataGrouping.gapSize,f=n.getColumn("x");if(g&&f.length&&m&&n.groupMap){var y=d.length-1,x=g.anchor,v=g.firstAnchor,g=g.lastAnchor;let t=d.length-1,e=0;if(v&&f[0]>=d[0]){e++;var G=n.groupMap[0].start,M=n.groupMap[0].length;let t;Y(G)&&Y(M)&&(t=G+(M-1)),d[0]={start:d[0],middle:d[0]+.5*m,end:d[0]+m,firstPoint:f[0],lastPoint:t&&f[t]}[v]}if(0<y&&g&&m&&d[y]>=c-m&&(t--,G=n.groupMap[n.groupMap.length-1].start,d[y]={start:d[y],middle:d[y]+.5*m,end:d[y]+m,firstPoint:G&&f[G],lastPoint:f[f.length-1]}[g]),x&&"start"!==x)for(var b=m*{middle:.5,end:1}[x];t>=e;)d[t]+=b,t--}u&&e&&(M=C,v=e,L(v[0])&&Y(M.min)&&Y(M.dataMin)&&v[0]<M.min&&((!L(M.options.min)&&M.min<=M.dataMin||M.min===M.dataMin)&&(M.min=Math.min(v[0],M.min)),M.dataMin=Math.min(v[0],M.dataMin)),L(v[v.length-1])&&Y(M.max)&&Y(M.dataMax)&&v[v.length-1]>M.max&&((!L(M.options.max)&&Y(M.dataMax)&&M.max>=M.dataMax||M.max===M.dataMax)&&(M.max=Math.max(v[v.length-1],M.max)),M.dataMax=Math.max(v[v.length-1],M.dataMax))),l.groupAll&&(r.allGroupedTable=t,h=r.cropData(t,C.min||0,C.max||0),t=h.modified,e=t.getColumn("x"),r.cropStart=h.start),r.dataTable.modified=t}else r.groupMap=void 0,r.currentDataGrouping=void 0;r.hasGroupedData=a,r.preventGraphAnimation=(o&&o.totalRange)!==(p&&p.totalRange)}}function A(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function it(){et.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function at(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function T(t,e,o){const i=t.getColumn("x",!0)||[],a=t.getColumn("y",!0),n=this,r=n.data,s=n.options&&n.options.data,l=[],u=new X,p=[],h=t.rowCount,c=!!a,d=[],g=n.pointArrayMap,m=g&&g.length,f=["x"].concat(g||["y"]),y=(g||["y"]).map(()=>[]),x=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let v,G,M,b=0,D=0;const A="function"==typeof o?o:o&&H[o]?H[o]:H[n.getDGApproximation&&n.getDGApproximation()||"average"];if(m){let t=g.length;for(;t--;)d.push([])}else d.push([]);var T=m||1;for(let t=0;t<=h;t++)if(!(i[t]<e[0])){for(;void 0!==e[b+1]&&i[t]>=e[b+1]||t===h;){if(v=e[b],n.dataGroupInfo={start:x?D:n.cropStart+D,length:d[0].length,groupStart:v},M=A.apply(n,d),n.pointClass&&!L(n.dataGroupInfo.options)&&(n.dataGroupInfo.options=R(n.pointClass.prototype.optionsToObject.call({series:n},n.options.data[n.cropStart+D])),f.forEach(function(t){delete n.dataGroupInfo.options[t]})),void 0!==M){l.push(v);var w=tt(M);for(let t=0;t<w.length;t++)y[t].push(w[t]);p.push(n.dataGroupInfo)}D=t;for(let t=0;t<T;t++)d[t].length=0,d[t].hasNulls=!1;if(b+=1,t===h)break}if(t===h)break;if(g){var C,P=x?t:n.cropStart+t,S=r&&r[P]||n.pointClass.prototype.applyOptions.apply({series:n},[s[P]]);for(let t=0;t<m;t++)C=S[g[t]],Y(C)?d[t].push(C):null===C&&(d[t].hasNulls=!0)}else G=c?a[t]:null,Y(G)?d[0].push(G):null===G&&(d[0].hasNulls=!0)}const k={x:l};return(g||["y"]).forEach((t,e)=>{k[t]=y[e]}),u.setColumns(k),{groupMap:p,modified:u}}function nt(t){const e=t.options,o=this.type,i=this.chart.options.plotOptions,a=this.useCommonDataGrouping&&N.common,n=N.seriesSpecific;let r=s().defaultOptions.plotOptions[o].dataGrouping;i&&(n[o]||a)&&(t=this.chart.rangeSelector,r=r||R(N.common,n[o]),e.dataGrouping=R(a,r,i.series&&i.series.dataGrouping,i[o].dataGrouping,this.userOptions.dataGrouping,!e.isInternal&&t&&Y(t.selected)&&t.buttonOptions[t.selected].dataGrouping))}const w={compose:function(t){var e,o=t.prototype;o.applyGrouping||(e=t.prototype.pointClass,D(e,"update",function(){if(this.dataGroup)return j(24,!1,this.series.chart),!1}),D(t,"afterSetOptions",nt),D(t,"destroy",A),Z(o,{applyGrouping:ot,destroyGroupedData:A,generatePoints:it,getDGApproximation:at,groupData:T}))},groupData:T};M=a(984);const rt=a.n(M)()["format"],st=s()["composed"],{addEvent:lt,extend:ut,isNumber:pt,pick:ht,pushUnique:ct}=s();function dt(t){const e=this.chart,o=e.time,i=t.point,a=i.series,n=a.options,r=a.tooltipOptions,s=n.dataGrouping,l=a.xAxis;let u=r.xDateFormat||"",p,h,c,d,g,m=r[t.isFooter?"footerFormat":"headerFormat"];var f,y;l&&"datetime"===l.options.type&&s&&pt(i.key)&&(h=a.currentDataGrouping,c=s.dateTimeLabelFormats||N.common.dateTimeLabelFormats,h?(d=c[h.unitName],1===h.count?u=d[0]:(u=d[1],p=d[2])):!u&&c&&l.dateTime&&(u=l.dateTime.getXDateFormat(i.x,r.dateTimeLabelFormats)),y=(f=ht(a.groupMap?.[i.index].groupStart,i.key))+(h?.totalRange||0)-1,g=o.dateFormat(u,f),p&&(g+=o.dateFormat(p,y)),a.chart.styledMode&&(m=this.styledModeFormat(m)),t.text=rt(m,{point:ut(i,{key:g}),series:a},e),t.preventDefault())}const gt={compose:function(t,e,o){z.compose(t),w.compose(e),o&&ct(st,"DataGrouping")&&lt(o,"headerFormatter",dt)},groupData:w.groupData},C=s(),mt=(C.dataGrouping=C.dataGrouping||{},C.dataGrouping.approximationDefaults=C.dataGrouping.approximationDefaults||e,C.dataGrouping.approximations=C.dataGrouping.approximations||H,gt.compose(C.Axis,C.Series,C.Tooltip),s());return t.default})());