!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.dataGrouping.approximations,t._Highcharts.Series.types.column,t._Highcharts.Series,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/windbarb",["highcharts/highcharts"],function(t){return e(t,t.dataGrouping,["approximations"],t.Series,["types"],["column"],t.Series,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/windbarb"]=e(t._Highcharts,t._Highcharts.dataGrouping.approximations,t._Highcharts.Series.types.column,t._Highcharts.Series,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.dataGrouping.approximations,t.Highcharts.Series.types.column,t.Highcharts.Series,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(H,k,X,O,G)=>(()=>{"use strict";var o={448:t=>{t.exports=X},512:t=>{t.exports=G},820:t=>{t.exports=O},944:t=>{t.exports=H},956:t=>{t.exports=k}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;e=r[t]={exports:{}};return o[t](e,e.exports,i),e.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(i.d(t,{default:()=>L}),i(944)),a=i.n(e),e=i(956),e=i.n(e),s=i(448),s=i.n(s),n=i(820),n=i.n(n);const p=a()["composed"],M=s()["prototype"],l=n()["prototype"],{defined:P,pushUnique:h,stableSort:A}=a();function c(t){return l.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function u(){M.translate.apply(this);const r=this,t=r.options,e=r.chart,i=r.points,o=t.onSeries,s=o&&e.get(o),a=s&&s.options.step,n=s&&s.points,p=e.inverted,l=r.xAxis,h=r.yAxis;let c=i.length-1,u,d,f=t.onKey||"y",g=n&&n.length,x=0,b,y,m,v,S;if(s&&s.visible&&g)for(x=(s.pointXOffset||0)+(s.barW||0)/2,v=s.currentDataGrouping,y=n[g-1].x+(v?v.totalRange:0),A(i,(t,e)=>t.x-e.x),f="plot"+f[0].toUpperCase()+f.substr(1);g--&&i[c];)if(b=n[g],(u=i[c]).y=b.y,b.x<=u.x&&void 0!==b[f]){if(u.x<=y&&(u.plotY=b[f],b.x<u.x&&!a&&(m=n[g+1])&&void 0!==m[f]))if(P(u.plotX)&&s.is("spline")){const H=[b.plotX||0,b.plotY||0],k=[m.plotX||0,m.plotY||0],X=b.controlPoints?.high||H,O=m.controlPoints?.low||k,G=(t,e)=>Math.pow(1-t,3)*H[e]+3*(1-t)*(1-t)*t*X[e]+3*(1-t)*t*t*O[e]+t*t*t*k[e];let e=0,o=1,r;for(let t=0;t<100;t++){var w=(e+o)/2,L=G(w,0);if(null===L)break;if(Math.abs(L-u.plotX)<.25){r=w;break}L<u.plotX?e=w:o=w}P(r)&&(u.plotY=G(r,1),u.y=h.toValue(u.plotY,!0))}else S=(u.x-b.x)/(m.x-b.x),u.plotY+=S*(m[f]-b[f]),u.y+=S*(m.y-b.y);if(c--,g++,c<0)break}i.forEach((t,e)=>{let o;t.plotX+=x,void 0!==t.plotY&&!p||(0<=t.plotX&&t.plotX<=l.len?p?(t.plotY=l.translate(t.x,0,1,0,1),t.plotX=P(t.y)?h.translate(t.y,0,0,0,1):0):t.plotY=(l.opposite?0:r.yAxis.len)+l.offset:t.shapeArgs={}),(d=i[e-1])&&d.plotX===t.plotX&&(void 0===d.stackIndex&&(d.stackIndex=0),o=d.stackIndex+1),t.stackIndex=o}),this.onSeries=s}(n=f=f||{}).compose=function(t){if(h(p,"OnSeries")){const e=t.prototype;e.getPlotBox=c,e.translate=u}return t},n.getPlotBox=c,n.translate=u;const d=f;var n=i(512),f=i.n(n);const g=a()["isNumber"];class x extends s().prototype.pointClass{isValid(){return g(this.value)&&0<=this.value}}n=x,s={dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0};const b=a()["animObject"];var y=f().seriesTypes["column"];const{extend:m,merge:v,pick:S}=a();class w extends y{init(t,e){super.init(t,e)}pointAttribs(t,e){var o=this.options;let r=t.color||this.color,i=this.options.lineWidth;return e&&(r=o.states[e].color||r,i=(o.states[e].lineWidth||i)+(o.states[e].lineWidthPlus||0)),{stroke:r,"stroke-width":i}}windArrow(t){var e=t.beaufortLevel,o=this.options.vectorLength/20;let r=1.943844*t.value,i,s=-10;if(t.isNull)return[];if(0===e)return this.chart.renderer.symbols.circle(-10*o,-10*o,20*o,20*o);const a=[["M",0,7*o],["L",-1.5*o,7*o],["L",0,10*o],["L",1.5*o,7*o],["L",0,7*o],["L",0,-10*o]];if(0<(i=(r-r%50)/50))for(;i--;)a.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",5*o,s*o+2],["L",0,s*o+4]),r-=50,s+=7;if(0<(i=(r-r%10)/10))for(;i--;)a.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",7*o,s*o]),r-=10,s+=3;if(0<(i=(r-r%5)/5))for(;i--;)a.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",4*o,s*o]),r-=5,s+=3;return a}drawPoints(){const t=this.chart,e=this.yAxis,o=t.inverted,r=this.options.vectorLength/2;for(const a of this.points){var i=a.plotX,s=a.plotY;!1===this.options.clip||t.isInsidePlot(i,0)?(a.graphic||(a.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+S(a.colorIndex,a.series.colorIndex))),a.graphic.attr({d:this.windArrow(a),translateX:i+this.options.xOffset,translateY:s+this.options.yOffset,rotation:a.direction}),this.chart.styledMode||a.graphic.attr(this.pointAttribs(a))):a.graphic&&(a.graphic=a.graphic.destroy()),a.tooltipPos=[i+this.options.xOffset+(o&&!this.onSeries?r:0),s+this.options.yOffset-(o?0:r+e.pos-t.plotTop)]}}animate(t){t?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},b(this.options.animation))}markerAttribs(){return{}}getExtremes(){return{}}shouldShowTooltip(t,e,o={}){return o.ignoreX=this.chart.inverted,o.ignoreY=!o.ignoreX,super.shouldShowTooltip(t,e,o)}}w.defaultOptions=v(y.defaultOptions,s),d.compose(w),m(w.prototype,{beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],beaufortName:["Calm","Light air","Light breeze","Gentle breeze","Moderate breeze","Fresh breeze","Strong breeze","Near gale","Gale","Strong gale","Storm","Violent storm","Hurricane"],invertible:!1,parallelArrays:["x","value","direction"],pointArrayMap:["value","direction"],pointClass:n,trackerGroups:["markerGroup"],translate:function(){var e=this.beaufortFloor,o=this.beaufortName;d.translate.call(this);for(const r of this.points){let t=0;for(;t<e.length&&!(e[t]>r.value);t++);r.beaufortLevel=t-1,r.beaufort=o[t-1]}}}),f().registerSeriesType("windbarb",w),e().windbarb||(e().windbarb=(o,r)=>{let i=0,s=0;for(let t=0,e=o.length;t<e;t++)i+=o[t]*Math.cos(r[t]*a().deg2rad),s+=o[t]*Math.sin(r[t]*a().deg2rad);return[o.reduce((t,e)=>t+e,0)/o.length,Math.atan2(s,i)/a().deg2rad]});const L=a();return t.default})());