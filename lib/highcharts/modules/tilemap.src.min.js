!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Color):"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry,t.Color)}):"object"==typeof exports?exports["highcharts/modules/tilemap"]=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Color):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.Color)}("undefined"==typeof window?this:window,(Y,K,N)=>(()=>{"use strict";var o={512:t=>{t.exports=K},620:t=>{t.exports=N},944:t=>{t.exports=Y}},s={};function a(t){var e=s[t];if(void 0!==e)return e.exports;e=s[t]={exports:{}};return o[t](e,e.exports,a),e.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(a.d(t,{default:()=>W}),a(944)),e=a.n(e),i=a(512),i=a.n(i),n=a(620);const r=a.n(n)()["parse"],{addEvent:h,extend:c,merge:d,pick:g,splat:l}=e();{n=L=L||{};let p;function u(){const t=this["userOptions"];this.colorAxis=[],t.colorAxis&&(t.colorAxis=l(t.colorAxis),t.colorAxis.map(t=>new p(this,t)))}function x(e){const t=this.chart.colorAxis||[],o=t=>{t=e.allItems.indexOf(t);-1!==t&&(this.destroyItem(e.allItems[t]),e.allItems.splice(t,1))};let s=[],a,i;for(t.forEach(function(t){(a=t.options)?.showInLegend&&(a.dataClasses&&a.visible?s=s.concat(t.getDataClassLegendSymbols()):a.visible&&s.push(t),t.series.forEach(function(t){t.options.showInLegend&&!a.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){o(t)}):o(t))}))}),i=s.length;i--;)e.allItems.unshift(s[i])}function f(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function y(e){this.chart.colorAxis?.forEach(t=>{t.update({},e.redraw)})}function m(){(this.chart.colorAxis?.length||this.colorAttribs)&&this.translateColors()}function b(){const t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function A(t){const e=this,o=t?"show":"hide";e.visible=e.options.visible=Boolean(t),["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][o]()}),this.series.buildKDTree()}function P(){const o=this,t=this.getPointsCollection(),s=this.options.nullColor,a=this.colorAxis,i=this.colorKey;t.forEach(t=>{var e=t.getNestedProperty(i),e=t.options.color||(t.isNull||null===t.value?s:a&&void 0!==e?a.toColor(e,t):t.color||o.color);e&&t.color!==e&&(t.color=e,"point"===o.options.legendType&&t.legendItem&&t.legendItem.label&&o.chart.legend.colorizeItem(t,t.visible))})}function v(){this.elem.attr("fill",r(this.start).tweenTo(r(this.end),this.pos),void 0,!0)}function M(){this.elem.attr("stroke",r(this.start).tweenTo(r(this.end),this.pos),void 0,!0)}n.compose=function(t,e,o,s,a){const i=e.prototype,n=o.prototype,r=a.prototype;if(!i.collectionsWithUpdate.includes("colorAxis")){p=t,i.collectionsWithUpdate.push("colorAxis"),i.collectionsWithInit.colorAxis=[i.addColorAxis],h(e,"afterCreateAxes",u);{o=e;const l=o.prototype.createAxis;o.prototype.createAxis=function(t,e){var o=this;if("colorAxis"!==t)return l.apply(o,arguments);t=new p(o,d(e.axis,{index:o[t].length,isX:!1}));return o.isDirtyLegend=!0,o.axes.forEach(t=>{t.series=[]}),o.series.forEach(t=>{t.bindAxes(),t.isDirtyData=!0}),g(e.redraw,!0)&&o.redraw(e.animation),t}}n.fillSetter=v,n.strokeSetter=M,h(s,"afterGetAllItems",x),h(s,"afterColorizeItem",f),h(s,"afterUpdate",y),c(r,{optionalAxis:"colorAxis",translateColors:P}),c(r.pointClass.prototype,{setVisible:A}),h(a,"afterTranslate",m,{order:1}),h(a,"bindAxes",b)}},n.pointSetVisible=A}var n=L,{series:{prototype:{pointClass:L}},seriesTypes:{heatmap:{prototype:{pointClass:p}}}}=i();const S=e()["extend"];class C extends p{haloPath(){return this.series.tileShape.haloPath.apply(this,arguments)}}S(C.prototype,{setState:L.prototype.setState,setVisible:n.pointSetVisible});p=C,L={marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"},n=e().noop;const{heatmap:w,scatter:T}=i().seriesTypes,{clamp:D,pick:I}=e();function E(t,e,o){t=t.options;return{xPad:(t.colsize||1)/-e,yPad:(t.rowsize||1)/-o}}const z={hexagon:{alignDataLabel:T.prototype.alignDataLabel,getSeriesPadding:function(t){return E(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){const t=this,e=t.options,r=t.xAxis,l=t.yAxis,p=e.pointPadding||0,h=(e.colsize||1)/3,c=(e.rowsize||1)/2;let d;t.generatePoints();for(const f of t.points){let t=D(Math.floor(r.len-r.translate(f.x-2*h,0,1,0,1)),-r.len,2*r.len),e=D(Math.floor(r.len-r.translate(f.x-h,0,1,0,1)),-r.len,2*r.len),o=D(Math.floor(r.len-r.translate(f.x+h,0,1,0,1)),-r.len,2*r.len),s=D(Math.floor(r.len-r.translate(f.x+2*h,0,1,0,1)),-r.len,2*r.len),a=D(Math.floor(l.translate(f.y-c,0,1,0,1)),-l.len,2*l.len),i=D(Math.floor(l.translate(f.y,0,1,0,1)),-l.len,2*l.len),n=D(Math.floor(l.translate(f.y+c,0,1,0,1)),-l.len,2*l.len);var g=f.pointPadding??p,u=g*Math.abs(e-t)/Math.abs(n-i),u=r.reversed?-u:u,x=r.reversed?-g:g,g=l.reversed?-g:g;f.x%2&&(d=d||Math.round(Math.abs(n-a)/2)*(l.reversed?-1:1),a+=d,i+=d,n+=d),f.plotX=f.clientX=(e+o)/2,f.plotY=i,t+=u+x,e+=x,o-=x,s-=u+x,a-=g,n+=g,f.tileEdges={x1:t,x2:e,x3:o,x4:s,y1:a,y2:i,y3:n},f.shapeType="path",f.shapeArgs={d:[["M",e,a],["L",o,a],["L",s,i],["L",o,n],["L",e,n],["L",t,i],["Z"]]}}t.translateColors()}},diamond:{alignDataLabel:T.prototype.alignDataLabel,getSeriesPadding:function(t){return E(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){const t=this,e=t.options,i=t.xAxis,n=t.yAxis,r=e.pointPadding||0,l=e.colsize||1,p=(e.rowsize||1)/2;var h;t.generatePoints();for(const u of t.points){let t=D(Math.round(i.len-i.translate(u.x-l,0,1,0,0)),-i.len,2*i.len),e=D(Math.round(i.len-i.translate(u.x+l,0,1,0,0)),-i.len,2*i.len),o=D(Math.round(n.translate(u.y-p,0,1,0,0)),-n.len,2*n.len),s=D(Math.round(n.translate(u.y,0,1,0,0)),-n.len,2*n.len),a=D(Math.round(n.translate(u.y+p,0,1,0,0)),-n.len,2*n.len);var c=D(Math.round(i.len-i.translate(u.x,0,1,0,0)),-i.len,2*i.len),d=I(u.pointPadding,r),g=d*Math.abs(c-t)/Math.abs(a-s),g=i.reversed?-g:g,d=n.reversed?-d:d;u.x%2&&(h=Math.abs(a-o)/2*(n.reversed?-1:1),o+=h,s+=h,a+=h),u.plotX=u.clientX=c,u.plotY=s,t+=g,e-=g,o-=d,a+=d,u.tileEdges={x1:t,x2:c,x3:e,y1:o,y2:s,y3:a},u.shapeType="path",u.shapeArgs={d:[["M",c,o],["L",e,s],["L",c,a],["L",t,s],["Z"]]}}t.translateColors()}},circle:{alignDataLabel:T.prototype.alignDataLabel,getSeriesPadding:function(t){return E(t,2,2)},haloPath:function(t){return T.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){const t=this,e=t.options,s=t.xAxis,a=t.yAxis,i=e.pointPadding||0,n=(e.rowsize||1)/2,r=e.colsize||1;let l,p,h,c,d=!1;t.generatePoints();for(const u of t.points){var g=D(Math.round(s.len-s.translate(u.x,0,1,0,0)),-s.len,2*s.len);let t=i,e=!1,o=D(Math.round(a.translate(u.y,0,1,0,0)),-a.len,2*a.len);void 0!==u.pointPadding&&(t=u.pointPadding,e=!0,d=!0),c&&!d||(l=Math.abs(D(Math.floor(s.len-s.translate(u.x+r,0,1,0,0)),-s.len,2*s.len)-g),p=Math.abs(D(Math.floor(a.translate(u.y+n,0,1,0,0)),-a.len,2*a.len)-o),h=Math.floor(Math.sqrt(l*l+p*p)/2),c=Math.min(l,h,p)-t,d&&!e&&(d=!1)),u.x%2&&(o+=p*(a.reversed?-1:1)),u.plotX=u.clientX=g,u.plotY=o,u.radius=c,u.shapeType="circle",u.shapeArgs={x:g,y:o,r:c}}t.translateColors()}},square:{alignDataLabel:w.prototype.alignDataLabel,translate:w.prototype.translate,getSeriesPadding:n,haloPath:w.prototype.pointClass.prototype.haloPath}},{composed:_,noop:k}=e(),{column:H,heatmap:O,scatter:F}=i().seriesTypes,{addEvent:j,extend:R,merge:U,pushUnique:V}=e();function Z(){if(!this.recomputingForTilemap&&"colorAxis"!==this.coll){const e=this,t=e.series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},o=Math.round(t.padding*t.axisLengthFactor);t.padding&&(e.len-=o,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=o)}}class X extends O{static compose(t){V(_,"TilemapSeries")&&j(t,"afterSetAxisTranslation",Z)}alignDataLabel(){return this.tileShape.alignDataLabel.apply(this,arguments)}drawPoints(){H.prototype.drawPoints.call(this);for(const t of this.points)t.graphic&&t.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(t))}getSeriesPixelPadding(t){var e=t.isXAxis,o=this.tileShape.getSeriesPadding(this);if(!o)return{padding:0,axisLengthFactor:1};var s=Math.round(t.translate(e?2*o.xPad:o.yPad,0,1,0,1)),o=Math.round(t.translate(e?o.xPad:0,0,1,0,1));return{padding:(t.single?Math.abs(s-o)/2:Math.abs(s-o))||0,axisLengthFactor:e?2:1.1}}setOptions(){var t=super.setOptions.apply(this,arguments);return this.tileShape=z[t.tileShape],t}translate(){return this.tileShape.translate.apply(this,arguments)}}X.defaultOptions=U(O.defaultOptions,L),R(X.prototype,{getSymbol:k,markerAttribs:F.prototype.markerAttribs,pointAttribs:H.prototype.pointAttribs,pointClass:p}),i().registerSeriesType("tilemap",X);const q=X;n=e();q.compose(n.Axis);const W=e();return t.default})());