!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.Point):"function"==typeof define&&define.amd?define("highcharts/modules/pathfinder",["highcharts/highcharts"],function(t){return e(t,t.Point)}):"object"==typeof exports?exports["highcharts/modules/pathfinder"]=e(t._Highcharts,t._Highcharts.Point):t.Highcharts=e(t.Highcharts,t.Highcharts.Point)}("undefined"==typeof window?this:window,(F,J)=>(()=>{"use strict";var n={260:t=>{t.exports=J},944:t=>{t.exports=F}},i={};function r(t){var e=i[t];if(void 0!==e)return e.exports;e=i[t]={exports:{}};return n[t](e,e.exports,r),e.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(r.d(t,{default:()=>Z}),r(944)),e=r.n(e);let{defined:h,error:a,merge:c,objectEach:o}=e(),y=e().deg2rad,x=Math.max,l=Math.min,s=class{constructor(t,e,n){this.init(t,e,n)}init(t,e,n){this.fromPoint=t,this.toPoint=e,this.options=n,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder}renderPath(t,e){let n=this.chart,i=n.styledMode,r=this.pathfinder,a={},o=this.graphics&&this.graphics.path;r.group||(r.group=n.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(n.seriesGroup)),r.group.translate(n.plotLeft,n.plotTop),o&&o.renderer||(o=n.renderer.path().add(r.group),i||o.attr({opacity:0})),o.attr(e),a.d=t,i||(a.opacity=1),o.animate(a),this.graphics=this.graphics||{},this.graphics.path=o}addMarker(t,e,n){let i,r,a,o,s,h,c,x=this.fromPoint.series.chart,l=x.pathfinder,M=x.renderer,d="start"===t?this.fromPoint:this.toPoint,p=d.getPathfinderAnchorPoint(e);e.enabled&&((c="start"===t?n[1]:n[n.length-2])&&"M"===c[0]||"L"===c[0])&&(h={x:c[1],y:c[2]},r=d.getRadiansToVector(h,p),i=d.getMarkerVector(r,e.radius,p),e.width&&e.height?(o=e.width,s=e.height):o=s=2*e.radius,this.graphics=this.graphics||{},a={x:i.x-o/2,y:i.y-s/2,width:o,height:s,rotation:-r/y,rotationOriginX:i.x,rotationOriginY:i.y},this.graphics[t]?this.graphics[t].animate(a):(this.graphics[t]=M.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker highcharts-color-"+this.fromPoint.colorIndex).attr(a).add(l.group),M.styledMode||this.graphics[t].attr({fill:e.color||this.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},d.series.options.animation)))}getPath(t){let e=this.pathfinder,n=this.chart,i=e.algorithms[t.type],r=e.chartObstacles;return"function"!=typeof i?(a('"'+t.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(i.requiresObstacles&&!r&&(r=e.chartObstacles=e.getChartObstacles(t),n.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(r)),i(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),c({chartObstacles:r,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:n.plotWidth,yMin:0,yMax:n.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t)))}render(){let t=this.fromPoint,e=t.series,n=e.chart,i=n.pathfinder,r={},a=c(n.options.connectors,e.options.connectors,t.options.connectors,this.options);n.styledMode||(r.stroke=a.lineColor||t.color,r["stroke-width"]=a.lineWidth,a.dashStyle&&(r.dashstyle=a.dashStyle)),r.class="highcharts-point-connecting-path highcharts-color-"+t.colorIndex,h((a=c(r,a)).marker.radius)||(a.marker.radius=l(x(Math.ceil((a.algorithmMargin||8)/2)-1,1),5));var o=this.getPath(a),s=o.path;o.obstacles&&(i.lineObstacles=i.lineObstacles||[],i.lineObstacles=i.lineObstacles.concat(o.obstacles)),this.renderPath(s,r),this.addMarker("start",c(a.marker,a.startMarker),s),this.addMarker("end",c(a.marker,a.endMarker),s)}destroy(){this.graphics&&(o(this.graphics,function(t){t.destroy()}),delete this.graphics)}},f={applyRadius:function(e,n){let i=[];for(let t=0;t<e.length;t++){var r,a,o,s,h,c,x=e[t][1],l=e[t][2];"number"==typeof x&&"number"==typeof l&&(0===t?i.push(["M",x,l]):t!==e.length-1&&n?(a=e[t-1],s=e[t+1],a&&s&&(r=a[1],a=a[2],o=s[1],s=s[2],"number"==typeof r&&"number"==typeof o&&"number"==typeof a&&"number"==typeof s&&r!==o&&a!==s&&(h=r<o?1:-1,c=a<s?1:-1,i.push(["L",x-h*Math.min(Math.abs(x-r),n),l-c*Math.min(Math.abs(l-a),n)],["C",x,l,x,l,x+h*Math.min(Math.abs(x-o),n),l+c*Math.min(Math.abs(l-s),n)])))):i.push(["L",x,l]))}return i}},k=e()["pick"],{min:w,max:A,abs:I}=Math;function R(t,e,n){let i=e-1e-7,r=n||0,a=t.length-1,o,s;for(;r<=a;)if(0<(s=i-t[o=a+r>>1].xMin))r=1+o;else{if(!(s<0))return o;a=o-1}return 0<r?r-1:0}function E(t,e){let n=R(t,e.x+1)+1;for(;n--;){var i;if(t[n].xMax>=e.x&&(i=t[n],e.x<=i.xMax&&e.x>=i.xMin&&e.y<=i.yMax&&e.y>=i.yMin))return n}return-1}function B(e){let n=[];if(e.length){n.push(["M",e[0].start.x,e[0].start.y]);for(let t=0;t<e.length;++t)n.push(["L",e[t].end.x,e[t].end.y])}return n}function C(t,e){t.yMin=A(t.yMin,e.yMin),t.yMax=w(t.yMax,e.yMax),t.xMin=A(t.xMin,e.xMin),t.xMax=w(t.xMax,e.xMax)}function M(t,e,n){let i=[],r=n.chartObstacles,a=E(r,t),o=E(r,e),s,h=k(n.startDirectionX,I(e.x-t.x)>I(e.y-t.y))?"x":"y",c,x,l,M;function d(t,e,n,i,r){let a={x:t.x,y:t.y};return a[e]=n[i||e]+(r||0),a}function p(t,e,n){var i=I(e[n]-t[n+"Min"])>I(e[n]-t[n+"Max"]);return d(e,n,t,n+(i?"Max":"Min"),i?1:-1)}return M=-1<o?(s={start:x=p(r[o],e,h),end:e},x):e,-1<a&&(x=p(c=r[a],t,h),i.push({start:t,end:x}),x[h]>=t[h]==x[h]>=M[h]&&(l=t[h="y"===h?"x":"y"]<e[h],i.push({start:x,end:d(x,h,c,h+(l?"Max":"Min"),l?1:-1)}),h="y"===h?"x":"y")),e=i.length?i[i.length-1].end:t,x=d(e,h,M),i.push({start:e,end:x}),t=d(x,h="y"===h?"x":"y",M),i.push({start:x,end:t}),i.push(s),{path:f.applyRadius(B(i),n.radius),obstacles:i}}function d(t,e,p){let n=k(p.startDirectionX,I(e.x-t.x)>I(e.y-t.y)),i=n?"x":"y",r=[],a=p.obstacleMetrics,y=w(t.x,e.x)-a.maxWidth-10,f=A(t.x,e.x)+a.maxWidth+10,u=w(t.y,e.y)-a.maxHeight-10,g=A(t.y,e.y)+a.maxHeight+10,o,s,h,m=!1,b=p.chartObstacles,c=R(b,f),x=R(b,y);function P(t,e,n){let i,r,a,o,s=t.x<e.x?1:-1,h=(r=t.x<e.x?(i=t,e):(i=e,t),a=t.y<e.y?(o=t,e):(o=e,t),s<0?w(R(b,r.x),b.length-1):0);for(;b[h]&&(0<s&&b[h].xMin<=r.x||s<0&&b[h].xMax>=i.x);){if(b[h].xMin<=r.x&&b[h].xMax>=i.x&&b[h].yMin<=a.y&&b[h].yMax>=o.y)return n?{y:t.y,x:t.x<e.x?b[h].xMin-1:b[h].xMax+1,obstacle:b[h]}:{x:t.x,y:t.y<e.y?b[h].yMin-1:b[h].yMax+1,obstacle:b[h]};h+=s}return e}function v(t,e,n,i,r){let a=r.soft,o=r.hard,s=i?"x":"y",h={x:e.x,y:e.y},c={x:e.x,y:e.y},x=t[s+"Max"]>=a[s+"Max"],l=t[s+"Min"]<=a[s+"Min"],M=t[s+"Max"]>=o[s+"Max"],d=t[s+"Min"]<=o[s+"Min"],p=I(t[s+"Min"]-e[s]),y=I(t[s+"Max"]-e[s]),f=I(p-y)<10?e[s]<n[s]:y<p;c[s]=t[s+"Min"],h[s]=t[s+"Max"];r=P(e,c,i)[s]!==c[s],n=P(e,h,i)[s]!==h[s];return f=r?!n||f:!n&&f,f=l?!x||f:!x&&f,f=d?!M||f:!M&&f}for(-1<(c=E(b=b.slice(x,c+1),e))&&(h=(l=b[c],M=e,d=t,O=w(l.xMax-M.x,M.x-l.xMin)<w(l.yMax-M.y,M.y-l.yMin),d=v(l,M,d,O,{soft:p.hardBounds,hard:p.hardBounds}),O?{y:M.y,x:l[d?"xMax":"xMin"]+(d?1:-1)}:{x:M.x,y:l[d?"yMax":"yMin"]+(d?1:-1)}),r.push({end:e,start:h}),e=h);-1<(c=E(b,e));)s=e[i]-t[i]<0,(h={x:e.x,y:e.y})[i]=b[c][s?i+"Max":i+"Min"]+(s?1:-1),r.push({end:e,start:h}),e=h;var l,M,d,O;return{path:B(o=(o=function t(e,n,i){let r,a,o,s,h,c,x;if(e.x===n.x&&e.y===n.y)return[];var l=i?"x":"y",M=p.obstacleOptions.margin,d={soft:{xMin:y,xMax:f,yMin:u,yMax:g},hard:p.hardBounds};return-1<(h=E(b,e))?(s=v(h=b[h],e,n,i,d),C(h,p.hardBounds),x=i?{y:e.y,x:h[s?"xMax":"xMin"]+(s?1:-1)}:{x:e.x,y:h[s?"yMax":"yMin"]+(s?1:-1)},-1<(c=E(b,x))&&(C(c=b[c],p.hardBounds),x[l]=s?A(h[l+"Max"]-M+1,(c[l+"Min"]+h[l+"Max"])/2):w(h[l+"Min"]+M-1,(c[l+"Max"]+h[l+"Min"])/2),m=e.x===x.x&&e.y===x.y&&(m&&(x[l]=s?A(h[l+"Max"],c[l+"Max"])+1:w(h[l+"Min"],c[l+"Min"])-1),!m)),a=[{start:e,end:x}]):(r=P(e,{x:(i?n:e).x,y:(i?e:n).y},i),a=[{start:e,end:{x:r.x,y:r.y}}],r[i?"x":"y"]!==n[i?"x":"y"]&&(s=v(r.obstacle,r,n,!i,d),C(r.obstacle,p.hardBounds),o={x:i?r.x:r.obstacle[s?"xMax":"xMin"]+(s?1:-1),y:i?r.obstacle[s?"yMax":"yMin"]+(s?1:-1):r.y},i=!i,a=a.concat(t({x:r.x,y:r.y},o,i)))),a=a.concat(t(a[a.length-1].end,n,!i))}(t,e,n)).concat(r.reverse())),obstacles:o}}let p={connectors:{type:"straight",radius:0,lineWidth:1,marker:{enabled:!(d.requiresObstacles=M.requiresObstacles=!0),align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}},u=e()["setOptions"],{defined:j,error:_,merge:g}=e();function m(t){var e=t.shapeArgs;if(e)return{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)};e=t.graphic&&t.graphic.getBBox();return e?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}function D(t){let e,n,i=m(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":n="yMin";break;case"bottom":n="yMax"}return{x:e?i[e]:(i.xMin+i.xMax)/2,y:n?i[n]:(i.yMin+i.yMax)/2}}function S(t,e){let n;return!j(e)&&(n=m(this))&&(e={x:(n.xMin+n.xMax)/2,y:(n.yMin+n.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)}function V(t,e,n){let i=2*Math.PI,r=m(this),a=r.xMax-r.xMin,o=r.yMax-r.yMin,s=Math.atan2(o,a),h=a/2,c=o/2,x=r.xMin+h,l=r.yMin+c,M={x:x,y:l},d=t,p,y=!1,f=1,u=1;for(;d<-Math.PI;)d+=i;for(;d>Math.PI;)d-=i;return p=Math.tan(d),d>-s&&d<=s?(u=-1,y=!0):d>s&&d<=Math.PI-s?u=-1:d>Math.PI-s||d<=-(Math.PI-s)?(f=-1,y=!0):f=-1,y?(M.x+=f*h,M.y+=u*h*p):(M.x+=o/(2*p)*f,M.y+=u*c),n.x!==x&&(M.x=n.x),n.y!==l&&(M.y=n.y),{x:M.x+e*Math.cos(d),y:M.y-e*Math.sin(d)}}(b||(b={})).compose=function(t,e,n){let i=n.prototype;i.getPathfinderAnchorPoint||(t.prototype.callbacks.push(function(t){!1!==t.options.connectors.enabled&&((t.options.pathfinder||t.series.reduce(function(t,e){return e.options&&g(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder},!1))&&(g(!0,t.options.connectors=t.options.connectors||{},t.options.pathfinder),_('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new e(this),this.pathfinder.update(!0))}),i.getMarkerVector=V,i.getPathfinderAnchorPoint=D,i.getRadiansToVector=S,u(p))};let Y=b;var b=r(260),q=r.n(b);let{addEvent:P,defined:G,pick:v,splat:T}=e(),N=Math.max,z=Math.min;class O{static compose(t,e){Y.compose(t,O,e)}constructor(t){this.init(t)}init(t){this.chart=t,this.connections=[],P(t,"redraw",function(){this.pathfinder.update()})}update(t){let r=this.chart,a=this,o=a.connections;a.connections=[],r.series.forEach(function(t){t.visible&&!t.options.isInternal&&t.points.forEach(function(n){let i,t=n.options,e=(t&&t.dependency&&(t.connect=t.dependency),n.options?.connect?T(n.options.connect):[]);n.visible&&!1!==n.isInside&&e.forEach(t=>{var e="string"==typeof t?t:t.to;(i=e?r.get(e):i)instanceof q()&&i.series.visible&&i.visible&&!1!==i.isInside&&a.connections.push(new s(n,i,"string"==typeof t?{}:t))})})});for(let t=0,n,i,e=o.length,r=a.connections.length;t<e;++t){i=!1;let e=o[t];for(n=0;n<r;++n){let t=a.connections[n];if((e.options&&e.options.type)===(t.options&&t.options.type)&&e.fromPoint===t.fromPoint&&e.toPoint===t.toPoint){t.graphics=e.graphics,i=!0;break}}i||e.destroy()}delete this.chartObstacles,delete this.lineObstacles,a.renderConnections(t)}renderConnections(t){t?this.chart.series.forEach(function(e){function t(){let t=e.chart.pathfinder;(t&&t.connections||[]).forEach(function(t){t.fromPoint&&t.fromPoint.series===e&&t.render()}),e.pathfinderRemoveRenderEvent&&(e.pathfinderRemoveRenderEvent(),delete e.pathfinderRemoveRenderEvent)}!1===e.options.animation?t():e.pathfinderRemoveRenderEvent=P(e,"afterAnimate",t)}):this.connections.forEach(function(t){t.render()})}getChartObstacles(t){let a=this.chart.series,o=v(t.algorithmMargin,0),s=[],e;for(let r=0,t=a.length;r<t;++r)if(a[r].visible&&!a[r].options.isInternal)for(let t=0,e=a[r].points.length,n,i;t<e;++t)(i=a[r].points[t]).visible&&(n=function(t){var e=t.shapeArgs;if(e)return{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)};e=t.graphic&&t.graphic.getBBox();return e?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}(i))&&s.push({xMin:n.xMin-o,xMax:n.xMax+o,yMin:n.yMin-o,yMax:n.yMax+o});return s=s.sort(function(t,e){return t.xMin-e.xMin}),G(t.algorithmMargin)||(e=t.algorithmMargin=function(n){let i,r=n.length,a=[];for(let e=0;e<r;++e)for(let t=e+1;t<r;++t)(i=function t(e,n,i){var i=v(i,10),r=e.yMax+i>n.yMin-i&&e.yMin-i<n.yMax+i,a=e.xMax+i>n.xMin-i&&e.xMin-i<n.xMax+i,o=r?e.xMin>n.xMax?e.xMin-n.xMax:n.xMin-e.xMax:1/0,s=a?e.yMin>n.yMax?e.yMin-n.yMax:n.yMin-e.yMax:1/0;return a&&r?i?t(e,n,Math.floor(i/2)):1/0:z(o,s)}(n[e],n[t]))<80&&a.push(i);return a.push(80),N(Math.floor(a.sort(function(t,e){return t-e})[Math.floor(a.length/10)]/2-1),1)}(s),s.forEach(function(t){t.xMin-=e,t.xMax+=e,t.yMin-=e,t.yMax+=e})),s}getObstacleMetrics(t){let e=0,n=0,i,r,a=t.length;for(;a--;)i=t[a].xMax-t[a].xMin,r=t[a].yMax-t[a].yMin,e<i&&(e=i),n<r&&(n=r);return{maxHeight:n,maxWidth:e}}getAlgorithmStartDirection(t){var e="left"!==t.align&&"right"!==t.align,t="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return e?!!t&&void 0:!!t||void 0}}function H(t,e,n,i){return[["M",t,e+i/2],["L",t+n,e],["L",t,e+i/2],["L",t+n,e+i]]}function U(t,e,n,i){return H(t,e,n/2,i)}function L(t,e,n,i){return[["M",t+n,e],["L",t,e+i/2],["L",t+n,e+i],["Z"]]}function W(t,e,n,i){return L(t,e,n/2,i)}O.prototype.algorithms={fastAvoid:d,straight:function(t,e){return{path:[["M",t.x,t.y],["L",e.x,e.y]],obstacles:[{start:t,end:e}]}},simpleConnect:M};let X=e();X.Pathfinder=X.Pathfinder||O;{let t=(b=X.SVGRenderer).prototype.symbols;t.arrow=H,t["arrow-filled"]=L,t["arrow-filled-half"]=W,t["arrow-half"]=U,t["triangle-left"]=L,t["triangle-left-half"]=W}X.Pathfinder.compose(X.Chart,X.Point);let Z=e();return t.default})());