!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.Point,t._Highcharts.Series,t._Highcharts.SeriesRegistry,t._Highcharts.SVGRenderer):"function"==typeof define&&define.amd?define("highcharts/modules/series-on-point",["highcharts/highcharts"],function(t){return e(t,t.Point,t.Series,t.SeriesRegistry,t.SVGRenderer)}):"object"==typeof exports?exports["highcharts/modules/series-on-point"]=e(t._Highcharts,t._Highcharts.Point,t._Highcharts.Series,t._Highcharts.SeriesRegistry,t._Highcharts.SVGRenderer):t.Highcharts=e(t.Highcharts,t.Highcharts.Point,t.Highcharts.Series,t.Highcharts.SeriesRegistry,t.Highcharts.SVGRenderer)}("undefined"==typeof window?this:window,(H,A,_,E,G)=>(()=>{"use strict";var s={260:t=>{t.exports=A},512:t=>{t.exports=E},540:t=>{t.exports=G},820:t=>{t.exports=_},944:t=>{t.exports=H}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;e=o[t]={exports:{}};return s[t](e,e.exports,r),e.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(r.d(t,{default:()=>v}),r(944)),e=r.n(e),i=((i=l=l||{}).setLength=function(t,e,s){return Array.isArray(t)?(t.length=e,t):t[s?"subarray":"slice"](0,e)},i.splice=function(t,e,s,o,r=[]){if(Array.isArray(t))return Array.isArray(r)||(r=Array.from(r)),{removed:t.splice(e,s,...r),array:t};const i=Object.getPrototypeOf(t).constructor;var o=t[o?"subarray":"slice"](e,e+s),n=t.length-s+r.length;const h=new i(n);return h.set(t.subarray(0,e),0),h.set(r,e),h.set(t.subarray(e+s),e+r.length),{removed:o,array:h}},l);const{setLength:n,splice:a}=i,{fireEvent:c,objectEach:u,uniqueKey:p}=e();const h=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||p(),(this.modified=this).rowCount=0,this.versionTag=p();let s=0;u(t.columns||{},(t,e)=>{this.columns[e]=t.slice(),s=Math.max(s,t.length)}),this.applyRowCount(s)}applyRowCount(s){this.rowCount=s,u(this.columns,(t,e)=>{t.length!==s&&(this.columns[e]=n(t,s))})}deleteRows(o,r=1){if(0<r&&o<this.rowCount){let s=0;u(this.columns,(t,e)=>{this.columns[e]=a(t,o,r).array,s=t.length}),this.rowCount=s}c(this,"afterDeleteRows",{rowIndex:o,rowCount:r}),this.versionTag=p()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(e,t){return(t||Object.keys(this.columns)).map(t=>this.columns[t]?.[e])}setColumn(t,e=[],s=0,o){this.setColumns({[t]:e},s,o)}setColumns(t,e,s){let o=this.rowCount;u(t,(t,e)=>{this.columns[e]=t.slice(),o=t.length}),this.applyRowCount(o),s?.silent||(c(this,"afterSetColumns"),this.versionTag=p())}setRow(t,o=this.rowCount,r,i){const n=this["columns"],h=r?this.rowCount+1:o+1;u(t,(t,e)=>{let s=n[e]||!1!==i?.addColumns&&new Array(h);s&&(r?s=a(s,o,0,!0,[t]).array:s[o]=t,n[e]=s)}),h>this.rowCount&&this.applyRowCount(h),i?.silent||(c(this,"afterSetRows"),this.versionTag=p())}};var d,l=r(260),f=r.n(l),i=(r(820),r(512)),l=r.n(i),i=r(540),g=r.n(i);const y=e()["composed"],m=l().seriesTypes["bubble"],{addEvent:w,defined:b,find:C,isNumber:x,pushUnique:R}=e();{(i=d=d||{}).compose=function(t,e){var s,o,r,i,n,h;return R(y,"SeriesOnPoint")&&({chartGetZData:s,seriesAfterInit:o,seriesAfterRender:r,seriesGetCenter:i,seriesShowOrHide:n,seriesTranslate:h}=S.prototype,t.types.pie.prototype.onPointSupported=!0,w(t,"afterInit",o),w(t,"afterRender",r),w(t,"afterGetCenter",i),w(t,"hide",n),w(t,"show",n),w(t,"translate",h),w(e,"beforeRender",s),w(e,"beforeRedraw",s)),t};class S{constructor(t){this.getColumn=m.prototype.getColumn,this.getRadii=m.prototype.getRadii,this.getRadius=m.prototype.getRadius,this.getPxExtremes=m.prototype.getPxExtremes,this.getZExtremes=m.prototype.getZExtremes,this.chart=t.chart,this.series=t,this.options=t.options.onPoint}drawConnector(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));var t=this.getConnectorAttributes();t&&this.connector.animate(t)}getConnectorAttributes(){const t=this.series.chart,e=this.options;if(e){var s=e.connectorOptions||{},o=e.position,r=t.get(e.id);if(r instanceof f()&&o&&b(r.plotX)&&b(r.plotY)){const i=b(o.x)?o.x:r.plotX,n=b(o.y)?o.y:r.plotY,h=i+(o.offsetX||0),a=n+(o.offsetY||0),c=s.width||1,u=s.stroke||this.series.color,p=s.dashstyle,d={d:g().prototype.crispLine([["M",i,n],["L",h,a]],c),"stroke-width":c};return t.styledMode||(d.stroke=u,d.dashstyle=p),d}}}seriesAfterInit(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new S(this))}seriesAfterRender(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()}seriesGetCenter(t){const e=this.options.onPoint,s=t.positions;e&&((o=this.chart.get(e.id))instanceof f()&&b(o.plotX)&&b(o.plotY)&&(s[0]=o.plotX,s[1]=o.plotY),(o=e.position)&&(b(o.x)&&(s[0]=o.x),b(o.y)&&(s[1]=o.y),o.offsetX&&(s[0]+=o.offsetX),o.offsetY&&(s[1]+=o.offsetY)));var o=this.radii&&this.radii[this.index];x(o)&&(s[2]=2*o),t.positions=s}seriesShowOrHide(){const s=this.chart.series;this.points?.forEach(e=>{const t=C(s,t=>{t=((t.onPoint||{}).options||{}).id;return!!t&&t===e.id});t&&t.setVisible(!t.visible,!1)})}seriesTranslate(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)}chartGetZData(){const e=[],s=(this.series.forEach(t=>{t=t.options.onPoint;e.push(t?.z??null)}),new h({columns:{z:e}}));this.series.forEach(t=>{t.onPoint&&(t.onPoint.dataTable=t.dataTable=s)})}}i.Additions=S}const P=d;l=e();P.compose(l.Series,l.Chart);const v=e();return t.default})());