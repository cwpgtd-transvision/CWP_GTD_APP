!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(e._Highcharts,e._Highcharts.Color,e._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/venn",["highcharts/highcharts"],function(e){return t(e,e.Color,e.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/venn"]=t(e._Highcharts,e._Highcharts.Color,e._Highcharts.SeriesRegistry):e.Highcharts=t(e.Highcharts,e.Highcharts.Color,e.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(ce,ue,fe)=>(()=>{"use strict";var e,_={512:e=>{e.exports=fe},620:e=>{e.exports=ue},944:e=>{e.exports=ce}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return _[e](t,t.exports,n),t.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={},i=(n.d(t,{default:()=>le}),n(944)),i=n.n(i),s=n(620),s=n.n(s);(b=v=v||{}).getCenterOfPoints=function(e){var t=e.reduce((e,t)=>(e.x+=t.x,e.y+=t.y,e),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}},b.getDistanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},b.getAngleBetweenPoints=function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)},b.pointInPolygon=function({x:e,y:t},r){let n=r.length,i,s,o=!1;for(i=0,s=n-1;i<n;s=i++){var[a,l]=r[i],[c,u]=r[s];t<l!=t<u&&e<(c-a)*(t-l)/(u-l)+a&&(o=!o)}return o};let o=v,{getAngleBetweenPoints:p,getCenterOfPoints:a,getDistanceBetweenPoints:d}=o;function f(e,t){t=Math.pow(10,t);return Math.round(e*t)/t}function l(e){if(e<=0)throw Error("radius of circle must be a positive number.");return Math.PI*e*e}function c(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function u(e,t){let r=d(e,t),n=e.r,i=t.r,s=[];var o,a,l,c,u;return r<n+i&&r>Math.abs(n-i)&&(u=((o=n*n)-i*i+r*r)/(2*r),o=Math.sqrt(o-u*u),c=(a=e.x)+u*((l=t.x)-a)/r,t=(e=e.y)+u*((u=t.y)-e)/r,u=-o/r*(u-e),e=-o/r*(l-a),s=[{x:f(c+u,14),y:f(t-e,14)},{x:f(c-u,14),y:f(t+e,14)}]),s}function h(e){return e.reduce((e,i,s,t)=>{t=t.slice(s+1).reduce((e,t,r)=>{let n=[s,r+s+1];return e.concat(u(i,t).map(e=>(e.indexes=n,e)))},[]);return e.concat(t)},[])}function g(e,t){return d(e,t)<=t.r+1e-10}function y(t,e){return!e.some(function(e){return!g(t,e)})}function x(t){return h(t).filter(function(e){return y(e,t)})}(b=e=e||{}).round=f,b.getAreaOfCircle=l,b.getCircularSegmentArea=c,b.getOverlapBetweenCircles=function(e,t,r){let n=0;return n=r<e+t?f(n=r<=Math.abs(t-e)?l(e<t?e:t):c(e,e-(e=(e*e-t*t+r*r)/(2*r)))+c(t,t-(r-e)),14):n},b.getCircleCircleIntersection=u,b.getCirclesIntersectionPoints=h,b.isCircle1CompletelyOverlappingCircle2=function(e,t){return d(e,t)+t.r<e.r+1e-10},b.isPointInsideCircle=g,b.isPointInsideAllCircles=y,b.isPointOutsideAllCircles=function(t,e){return!e.some(function(e){return g(t,e)})},b.getCirclesIntersectionPolygon=x,b.getAreaOfIntersectionBetweenCircles=function(h){let n=x(h),i;if(1<n.length){let t=a(n),e=(n=n.map(function(e){return e.angle=p(t,e),e}).sort(function(e,t){return t.angle-e.angle}))[n.length-1],r=n.reduce(function(e,c){let u=e["startPoint"],f=a([u,c]),t=c.indexes.filter(function(e){return-1<u.indexes.indexOf(e)}).reduce(function(e,t){let r=h[t],n=p(r,c),i=p(r,u),s=i-n+(i<n?2*Math.PI:0),o=i-s/2,a=d(f,{x:r.x+r.r*Math.sin(o),y:r.y+r.r*Math.cos(o)}),l=r["r"];return a>2*l&&(a=2*l),e=!e||e.width>a?{r:l,largeArc:+(a>l),width:a,x:c.x,y:c.y}:e},null);var r;return t&&(r=t["r"],e.arcs.push(["A",r,r,0,t.largeArc,1,t.x,t.y]),e.startPoint=c),e},{startPoint:e,arcs:[]}).arcs;0!==r.length&&1!==r.length&&(r.unshift(["M",e.x,e.y]),i={center:t,d:r})}return i};let m=e,H={draw:function(t,e){let{animatableAttribs:r,onComplete:n,css:i,renderer:s}=e,o=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,a=t.graphic;if(e.attribs={...e.attribs,class:t.getClassName()},t.shouldDraw())a||(t.graphic=a="text"===e.shapeType?s.text():"image"===e.shapeType?s.image(e.imageUrl||"").attr(e.shapeArgs||{}):s[e.shapeType](e.shapeArgs||{}),a.add(e.group)),i&&a.css(i),a.attr(e.attribs).animate(r,!e.isNew&&o,n);else if(a){let e=()=>{t.graphic=a=a&&a.destroy(),"function"==typeof n&&n()};Object.keys(r).length?a.animate(r,void 0,()=>e()):e()}}};var v=n(512),b=n.n(v);let{pointClass:D}=b().seriesTypes["scatter"]["prototype"],X=i()["isNumber"],{getAreaOfCircle:k,getCircleCircleIntersection:U,getOverlapBetweenCircles:C,isPointInsideAllCircles:F,isPointInsideCircle:R,isPointOutsideAllCircles:W}=m,O=o["getDistanceBetweenPoints"],{extend:q,isArray:A,isNumber:Y,isObject:M,isString:G}=i();function w(e){let i={};return e.filter(e=>2===e.sets.length).forEach(n=>{n.sets.forEach((e,t,r)=>{M(i[e])||(i[e]={totalOverlap:0,overlapping:{}}),i[e]={totalOverlap:(i[e].totalOverlap||0)+n.value,overlapping:{...i[e].overlapping||{},[r[1-t]]:n.value}}})}),e.filter(T).forEach(e=>{var t=i[e.sets[0]];q(e,t)}),e}function P(e,t,r,n,i){let s=e(t),o=e(r),a=i||100,l=n||1e-10,c=r-t,u,f,h=1;if(r<=t)throw Error("a must be smaller than b.");if(0<s*o)throw Error("f(a) and f(b) must have opposite signs.");if(0===s)u=t;else if(0===o)u=r;else for(;h++<=a&&0!==f&&c>l;)c=(r-t)/2,0<s*(f=e(u=t+c))?t=u:r=u;return u}function I(e){let t=e.slice(0,-1),r=t.length,n=[],i=(e,t)=>(e.sum+=t[e.i],e);for(let e=0;e<r;e++)n[e]=t.reduce(i,{sum:0,i:e}).sum/r;return n}function S(t,r,n){var e=t+r;return n<=0?e:k(t<r?t:r)<=n?0:P(e=>n-C(t,r,e),0,e)}function T(e){return A(e.sets)&&1===e.sets.length}function E(e){let r={};return M(e)&&Y(e.value)&&-1<e.value&&A(e.sets)&&0<e.sets.length&&!e.sets.some(function(e){let t=!1;return!r[e]&&G(e)?r[e]=!0:t=!0,t})}function z(n,e){return e.reduce(function(e,t){let r=0;return 1<t.sets.length&&(t=t.value-function(e){let t=0;var r;return 2===e.length&&(r=e[0],e=e[1],t=C(r.r,e.r,O(r,e))),t}(t.sets.map(function(e){return n[e]})),r=Math.round(t*t*1e11)/1e11),e+r},0)}function J(e,t){return void 0!==t.totalOverlap&&void 0!==e.totalOverlap?t.totalOverlap-e.totalOverlap:NaN}let L={geometry:o,geometryCircles:m,addOverlapToSets:w,getCentroid:I,getDistanceBetweenCirclesByOverlap:S,getLabelWidth:function(i,s,e){function t(r,n){return P(e=>{var t={x:i.x+n*e,y:i.y};return-(r-e)+(F(t,s)&&W(t,o)?0:Number.MAX_VALUE)},0,r)}let r=s.reduce((e,t)=>Math.min(t.r,e),1/0),o=e.filter(e=>!R(i,e));return 2*Math.min(t(r,-1),t(r,1))},getMarginFromCircles:function(r,e,t){e=e.reduce((e,t)=>{t=t.r-O(r,t);return t<=e?t:e},Number.MAX_VALUE);return t.reduce((e,t)=>{t=O(r,t)-t.r;return t<=e?t:e},e)},isSet:T,layoutGreedyVenn:function(e){let g=[],y={};e.filter(e=>1===e.sets.length).forEach(e=>{y[e.sets[0]]=e.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(e.value/Math.PI)}});var t,r=(e,t)=>{let r=e.circle;r&&(r.x=t.x,r.y=t.y),g.push(e)};w(e);let n=e.filter(T).sort(J),x=(r(n.shift(),{x:0,y:0}),e.filter(e=>2===e.sets.length));for(t of n){let d=t.circle;if(d){let h=d.r,p=t.overlapping;r(t,g.reduce((e,t,r)=>{var n,i,s=t.circle;if(!s||!p)return e;let o=p[t.sets[0]],a=S(h,s.r,o),l=[{x:s.x+a,y:s.y},{x:s.x-a,y:s.y},{x:s.x,y:s.y+a},{x:s.x,y:s.y-a}];for(n of g.slice(r+1)){var c=n.circle,u=p[n.sets[0]];c&&(u=S(h,c.r,u),l=l.concat(U({x:s.x,y:s.y,r:a},{x:c.x,y:c.y,r:u})))}for(i of l){d.x=i.x,d.y=i.y;var f=z(y,x);f<e.loss&&(e.loss=f,e.coordinates=i)}return e},{loss:Number.MAX_VALUE,coordinates:void 0}).coordinates)}}return y},loss:z,nelderMead:function(s,e){function t(e,t){return e.fx-t.fx}let o=(r,e,n,i)=>e.map((e,t)=>r*e+n*i[t]),r=(e,t)=>(t.fx=s(t),e[e.length-1]=t,e),n=e=>{let r=e[0];return e.map(e=>{let t=o(.5,r,.5,e);return t.fx=s(t),t})},i=(e,t,r,n)=>{let i=o(r,e,n,t);return i.fx=s(i),i},a=(r=>{let e=r.length,n=Array(e+1);n[0]=r,n[0].fx=s(r);for(let t=0;t<e;++t){let e=r.slice();e[t]=e[t]?1.05*e[t]:.001,e.fx=s(e),n[t+1]=e}return n})(e);for(let e=0;e<100;e++){a.sort(t);var l=a[a.length-1],c=I(a),u=i(c,l,2,-1);if(u.fx<a[0].fx){var f=i(c,l,3,-2);a=r(a,f.fx<u.fx?f:u)}else if(u.fx>=a[a.length-2].fx){let e;a=u.fx>l.fx?(e=i(c,l,.5,.5)).fx<l.fx?r(a,e):n(a):(e=i(c,l,1.5,-.5)).fx<u.fx?r(a,e):n(a)}else a=r(a,u)}return a[0]},processVennData:function(e,i){let t=A(e)?e:[],r=t.reduce(function(e,t){var r;return t.sets&&E(r=t)&&T(r)&&0<r.value&&-1===e.indexOf(t.sets[0])&&e.push(t.sets[0]),e},[]).sort(),n=t.reduce(function(e,t){return t.sets&&E(t)&&!t.sets.some(function(e){return-1===r.indexOf(e)})&&(e[t.sets.sort().join(i)]={sets:t.sets,value:t.value||0}),e},{});return r.reduce(function(t,r,e,n){return n.slice(e+1).forEach(function(e){t.push(r+i+e)}),t},[]).forEach(function(e){var t;n[e]||(t={sets:e.split(i),value:0},n[e]=t)}),Object.keys(n).map(function(e){return n[e]})},sortByTotalOverlap:J},K=i()["animObject"],Q=s()["parse"],{getAreaOfIntersectionBetweenCircles:Z,getCirclesIntersectionPolygon:$,isCircle1CompletelyOverlappingCircle2:ee,isPointInsideAllCircles:te,isPointOutsideAllCircles:re}=m,ne=o["getCenterOfPoints"],j=b().seriesTypes["scatter"],{addEvent:ie,extend:se,isArray:oe,isNumber:B,isObject:ae,merge:V}=i();class N extends j{static getLabelPosition(n,i){let e=n.reduce((e,t)=>{var r=t.r/2;return[{x:t.x,y:t.y},{x:t.x+r,y:t.y},{x:t.x-r,y:t.y},{x:t.x,y:t.y+r},{x:t.x,y:t.y-r}].reduce((e,t)=>{var r=L.getMarginFromCircles(t,n,i);return e.margin<r&&(e.point=t,e.margin=r),e},e)},{point:void 0,margin:-Number.MAX_VALUE}).point,t=L.nelderMead(e=>-L.getMarginFromCircles({x:e[0],y:e[1]},n,i),[e.x,e.y]);return e=te(e={x:t[0],y:t[1]},n)&&re(e,i)?e:1<n.length?ne($(n)):{x:n[0].x,y:n[0].y}}static getLabelValues(e,t){let n=e.sets,r=t.reduce((e,t)=>{var r=-1<n.indexOf(t.sets[0]);return t.circle&&e[r?"internal":"external"].push(t.circle),e},{internal:[],external:[]});r.external=r.external.filter(t=>r.internal.some(e=>!ee(t,e)));e=N.getLabelPosition(r.internal,r.external);return{position:e,width:L.getLabelWidth(e,r.internal,r.external)}}static layout(e){let s={},o={};if(0<e.length){let n=L.layoutGreedyVenn(e),i=e.filter(L.isSet);for(var a of e){let e=a.sets,t=e.join(),r=L.isSet(a)?n[t]:Z(e.map(e=>n[e]));r&&(s[t]=r,o[t]=N.getLabelValues(a,i))}}return{mapOfIdToShape:s,mapOfIdToLabelValues:o}}static getScale(e,t,r){var n=r.bottom-r.top,i=r.right-r.left,s=(r.right+r.left)/2,r=(r.top+r.bottom)/2,i=Math.min(0<i?1/i*e:1,0<n?1/n*t:1);return{scale:i,centerX:e/2-s*i,centerY:t/2-r*i}}static updateFieldBoundaries(e,t){var r=t.x-t.r,n=t.x+t.r,i=t.y+t.r,t=t.y-t.r;return(!B(e.left)||e.left>r)&&(e.left=r),(!B(e.right)||e.right<n)&&(e.right=n),(!B(e.top)||e.top>t)&&(e.top=t),(!B(e.bottom)||e.bottom<i)&&(e.bottom=i),e}animate(e){if(!e){var n=K(this.options.animation);for(let r of this.points){var i=r.shapeArgs;if(r.graphic&&i){let e={},t={};i.d?e.opacity=.001:(e.r=0,t.r=i.r),r.graphic.attr(e).animate(t,n),i.d&&setTimeout(()=>{r?.graphic?.animate({opacity:1})},n.duration)}}}}drawPoints(){var e,t=this.chart,r=this.group,n=this.points||[],i=t.renderer;for(e of n){var s={zIndex:oe(e.sets)?e.sets.length:0},o=e.shapeArgs;t.styledMode||se(s,this.pointAttribs(e,e.state)),H.draw(e,{isNew:!e.graphic,animatableAttribs:o,attribs:s,group:r,renderer:i,shapeType:o?.d?"path":"circle"})}}init(){j.prototype.init.apply(this,arguments),delete this.opacity}pointAttribs(e,t){var r=this.options||{},n=e?.options||{},t=t&&r.states[t]||{},r=V(r,{color:e?.color},n,t);return{fill:Q(r.color).brighten(r.brightness).get(),opacity:r.opacity,stroke:r.borderColor,"stroke-width":r.borderWidth,dashstyle:r.borderDashStyle}}translate(){var l,e=this.chart;this.dataTable.modified=this.dataTable,this.generatePoints();let t=L.processVennData(this.options.data,N.splitter),{mapOfIdToShape:c,mapOfIdToLabelValues:u}=N.layout(t),r=Object.keys(c).filter(e=>{e=c[e];return e&&B(e.r)}).reduce((e,t)=>N.updateFieldBoundaries(e,c[t]),{top:0,bottom:0,left:0,right:0}),n=N.getScale(e.plotWidth,e.plotHeight,r),f=n.scale,h=n.centerX,p=n.centerY;for(l of this.points){let e=oe(l.sets)?l.sets:[],t=e.join(),r=c[t],n=u[t]||{},i=l.options?.dataLabels,s,o=n.width,a=n.position;if(r){if(r.r)s={x:h+r.x*f,y:p+r.y*f,r:r.r*f};else if(r.d){let e=r.d;e.forEach(e=>{"M"===e[0]?(e[1]=h+e[1]*f,e[2]=p+e[2]*f):"A"===e[0]&&(e[1]=e[1]*f,e[2]=e[2]*f,e[6]=h+e[6]*f,e[7]=p+e[7]*f)}),s={d:e}}a?(a.x=h+a.x*f,a.y=p+a.y*f):a={},B(o)&&(o=Math.round(o*f))}l.shapeArgs=s,a&&s&&(l.plotX=a.x,l.plotY=a.y),o&&s&&(l.dlOptions=V(!0,{style:{width:o}},ae(i,!0)?i:void 0)),l.name=l.options.name||e.join("∩")}}}N.splitter="highcharts-split",N.defaultOptions=V(j.defaultOptions,{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,legendType:"point",states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"},legendSymbol:"rectangle"}),se(N.prototype,{axisTypes:[],directTouch:!0,isCartesian:!1,pointArrayMap:["value"],pointClass:class extends D{isValid(){return X(this.value)}shouldDraw(){return!!this.shapeArgs}},utils:L}),ie(N,"afterSetOptions",function(e){let t=e.options.states||{};if(this.is("venn"))for(var r of Object.keys(t))t[r].halo=!1}),b().registerSeriesType("venn",N);let le=i();return t.default})());