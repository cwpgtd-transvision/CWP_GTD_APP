!function(t,s){"object"==typeof exports&&"object"==typeof module?module.exports=s(t._Highcharts,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/variwide",["highcharts/highcharts"],function(t){return s(t,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/variwide"]=s(t._Highcharts,t._Highcharts.SeriesRegistry):t.Highcharts=s(t.Highcharts,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(H,R)=>(()=>{"use strict";var i={512:t=>{t.exports=R},944:t=>{t.exports=H}},e={};function r(t){var s=e[t];if(void 0!==s)return s.exports;s=e[t]={exports:{}};return i[t](s,s.exports,r),s.exports}r.n=t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return r.d(s,{a:s}),s},r.d=(t,s)=>{for(var i in s)r.o(s,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},r.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s);var t={},s=(r.d(t,{default:()=>C}),r(944)),s=r.n(s),o=r(512),a=r.n(o);const n=s()["composed"],{addEvent:h,pushUnique:c,wrap:p}=s();function l(t){this.variwide&&this.cross&&this.cross.attr("stroke-width",t.point?.crosshairWidth)}function d(){const e=this;this.variwide&&this.chart.labelCollectors.push(function(){return e.tickPositions.filter(t=>!!e.ticks[t].label).map((t,s)=>{const i=e.ticks[t].label;return i.labelrank=e.zData[s],i})})}function x(t){var s=this.axis,i=s.horiz?"x":"y";s.variwide&&(this[i+"Orig"]=t.pos[i],this.postTranslate(t.pos,i,this.pos))}function u(t,s,i){const e=this.axis;let r=t[s]-e.pos;e.horiz||(r=e.len-r),r=e.series[0].postTranslate(i,r),e.horiz||(r=e.len-r),t[s]=e.pos+r}function f(t,s,i,e,r,o,a,n){const h=Array.prototype.slice.call(arguments,1),c=r?"x":"y";this.axis.variwide&&"number"==typeof this[c+"Orig"]&&(h[r?0:1]=this[c+"Orig"]);r=t.apply(this,h);return this.axis.variwide&&this.axis.categories&&this.postTranslate(r,c,this.pos),r}var o={compose:function(t,s){if(c(n,"Variwide")){const i=s.prototype;h(t,"afterDrawCrosshair",l),h(t,"afterRender",d),h(s,"afterGetPosition",x),i.postTranslate=u,p(i,"getLabelPosition",f)}}},{pointClass:g}=a().seriesTypes["column"]["prototype"];const y=s()["isNumber"];class v extends g{isValid(){return y(this.y)&&y(this.z)}}var g=v,m={pointPadding:0,groupPadding:0},w=a().seriesTypes["column"];const{addEvent:b,arrayMin:A,arrayMax:k,crisp:T,extend:P,merge:O,pick:z}=s();class M extends w{processData(t){this.totalZ=0,this.relZ=[],a().seriesTypes.column.prototype.processData.call(this,t);const s=this.getColumn("z");(this.xAxis.reversed?s.slice().reverse():s).forEach(function(t,s){this.relZ[s]=this.totalZ,this.totalZ+=t},this),this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=s)}postTranslate(t,s,i){const e=this.xAxis,r=this.relZ,o=e.reversed?r.length-t:t,a=e.reversed?-1:1,n=e.toPixels(e.reversed?(e.dataMax||0)+e.pointRange:e.dataMin||0),h=e.toPixels(e.reversed?e.dataMin||0:(e.dataMax||0)+e.pointRange),c=Math.abs(h-n),p=this.totalZ,l=this.chart.inverted?h-(this.chart.plotTop-a*e.minPixelPadding):n-this.chart.plotLeft-a*e.minPixelPadding,d=o/r.length*c,x=(o+a)/r.length*c,u=z(r[o],p)/p*c,f=z(r[o+a],p)/p*c,g=s-(l+d);return i&&(i.crosshairWidth=f-u),l+u+g*(f-u)/(x-d)}translate(){this.crispOption=this.options.crisp,this.options.crisp=!1,super.translate(),this.options.crisp=this.crispOption}correctStackLabels(){var t=this,s=t.options,i=t.yAxis;let e,r,o,a;for(const n of t.points)a=n.x,r=n.shapeArgs.width,(o=i.stacking.stacks[(t.negStacks&&n.y<(s.startFromThreshold?0:s.threshold)?"-":"")+t.stackKey])&&(e=o[a])&&!n.isNull&&e.setOffset(-r/2||0,r||0,void 0,void 0,n.plotX,t.xAxis)}getXExtremes(t){var s=k(t),i=this.getColumn("z")[t.indexOf(s)];return{min:A(t),max:s+(this.xAxis.categories?0:i)}}}M.compose=o.compose,M.defaultOptions=O(w.defaultOptions,m),b(M,"afterColumnTranslate",function(){const i=this.xAxis,e=this.chart.inverted;let r=-1;for(const o of this.points){++r;const a=o.shapeArgs||{},{x:n=0,width:h=0}=a,{plotX:c=0,tooltipPos:p,z:l=0}=o;let t,s;s=i.variwide?(t=this.postTranslate(r,n,o),this.postTranslate(r,n+h)):(t=c,i.translate(o.x+l,!1,!1,!1,!0)),this.crispOption&&(t=T(t,this.borderWidth),s=T(s,this.borderWidth)),a.x=t,a.width=Math.max(s-t,1),o.plotX=(t+s)/2,p&&(e?p[1]=i.len-a.x-a.width/2:p[0]=a.x+a.width/2)}this.options.stacking&&this.correctStackLabels()},{order:2}),P(M.prototype,{irregularWidths:!0,keysAffectYAxis:["y"],pointArrayMap:["y","z"],parallelArrays:["x","y","z"],pointClass:g}),a().registerSeriesType("variwide",M);const S=M;o=s();S.compose(o.Axis,o.Tick);const C=s();return t.default})());