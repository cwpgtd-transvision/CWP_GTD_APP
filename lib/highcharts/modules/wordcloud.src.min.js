!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/wordcloud"]=e(t._Highcharts,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(Z,$)=>(()=>{"use strict";var i={512:t=>{t.exports=$},944:t=>{t.exports=Z}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;e=o[t]={exports:{}};return i[t](e,e.exports,a),e.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(a.d(t,{default:()=>Q}),a(944)),n=a.n(e);const z={draw:function(t,e){const{animatableAttribs:i,onComplete:o,css:a,renderer:n}=e;var r=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation;let s=t.graphic;if(e.attribs={...e.attribs,class:t.getClassName()},t.shouldDraw())s||(s="text"===e.shapeType?n.text():"image"===e.shapeType?n.image(e.imageUrl||"").attr(e.shapeArgs||{}):n[e.shapeType](e.shapeArgs||{}),(t.graphic=s).add(e.group)),a&&s.css(a),s.attr(e.attribs).animate(i,!e.isNew&&r,o);else if(s){const l=()=>{t.graphic=s=s&&s.destroy(),"function"==typeof o&&o()};Object.keys(i).length?s.animate(i,void 0,()=>l()):l()}}};var e=a(512),e=a.n(e),{pointClass:r}=e().seriesTypes["column"]["prototype"];const s=n()["extend"];class l extends r{isValid(){return!0}}s(l.prototype,{weight:1});var r=l,h={allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}};const d=n()["deg2rad"],{extend:c,find:p,isNumber:g,isObject:u,merge:m}=n();function f(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function x(t){let e,r=t.axes||[];return r.length||(r=[],e=e=t.concat([t[0]]),e.reduce((t,e)=>{n=(a=e)[0]-t[0];const i=[[-(a=e[1]-t[1]),n],[a,-n]],o=i[0];var a,n;return p(r,t=>t[0]===o[0]&&t[1]===o[1])||r.push(o),e}),t.axes=r),r}function y(t,i){t=t.map(t=>{var e=t[0],t=t[1];return e*i[0]+t*i[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function b(o,a){const t=x(o),e=x(a),i=t.concat(e),n=!p(i,t=>{var e=o,i=a;return e=y(e,t),!!((i=y(i,t)).min>e.max||i.max<e.min)});return n}function M(i,t){function o(t){let e=f(a,t.rect);return e=e&&(i.rotation%90||t.rotation%90)?b(n,t.polygon):e}const a=i.rect,n=i.polygon,e=i.lastCollidedWith;let r=!1;return e&&!(r=o(e))&&delete i.lastCollidedWith,r=r||!!p(t,function(t){var e=o(t);return e&&(i.lastCollidedWith=t),e})}function w(t,e){var i=4*t,o=Math.ceil((Math.sqrt(i)-1)/2),a=t=>"boolean"==typeof t;let n=2*o+1,r=Math.pow(n,2),s=!1;return--n,t<=1e4&&(a(s)&&i>=r-n&&(s={x:o-(r-i),y:-o}),r-=n,a(s)&&i>=r-n&&(s={x:-o,y:-o+(r-i)}),r-=n,(s=a(s)?i>=r-n?{x:-o+(r-i),y:o}:{x:o,y:o-(r-i-n)}:s).x*=5,s.y*=5),s}function S(t,e){e=g(e)?e:14,e=Math.pow(10,e);return Math.round(t*e)/e}function v(t,e){var i=t[0],t=t[1],e=d*-e,o=Math.cos(e),e=Math.sin(e);return[S(i*o-t*e),S(i*e+t*o)]}function P(t,e,i){t=v([t[0]-e[0],t[1]-e[1]],i);return[t[0]+e[0],t[1]+e[1]]}var D={archimedeanSpiral:function(t,e){var e=(e=e.field).width*e.width+e.height*e.height,i=.8*t;let o=!1;return t<=1e4&&(o={x:i*Math.cos(i),y:i*Math.sin(i)},Math.min(Math.abs(o.x),Math.abs(o.y))<e||(o=!1)),o},extendPlayingField:function(t,e){let i,o,a,n,r,s,l,h;return h=u(t)&&u(e)?(i=e.bottom-e.top,o=e.right-e.left,a=t.ratioX,s=(r=i*(n=t.ratioY)<o*a?o:i)*a,l=r*n,m(t,{width:t.width+2*s,height:t.height+2*l})):t},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var i=e[0],e=e[1];return t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,i){var i=i.reduce(function(t,e){var e=e.dimensions,i=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=i*i,t},{maxHeight:0,maxWidth:0,area:0}),i=Math.max(i.maxHeight,i.maxWidth,.85*Math.sqrt(i.area)),o=e<t?t/e:1;return{width:i*o,height:i*(e=t<e?e/t:1),ratioX:o,ratioY:e}},getPolygon:function(t,e,i,o,a){const n=[t,e],r=t-i/2,s=t+i/2,l=e-o/2,h=e+o/2,d=[[r,l],[s,l],[s,h],[r,h]];return d.map(function(t){return P(t,n,-a)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,i,o){let a=!1;return a=g(t)&&g(e)&&g(i)&&g(o)&&0<t&&-1<e&&i<o?i+e%t*((o-i)/(t-1||1)):a},getScale:function(t,e,i){var o=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),i=2*Math.max(Math.abs(i.left),Math.abs(i.right));return Math.min(0<i?1/i*t:1,0<o?1/o*e:1)},getSpiral:function(e,i){const o=[];for(let t=1;t<1e4;t++)o.push(e(t,i));return t=>t<=1e4&&o[t-1]},intersectionTesting:function(t,e){const i=e.placed,o=e.field,a=e.rectangle,n=e.polygon,r=e.spiral,s=t.rect=c({},a);let l=1,h={x:0,y:0};for(t.polygon=n,t.rotation=e.rotation;!1!==h&&(M(t,i)||function(t,e){const i=-e.width/2,o=e.width/2,a=-e.height/2,n=e.height/2;return!(i<t.left&&o>t.right&&a<t.top&&n>t.bottom)}(s,o));)h=r(l),u(h)&&(s.left=a.left+h.x,s.right=a.right+h.x,s.top=a.top+h.y,s.bottom=a.bottom+h.y,t.polygon=function(e,i,t){return t.map(function(t){return[t[0]+e,t[1]+i]})}(h.x,h.y,n)),l++;return h},isPolygonsColliding:b,isRectanglesIntersecting:f,rectangularSpiral:function(t,e){const i=w(t),o=e.field;return i&&(i.x*=o.ratioX,i.y*=o.ratioY),i},rotate2DToOrigin:v,rotate2DToPoint:P,squareSpiral:w,updateFieldBoundaries:function(t,e){return(!g(t.left)||t.left>e.left)&&(t.left=e.left),(!g(t.right)||t.right<e.right)&&(t.right=e.right),(!g(t.top)||t.top>e.top)&&(t.top=e.top),(!g(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}},A=n()["noop"],F=e().seriesTypes["column"];const{extend:Y,isArray:N,isNumber:C,isObject:H,merge:W}=n(),{archimedeanSpiral:_,extendPlayingField:R,getBoundingBoxFromPolygon:j,getPlayingField:E,getPolygon:L,getRandomPosition:X,getRotation:T,getScale:q,getSpiral:U,intersectionTesting:O,isPolygonsColliding:V,rectangularSpiral:k,rotate2DToOrigin:I,rotate2DToPoint:G,squareSpiral:J,updateFieldBoundaries:K}=D;class B extends F{pointAttribs(t,e){const i=n().seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete i.stroke,delete i["stroke-width"],i}deriveFontSize(t,e,i){t=C(t)?t:0,e=C(e)?e:1,i=C(i)?i:1;return Math.floor(Math.max(i,t*e))}drawPoints(){if(!(this.zooming||this.defaultScale&&this.group.scaleX!==this.defaultScale)){const a=this,n=a.hasRendered,r=a.xAxis,s=a.yAxis,l=a.chart,h=a.group,d=a.options,c=d.animation,p=d.allowExtendPlayingField,g=l.renderer,u=[],m=a.placementStrategy[d.placementStrategy],f=d.rotation,x=a.points.map(function(t){return t.weight}),y=Math.max.apply(null,x),b=a.points.concat().sort((t,e)=>e.weight-t.weight);let t=g.text().add(h),i;a.group.attr({scaleX:1,scaleY:1});for(const M of b){var e=1/y*M.weight,e=a.deriveFontSize(e,d.maxFontSize,d.minFontSize),e=Y({fontSize:e+"px"},d.style),e=(t.css(e).attr({x:0,y:0,text:M.name}),t.getBBox(!0));M.dimensions={height:e.height,width:e.width}}i=E(r.len,s.len,b);var o=U(a.spirals[d.spiral],{field:i});for(const w of b){const S=1/y*w.weight,v=a.deriveFontSize(S,d.maxFontSize,d.minFontSize),P=Y({fontSize:v+"px"},d.style),A=m(w,{data:b,field:i,placed:u,rotation:f}),F=Y(a.pointAttribs(w,w.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:A.x,y:A.y,text:w.name,rotation:C(A.rotation)?A.rotation:void 0}),X=L(A.x,A.y,w.dimensions.width,w.dimensions.height,A.rotation),T=j(X);let t=O(w,{rectangle:T,polygon:X,field:i,placed:u,spiral:o,rotation:A.rotation}),e;!t&&p&&(i=R(i,T),t=O(w,{rectangle:T,polygon:X,field:i,placed:u,spiral:o,rotation:A.rotation})),H(t)?(F.x=(F.x||0)+t.x,F.y=(F.y||0)+t.y,T.left+=t.x,T.right+=t.x,T.top+=t.y,T.bottom+=t.y,i=K(i,T),u.push(w),w.isNull=!1,w.isInside=!0):w.isNull=!0,c&&(e={x:F.x,y:F.y},n?(delete F.x,delete F.y):(F.x=0,F.y=0)),z.draw(w,{animatableAttribs:e,attribs:F,css:P,group:h,renderer:g,shapeArgs:void 0,shapeType:"text"})}t=t.destroy(),a.defaultScale=q(r.len,s.len,i),a.field=i,a.group.attr({scaleX:a.defaultScale,scaleY:a.defaultScale})}}hasData(){return H(this)&&!0===this.visible&&N(this.points)&&0<this.points.length}getPlotBox(t){const e=this,{chart:i,group:o,zooming:a}=this,{plotSizeX:n=0,plotSizeY:r=0,inverted:s}=i,l=e[s?"yAxis":"xAxis"],h=e[s?"xAxis":"yAxis"],d=l?l.len:i.plotWidth,c=h?h.len:i.plotHeight,p=l?l.left:i.plotLeft,g=h?h.top:i.plotTop,u=e.field;let m=0,f=0,x=p+d/2,y=g+c/2,b=x,M=y,w=e.defaultScale||1,S=0,v=0;var P,A,F;return u&&(S=2*Math.max(Math.abs(u.top),Math.abs(u.bottom)),v=2*Math.max(Math.abs(u.left),Math.abs(u.right))),s&&([v,S]=[S,v]),o&&a&&(w=Math.max(a.scale,e.defaultScale||1),P=p+Math.max(v*w,d)/2,A=g+Math.max(S*w,c)/2,F=w-(o.scaleX||1),m=F*((n-v)/2+a.zoomX*n-d/2),f=F*((r-S)/2+a.zoomY*r-c/2),"series"===t&&(a.x=Math.max(0,Math.min(1-a.width,a.x+a.panX/a.scale)),m+=a.panX*n,a.panX=0,a.y=Math.max(0,Math.min(1-a.height,a.y+a.panY/a.scale)),f+=a.panY*r,a.panY=0),C(o.translateX)&&C(o.translateY)&&(b=o.translateX,M=o.translateY),x=b-m,(y=M-f)>A?y=A:y<2*g+c-A&&(y=2*g+c-A),x>P?x=P:x<2*p+d-P&&(x=2*p+d-P)),{translateX:x,translateY:y,scaleX:w,scaleY:w}}}B.defaultOptions=W(F.defaultOptions,h),Y(B.prototype,{animate:A,animateDrilldown:A,animateDrillupFrom:A,isCartesian:!1,pointClass:r,setClip:A,placementStrategy:{random:function(t,e){var i=e.field,e=e.rotation;return{x:X(i.width)-i.width/2,y:X(i.height)-i.height/2,rotation:T(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:T(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:_,rectangular:k,square:J},utils:{extendPlayingField:R,getRotation:T,isPolygonsColliding:V,rotate2DToOrigin:I,rotate2DToPoint:G}}),e().registerSeriesType("wordcloud",B);const Q=n();return t.default})());