!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Templating):"function"==typeof define&&define.amd?define("highcharts/modules/datagrouping",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry,t.Templating)}):"object"==typeof exports?exports["highcharts/modules/datagrouping"]=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Templating):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.Templating)}("undefined"==typeof window?this:window,(ft,yt,xt)=>(()=>{"use strict";let o;var t,i={512:t=>{t.exports=yt},944:t=>{t.exports=ft},984:t=>{t.exports=xt}},a={};function r(t){var e=a[t];if(void 0!==e)return e.exports;e=a[t]={exports:{}};return i[t](e,e.exports,r),e.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var e={},n=(r.d(e,{default:()=>mt}),r(944)),s=r.n(n);let H={},{arrayMax:l,arrayMin:u,correctFloat:S,extend:k,isNumber:h}=s();function p(t){let e=t.length,i=d(t);return i=h(i)&&e?S(i/e):i}function d(t){let e=t.length,i;if(!e&&t.hasNulls)i=null;else if(e)for(i=0;e--;)i+=t[e];return i}n={average:p,averages:function(){let e=[];return[].forEach.call(arguments,function(t){e.push(p(t))}),void 0===e[0]?void 0:e},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?l(t):t.hasNulls?null:void 0},hlc:function(t,e,i){if(t=H.high(t),e=H.low(e),i=H.close(i),h(t)||h(e)||h(i))return[t,e,i]},low:function(t){return t.length?u(t):t.hasNulls?null:void 0},ohlc:function(t,e,i,o){if(t=H.open(t),e=H.high(e),i=H.low(i),o=H.close(o),h(t)||h(e)||h(i)||h(o))return[t,e,i,o]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,e){return t=H.low(t),e=H.high(e),h(t)||h(e)?[t,e]:null===t&&null===e?null:void 0},sum:d};k(H,n);let R={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:c,extend:I,merge:L,pick:g}=s();function m(e){let i=this,t=i.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!e.hasExtremesChanged)})}function j(){let t=this.series,e=t.length,i=0,o=!1,a,r;for(;e--;)(r=t[e].options.dataGrouping)&&(i=Math.max(i,g(r.groupPixelWidth,R.common.groupPixelWidth)),a=(t[e].dataTable.modified||t[e].dataTable).rowCount,(t[e].groupPixelWidth||a>this.chart.plotSizeX/i||a&&r.forced)&&(o=!0));return o?i:0}function Y(){this.series.forEach(function(t){t.hasProcessed=!1})}function _(e,t){let i;if(t=g(t,!0),e=e||{forced:!1,units:null},this instanceof o)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:e},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof e?e:L(e,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}let z={compose:function(t){var e=(o=t).prototype;e.applyGrouping||(c(t,"afterSetScale",Y),c(t,"postProcessData",m),I(e,{applyGrouping:m,getGroupPixelWidth:j,setDataGrouping:_}))}},{setLength:q,splice:f}=((M=b=b||{}).setLength=function(t,e,i){return Array.isArray(t)?(t.length=e,t):t[i?"subarray":"slice"](0,e)},M.splice=function(t,e,i,o,a=[]){if(Array.isArray(t))return Array.isArray(a)||(a=Array.from(a)),{removed:t.splice(e,i,...a),array:t};let r=Object.getPrototypeOf(t).constructor,n=t[o?"subarray":"slice"](e,e+i),s=new r(t.length-i+a.length);return s.set(t.subarray(0,e),0),s.set(a,e),s.set(t.subarray(e+i),e+a.length),{removed:n,array:s}},b),{fireEvent:y,objectEach:x,uniqueKey:G}=s(),X=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||G(),(this.modified=this).rowCount=0,this.versionTag=G();let i=0;x(t.columns||{},(t,e)=>{this.columns[e]=t.slice(),i=Math.max(i,t.length)}),this.applyRowCount(i)}applyRowCount(i){this.rowCount=i,x(this.columns,(t,e)=>{t.length!==i&&(this.columns[e]=q(t,i))})}deleteRows(o,a=1){if(0<a&&o<this.rowCount){let i=0;x(this.columns,(t,e)=>{this.columns[e]=f(t,o,a).array,i=t.length}),this.rowCount=i}y(this,"afterDeleteRows",{rowIndex:o,rowCount:a}),this.versionTag=G()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(e,t){return(t||Object.keys(this.columns)).map(t=>this.columns[t]?.[e])}setColumn(t,e=[],i=0,o){this.setColumns({[t]:e},i,o)}setColumns(t,e,i){let o=this.rowCount;x(t,(t,e)=>{this.columns[e]=t.slice(),o=t.length}),this.applyRowCount(o),i?.silent||(y(this,"afterSetColumns"),this.versionTag=G())}setRow(t,o=this.rowCount,a,r){let n=this["columns"],s=a?this.rowCount+1:o+1;x(t,(t,e)=>{let i=n[e]||!1!==r?.addColumns&&Array(s);i&&(a?i=f(i,o,0,!0,[t]).array:i[o]=t,n[e]=i)}),s>this.rowCount&&this.applyRowCount(s),r?.silent||(y(this,"afterSetRows"),this.versionTag=G())}},{addEvent:B,getMagnitude:U,normalizeTickInterval:K,timeUnits:v}=s();{var M=t=t||{};function J(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function Q(){"datetime"!==this.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new P(this))}M.compose=function(t){return t.keepProps.includes("dateTime")||(t.keepProps.push("dateTime"),t.prototype.getTimeTicks=J,B(t,"afterSetType",Q)),t};class P{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){let i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=i[i.length-1],a=v[o[0]],r=o[1],n;for(n=0;n<i.length&&(a=v[(o=i[n])[0]],r=o[1],!(i[n+1]&&t<=(a*r[r.length-1]+v[i[n+1][0]])/2));n++);a===v.year&&t<5*a&&(r=[1,2,5]);e=K(t/a,r,"year"===o[0]?Math.max(U(t/a),1):1);return{unitRange:a,count:e,unitName:o[0]}}getXDateFormat(t,e){let i=this["axis"],o=i.chart.time;return i.closestPointRange?o.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||o.resolveDTLFormat(e.year).main:o.resolveDTLFormat(e.day).main}}M.Additions=P}let V=t;var b=r(512);let F=r.n(b)()["series"]["prototype"],{addEvent:A,defined:O,error:W,extend:Z,isNumber:E,merge:N,pick:$,splat:tt}=s(),et=F.generatePoints;function it(f){let y,x,G=this.chart,v=this.options.dataGrouping,t=!1!==this.allowDG&&v&&$(v.enabled,G.options.isStock),M=this.reserveSpace(),e=this.currentDataGrouping,b,A,i=!1;t&&!this.requireSorting&&(this.requireSorting=i=!0);f=0==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!f)||!t;if(i&&(this.requireSorting=!1),!f){this.destroyGroupedData();let u=!v.groupAll&&this.dataTable.modified||this.dataTable,h=this.getColumn("x",!v.groupAll),p=G.plotSizeX,d=this.xAxis,c=d.getExtremes(),g=d.options.ordinal,m=this.groupPixelWidth;if(m&&h&&u.rowCount&&p&&E(c.min)){x=!0,this.isDirty=!0,this.points=null;let t=c.min,e=c.max,i=g&&d.ordinal&&d.ordinal.getGroupIntervalFactor(t,e,this)||1,o=m*(e-t)/p*i,a=d.getTimeTicks(V.Additions.prototype.normalizeTimeTickInterval(o,v.units||R.units),Math.min(t,h[0]),Math.max(e,h[h.length-1]),d.options.startOfWeek,h,this.closestPointRange),r=F.groupData.apply(this,[u,a,v.approximation]),n=r.modified,s=n.getColumn("x",!0),l=0;for(v?.smoothed&&n.rowCount&&(v.firstAnchor="firstPoint",v.anchor="middle",v.lastAnchor="lastPoint",W(32,!1,G,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),y=1;y<a.length;y++)a.info.segmentStarts&&-1!==a.info.segmentStarts.indexOf(y)||(l=Math.max(a[y]-a[y-1],l));(b=a.info).gapSize=l,this.closestPointRange=a.info.totalRange,this.groupMap=r.groupMap,this.currentDataGrouping=b;var f=this,D=s||[],T=e,w=f.options.dataGrouping,C=f.currentDataGrouping&&f.currentDataGrouping.gapSize,P=f.getColumn("x");if(w&&P.length&&C&&f.groupMap){let t=D.length-1,e=w.anchor,i=w.firstAnchor,o=w.lastAnchor,a=D.length-1,r=0;if(i&&P[0]>=D[0]){let t;r++;var w=f.groupMap[0].start,S=f.groupMap[0].length;E(w)&&E(S)&&(t=w+(S-1)),D[0]={start:D[0],middle:D[0]+.5*C,end:D[0]+C,firstPoint:P[0],lastPoint:t&&P[t]}[i]}if(0<t&&o&&C&&D[t]>=T-C&&(a--,w=f.groupMap[f.groupMap.length-1].start,D[t]={start:D[t],middle:D[t]+.5*C,end:D[t]+C,firstPoint:w&&P[w],lastPoint:P[P.length-1]}[o]),e&&"start"!==e)for(var k=C*{middle:.5,end:1}[e];a>=r;)D[a]+=k,a--}M&&s&&(O((S=s)[0])&&E(d.min)&&E(d.dataMin)&&S[0]<d.min&&((!O(d.options.min)&&d.min<=d.dataMin||d.min===d.dataMin)&&(d.min=Math.min(S[0],d.min)),d.dataMin=Math.min(S[0],d.dataMin)),O(S[S.length-1])&&E(d.max)&&E(d.dataMax)&&S[S.length-1]>d.max&&((!O(d.options.max)&&E(d.dataMax)&&d.max>=d.dataMax||d.max===d.dataMax)&&(d.max=Math.max(S[S.length-1],d.max)),d.dataMax=Math.max(S[S.length-1],d.dataMax))),v.groupAll&&(this.allGroupedTable=n,s=(n=(A=this.cropData(n,d.min||0,d.max||0)).modified).getColumn("x"),this.cropStart=A.start),this.dataTable.modified=n}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=x,this.preventGraphAnimation=(e&&e.totalRange)!==(b&&b.totalRange)}}function D(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function ot(){et.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function at(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function T(t,e,i){let o=t.getColumn("x",!0)||[],a=t.getColumn("y",!0),r=this,n=r.data,s=r.options&&r.options.data,l=[],u=new X,h=[],p=t.rowCount,d=!!a,c=[],g=r.pointArrayMap,m=g&&g.length,f=["x"].concat(g||["y"]),y=(g||["y"]).map(()=>[]),x=this.options.dataGrouping&&this.options.dataGrouping.groupAll,G,v,M,b=0,A=0,D="function"==typeof i?i:i&&H[i]?H[i]:H[r.getDGApproximation&&r.getDGApproximation()||"average"];if(m){let t=g.length;for(;t--;)c.push([])}else c.push([]);var T=m||1;for(let t=0;t<=p;t++)if(!(o[t]<e[0])){for(;void 0!==e[b+1]&&o[t]>=e[b+1]||t===p;){if(G=e[b],r.dataGroupInfo={start:x?A:r.cropStart+A,length:c[0].length,groupStart:G},M=D.apply(r,c),r.pointClass&&!O(r.dataGroupInfo.options)&&(r.dataGroupInfo.options=N(r.pointClass.prototype.optionsToObject.call({series:r},r.options.data[r.cropStart+A])),f.forEach(function(t){delete r.dataGroupInfo.options[t]})),void 0!==M){l.push(G);var w=tt(M);for(let t=0;t<w.length;t++)y[t].push(w[t]);h.push(r.dataGroupInfo)}A=t;for(let t=0;t<T;t++)c[t].length=0,c[t].hasNulls=!1;if(b+=1,t===p)break}if(t===p)break;if(g){var C,P=x?t:r.cropStart+t,S=n&&n[P]||r.pointClass.prototype.applyOptions.apply({series:r},[s[P]]);for(let t=0;t<m;t++)E(C=S[g[t]])?c[t].push(C):null===C&&(c[t].hasNulls=!0)}else E(v=d?a[t]:null)?c[0].push(v):null===v&&(c[0].hasNulls=!0)}let k={x:l};return(g||["y"]).forEach((t,e)=>{k[t]=y[e]}),u.setColumns(k),{groupMap:h,modified:u}}function rt(t){let e=t.options,i=this.type,o=this.chart.options.plotOptions,a=this.useCommonDataGrouping&&R.common,r=R.seriesSpecific,n=s().defaultOptions.plotOptions[i].dataGrouping;o&&(r[i]||a)&&(t=this.chart.rangeSelector,n=n||N(R.common,r[i]),e.dataGrouping=N(a,n,o.series&&o.series.dataGrouping,o[i].dataGrouping,this.userOptions.dataGrouping,!e.isInternal&&t&&E(t.selected)&&t.buttonOptions[t.selected].dataGrouping))}let w={compose:function(t){var e=t.prototype;e.applyGrouping||(A(t.prototype.pointClass,"update",function(){if(this.dataGroup)return W(24,!1,this.series.chart),!1}),A(t,"afterSetOptions",rt),A(t,"destroy",D),Z(e,{applyGrouping:it,destroyGroupedData:D,generatePoints:ot,getDGApproximation:at,groupData:T}))},groupData:T};M=r(984);let nt=r.n(M)()["format"],st=s()["composed"],{addEvent:lt,extend:ut,isNumber:ht,pick:pt,pushUnique:dt}=s();function ct(t){let e=this.chart,i=e.time,o=t.point,a=o.series,r=a.options,n=a.tooltipOptions,s=r.dataGrouping,l=a.xAxis,u=n.xDateFormat||"",h,p,d,c,g,m=n[t.isFooter?"footerFormat":"headerFormat"];var f,y;l&&"datetime"===l.options.type&&s&&ht(o.key)&&(p=a.currentDataGrouping,d=s.dateTimeLabelFormats||R.common.dateTimeLabelFormats,p?(c=d[p.unitName],1===p.count?u=c[0]:(u=c[1],h=c[2])):!u&&d&&l.dateTime&&(u=l.dateTime.getXDateFormat(o.x,n.dateTimeLabelFormats)),y=(f=pt(a.groupMap?.[o.index].groupStart,o.key))+(p?.totalRange||0)-1,g=i.dateFormat(u,f),h&&(g+=i.dateFormat(h,y)),a.chart.styledMode&&(m=this.styledModeFormat(m)),t.text=nt(m,{point:ut(o,{key:g}),series:a},e),t.preventDefault())}let gt=function(t,e,i){z.compose(t),w.compose(e),i&&dt(st,"DataGrouping")&&lt(i,"headerFormatter",ct)},C=(w,s()),mt=(C.dataGrouping=C.dataGrouping||{},C.dataGrouping.approximationDefaults=C.dataGrouping.approximationDefaults||n,C.dataGrouping.approximations=C.dataGrouping.approximations||H,gt(C.Axis,C.Series,C.Tooltip),s());return e.default})());