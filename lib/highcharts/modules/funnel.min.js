!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/funnel"]=e(t._Highcharts,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(C,H)=>(()=>{"use strict";var i={512:t=>{t.exports=H},944:t=>{t.exports=C}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;e=a[t]={exports:{}};return i[t](e,e.exports,s),e.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(s.d(t,{default:()=>A}),s(944)),e=s.n(e);let{}=e(),{}=e(),{isObject:d,merge:o}=e(),r={radius:0,scope:"stack",where:void 0};let q={optionsToObject:function(t,e){return d(t)||(t={radius:t||0}),o(r,e,t)}};var n=s(512),n=s.n(n);let{composed:l,noop:E}=e(),{column:h,pie:p}=n().seriesTypes,{addEvent:c,correctFloat:F,extend:u,fireEvent:N,isArray:g,merge:x,pick:V,pushUnique:y,relativeLength:z,splat:f}=e(),L=n().series.prototype.alignDataLabel;function U(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}class b extends p{alignDataLabel(t,e,i,a,s){let d=t.series,o=d.options.reversed,r=t.dlBox||t.shapeArgs,{align:n,padding:l=0,verticalAlign:h}=i,p=((d.options||{}).dataLabels||{}).inside,c=d.center[1],u=t.plotY||0,g=e.height??e.getBBox().height,x=d.getWidthAt((o?2*c-u:u)-r.height/2+g),y="middle"===h?(r.topWidth-r.bottomWidth)/4:(x-r.bottomWidth)/2,f=r.y,b=r.x;"middle"===h?f=r.y-r.height/2+g/2:"top"===h&&(f=r.y-r.height+g+l),("top"===h&&!o||"bottom"===h&&o||"middle"===h)&&("right"===n?b=r.x-l+y:"left"===n&&(b=r.x+l-y)),a={x:b,y:o?f-r.height:f,width:r.bottomWidth,height:r.height},i.verticalAlign="bottom",p&&(i.distance=void 0),p&&t.visible&&L.call(d,t,e,i,a,s),p&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))}drawDataLabels(){(f(this.options.dataLabels||{})[0].inside?h:p).prototype.drawDataLabels.call(this)}getDataLabelPosition(t,e){var i=t.plotY||0,a=t.half?1:-1,s=this.getX(i,!!t.half,t);return{distance:e,natural:{x:0,y:i},computed:{},alignment:t.half?"right":"left",connectorPosition:{breakAt:{x:s+(e-5)*a,y:i},touchingSliceAt:{x:s+e*a,y:i}}}}translate(){let a=this,t=a.chart,e=a.options,r=e.reversed,i=e.ignoreHiddenPoint,s=q.optionsToObject(e.borderRadius),d=t.plotWidth,o=t.plotHeight,R=e.center,n=U(R[0],d),l=U(R[1],o),h=U(e.width,d),p=U(e.height,o),c=U(e.neckWidth,d),u=U(e.neckHeight,o),g=l-p/2+p-u,x=a.points,Y=z(s.radius,h),y=s.scope,_=+("left"===e.dataLabels.position),f=t=>{let e=Math.tan(t/2),i=Math.cos(M),a=Math.sin(M),s=Y,d=s/e,o=Math.tan((Math.PI-t)/3.2104);return d>W&&(s=(d=W)*e),{dx:[d*i,(d-(o*=s))*i,d-o,d],dy:[d*a,(d-o)*a,d-o,d].map(t=>r?-t:t)}},b=0,B=0,L,m,v,M,W,A,C,H,k,w,P,O;for(var j of(a.getWidthAt=function(t){var e=l-p/2;return t>g||p===u?c:c+(h-c)*(1-(t-e)/(p-u))},a.getX=function(t,e,i){return n+(e?-1:1)*(a.getWidthAt(r?2*l-t:t)/2+(i.dataLabel?.dataLabelPosition?.distance??z(this.options.dataLabels?.distance||0,h)))},a.center=[n,l,p],a.centerX=n,x))!j.y||!j.isValid()||i&&!1===j.visible||(b+=j.y);for(var S of x){if(O=null,v=b?S.y/b:0,w=(C=l-p/2+B*p)+v*p,H=(A=n-(L=a.getWidthAt(C))/2)+L,P=(k=n-(L=a.getWidthAt(w))/2)+L,F(C)>=g?(A=k=n-c/2,H=P=n+c/2):w>g&&(O=w,P=(k=n-(L=a.getWidthAt(g))/2)+L,w=g),r&&(C=2*l-C,w=2*l-w,null!==O&&(O=2*l-O)),!Y||"point"!==y&&0!==S.index&&S.index!==x.length-1&&null===O)m=[["M",A,C],["L",H,C],["L",P,w]],null!==O&&m.push(["L",P,O],["L",k,O]),m.push(["L",k,w]);else{var D=Math.abs(w-C),I=H-P,T=P-k,X=Math.sqrt(I*I+D*D);M=Math.atan(0!=I?D/I:1/0),W=X/2,null!==O&&(W=Math.min(W,Math.abs(O-w)/2)),1<=T&&(W=Math.min(W,T/2));let t=f(M);m="stack"===y&&0!==S.index?[["M",A,C],["L",H,C]]:[["M",A+t.dx[0],C+t.dy[0]],["C",A+t.dx[1],C+t.dy[1],A+t.dx[2],C,A+t.dx[3],C],["L",H-t.dx[3],C],["C",H-t.dx[2],C,H-t.dx[1],C+t.dy[1],H-t.dx[0],C+t.dy[0]]],null!==O?(D=f(Math.PI/2),t=f(Math.PI/2+M),m.push(["L",P+t.dx[0],w-t.dy[0]],["C",P+t.dx[1],w-t.dy[1],P,w+t.dy[2],P,w+t.dy[3]]),"stack"===y&&S.index!==x.length-1?m.push(["L",P,O],["L",k,O]):m.push(["L",P,O-D.dy[3]],["C",P,O-D.dy[2],P-D.dx[2],O,P-D.dx[3],O],["L",k+D.dx[3],O],["C",k+D.dx[2],O,k,O-D.dy[2],k,O-D.dy[3]]),m.push(["L",k,w+t.dy[3]],["C",k,w+t.dy[2],k-t.dx[1],w-t.dy[1],k-t.dx[0],w-t.dy[0]])):1<=T?(t=f(Math.PI-M),"stack"===y&&0===S.index?m.push(["L",P,w],["L",k,w]):m.push(["L",P+t.dx[0],w-t.dy[0]],["C",P+t.dx[1],w-t.dy[1],P-t.dx[2],w,P-t.dx[3],w],["L",k+t.dx[3],w],["C",k+t.dx[2],w,k-t.dx[1],w-t.dy[1],k-t.dx[0],w-t.dy[0]])):(t=f(Math.PI-2*M),m.push(["L",k+t.dx[0],w-t.dy[0]],["C",k+t.dx[1],w-t.dy[1],k-t.dx[1],w-t.dy[1],k-t.dx[0],w-t.dy[0]]))}m.push(["Z"]),S.shapeType="path",S.shapeArgs={d:m},S.percentage=100*v,S.plotX=n,S.plotY=(C+(O||w))/2,S.tooltipPos=[n,S.plotY],S.dlBox={x:k,y:C,topWidth:H-A,bottomWidth:P-k,height:Math.abs(V(O,w)-C),width:NaN},S.slice=E,S.half=_,!S.isValid()||i&&!1===S.visible||(B+=v)}N(a,"afterTranslate")}sortByAngle(t){t.sort((t,e)=>t.plotY-e.plotY)}}function m(){for(var e of this.series){let t=e.options&&e.options.dataLabels;g(t)&&(t=t[0]),e.is("pie")&&e.placeDataLabels&&t&&!t.inside&&e.placeDataLabels()}}b.defaultOptions=x(p.defaultOptions,{animation:!1,borderRadius:0,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}}),u(b.prototype,{animate:E}),(b||(b={})).compose=function(t){y(l,"FunnelSeries")&&c(t,"afterHideAllOverlappingLabels",m)},n().registerSeriesType("funnel",b);let v=b,M=e()["merge"];class W extends v{}W.defaultOptions=M(v.defaultOptions,{neckHeight:"0%",neckWidth:"0%",reversed:!0}),n().registerSeriesType("pyramid",W);n=e();v.compose(n.Chart);let A=e();return t.default})());