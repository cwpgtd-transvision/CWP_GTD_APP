!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/funnel"]=e(t._Highcharts,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(S,D)=>(()=>{"use strict";var a={512:t=>{t.exports=D},944:t=>{t.exports=S}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;e=i[t]={exports:{}};return a[t](e,e.exports,s),e.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(s.d(t,{default:()=>j}),s(944)),e=s.n(e),o={animation:!1,borderRadius:0,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}};const g=e()["defaultOptions"];var r=e()["noop"];const{addEvent:n,extend:x,isObject:y,merge:d,relativeLength:L}=e(),h={radius:0,scope:"stack",where:void 0};let A=r,R=r;function l(t,e,a,i,s={}){var o=A(t,e,a,i,s),{innerR:t=0,r:e=a,start:i=0,end:a=0}=s;if(s.open||!s.borderRadius)return o;var a=a-i,i=Math.sin(a/2),r=Math.max(Math.min(L(s.borderRadius||0,e-t),(e-t)/2,e*i/(1+i)),0),n=Math.min(r,a/Math.PI*2*t);let d=o.length-1;for(;d--;){h=void 0;l=void 0;c=void 0;p=void 0;p=void 0;u=void 0;g=void 0;u=void 0;var h=o;var l=d;var c=1<d?n:r;var p=h[l];let t=h[l+1];"Z"===t[0]&&(t=h[0]);let e,a,i;if("M"!==p[0]&&"L"!==p[0]||"A"!==t[0]?"A"!==p[0]||"M"!==t[0]&&"L"!==t[0]||(e=t,a=p):(e=p,a=t,i=!0),e&&a&&a.params){const x=a[1],y=a[5],b=a.params,{start:f,end:v,cx:M,cy:m}=b;var p=y?x-c:x+c,u=p?Math.asin(c/p):0,g=y?u:-u,u=Math.cos(u)*p;i?(b.start=f+g,e[1]=M+u*Math.cos(f),e[2]=m+u*Math.sin(f),h.splice(l+1,0,["A",c,c,0,0,1,M+x*Math.cos(b.start),m+x*Math.sin(b.start)])):(b.end=v-g,a[6]=M+x*Math.cos(b.end),a[7]=m+x*Math.sin(b.end),h.splice(l+1,0,["A",c,c,0,0,1,M+u*Math.cos(v),m+u*Math.sin(v)])),a[4]=Math.abs(b.end-b.start)<Math.PI?0:1}}return o}function c(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:d,yAxis:h}=this,l="percent"===d.stacking,t=g.plotOptions?.[this.type]?.borderRadius,c=b(d.borderRadius,y(t)?t:{}),p=h.options.reversed;for(const u of this.points){var i=u["shapeArgs"];if("roundedRect"===u.shapeType&&i){var{width:s=0,height:o=0,y:r=0}=i;let t=r,e=o;"stack"===c.scope&&u.stackTotal&&(r=h.translate(l?100:u.stackTotal,!1,!0,!1,!0),n=h.translate(d.threshold||0,!1,!0,!1,!0),r=this.crispCol(0,Math.min(r,n),0,Math.abs(r-n)),t=r.y,e=r.height);var n=(u.negative?-1:1)*(p?-1:1)==-1;let a=c.where;a=(a=!a&&this.is("waterfall")&&Math.abs((u.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth?"all":a)||"end";r=Math.min(L(c.radius,s),s/2,"all"===a?o/2:1/0)||0;"end"===a&&(n&&(t-=r),e+=r),x(i,{brBoxHeight:e,brBoxY:t,r:r})}}}}function b(t,e){return y(t)||(t={radius:t||0}),d(h,e,t)}function p(){var t=b(this.options.borderRadius);for(const e of this.points){const a=e.shapeArgs;a&&(a.borderRadius=L(t.radius,(a.r||0)-(a.innerR||0)))}}function u(t,e,a,i,s={}){const o=R(t,e,a,i,s),{r=0,brBoxHeight:n=i,brBoxY:d=e}=s,h=e-d,l=d+n-(e+i),c=-.1<h-r?0:r,p=-.1<l-r?0:r,u=Math.max(c&&h,0),g=Math.max(p&&l,0),x=[t+c,e],y=[t+a-c,e],b=[t+a,e+c],f=[t+a,e+i-p],v=[t+a-p,e+i],M=[t+p,e+i],m=[t,e+i-p],L=[t,e+c];var A,s=(t,e)=>Math.sqrt(Math.pow(t,2)-Math.pow(e,2));return u&&(A=s(c,c-u),x[0]-=A,y[0]+=A,b[1]=L[1]=e+c-u),i<c-u&&(A=s(c,c-u-i),b[0]=f[0]=t+a-c+A,v[0]=Math.min(b[0],v[0]),M[0]=Math.max(f[0],M[0]),m[0]=L[0]=t+c-A,b[1]=L[1]=e+i),g&&(A=s(p,p-g),v[0]+=A,M[0]-=A,f[1]=m[1]=e+i-p+g),i<p-g&&(A=s(p,p-g-i),b[0]=f[0]=t+a-p+A,y[0]=Math.min(b[0],y[0]),x[0]=Math.max(f[0],x[0]),m[0]=L[0]=t+p-A,f[1]=m[1]=e),o.length=0,o.push(["M",...x],["L",...y],["A",c,c,0,0,1,...b],["L",...f],["A",p,p,0,0,1,...v],["L",...M],["A",p,p,0,0,1,...m],["L",...L],["A",c,c,0,0,1,...x],["Z"]),o}const q={compose:function(t,e,a){var i=t.types.pie;if(!e.symbolCustomAttribs.includes("borderRadius")){const s=a.prototype.symbols;n(t,"afterColumnTranslate",c,{order:9}),n(i,"afterTranslate",p),e.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),A=s.arc,R=s.roundedRect,s.arc=l,s.roundedRect=u}},optionsToObject:b};r=s(512),r=s.n(r);const{composed:f,noop:E}=e(),{column:v,pie:M}=r().seriesTypes,{addEvent:m,correctFloat:Z,extend:W,fireEvent:F,isArray:w,merge:P,pick:z,pushUnique:O,relativeLength:N,splat:T}=e(),B=r().series.prototype.alignDataLabel;function V(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}class C extends M{alignDataLabel(t,e,a,i,s){const o=t.series,r=o.options.reversed,n=t.dlBox||t.shapeArgs,{align:d,padding:h=0,verticalAlign:l}=a,c=((o.options||{}).dataLabels||{}).inside,p=o.center[1],u=t.plotY||0,g=r?2*p-u:u,x=e.height??e.getBBox().height,y=o.getWidthAt(g-n.height/2+x),b="middle"===l?(n.topWidth-n.bottomWidth)/4:(y-n.bottomWidth)/2;let f=n.y,v=n.x;"middle"===l?f=n.y-n.height/2+x/2:"top"===l&&(f=n.y-n.height+x+h),("top"===l&&!r||"bottom"===l&&r||"middle"===l)&&("right"===d?v=n.x-h+b:"left"===d&&(v=n.x+h-b)),i={x:v,y:r?f-n.height:f,width:n.bottomWidth,height:n.height},a.verticalAlign="bottom",c&&(a.distance=void 0),c&&t.visible&&B.call(o,t,e,a,i,s),c&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))}drawDataLabels(){(T(this.options.dataLabels||{})[0].inside?v:M).prototype.drawDataLabels.call(this)}getDataLabelPosition(t,e){var a=t.plotY||0,i=t.half?1:-1,s=this.getX(a,!!t.half,t);return{distance:e,natural:{x:0,y:a},computed:{},alignment:t.half?"right":"left",connectorPosition:{breakAt:{x:s+(e-5)*i,y:a},touchingSliceAt:{x:s+e*i,y:a}}}}translate(){const i=this,t=i.chart,e=i.options,n=e.reversed,a=e.ignoreHiddenPoint,s=q.optionsToObject(e.borderRadius),o=t.plotWidth,r=t.plotHeight,j=e.center,d=V(j[0],o),h=V(j[1],r),l=V(e.width,o),c=V(e.height,r),p=V(e.neckWidth,o),u=V(e.neckHeight,r),g=h-c/2+c-u,x=i.points,S=N(s.radius,l),y=s.scope,D="left"===e.dataLabels.position?1:0,b=t=>{var e=Math.tan(t/2),a=Math.cos(L),i=Math.sin(L);let s=S,o=s/e,r=Math.tan((Math.PI-t)/3.2104);return o>A&&(o=A,s=o*e),r*=s,{dx:[o*a,(o-r)*a,o-r,o],dy:[o*i,(o-r)*i,o-r,o].map(t=>n?-t:t)}};let f=0,_=0,v,M,m,L,A,R,W,w,C,k,H,P;i.getWidthAt=function(t){var e=h-c/2;return t>g||c===u?p:p+(l-p)*(1-(t-e)/(c-u))},i.getX=function(t,e,a){return d+(e?-1:1)*(i.getWidthAt(n?2*h-t:t)/2+(a.dataLabel?.dataLabelPosition?.distance??N(this.options.dataLabels?.distance||0,l)))},i.center=[d,h,c],i.centerX=d;for(const I of x)!I.y||!I.isValid()||a&&!1===I.visible||(f+=I.y);for(const Y of x){if(P=null,m=f?Y.y/f:0,W=h-c/2+_*c,k=W+m*c,v=i.getWidthAt(W),R=d-v/2,w=R+v,v=i.getWidthAt(k),C=d-v/2,H=C+v,Z(W)>=g?(R=C=d-p/2,w=H=d+p/2):k>g&&(P=k,v=i.getWidthAt(g),C=d-v/2,H=C+v,k=g),n&&(W=2*h-W,k=2*h-k,null!==P&&(P=2*h-P)),!S||"point"!==y&&0!==Y.index&&Y.index!==x.length-1&&null===P)M=[["M",R,W],["L",w,W],["L",H,k]],null!==P&&M.push(["L",H,P],["L",C,P]),M.push(["L",C,k]);else{var O=Math.abs(k-W),T=w-H,B=H-C,X=Math.sqrt(T*T+O*O);L=Math.atan(0!=T?O/T:1/0),A=X/2,null!==P&&(A=Math.min(A,Math.abs(P-k)/2)),1<=B&&(A=Math.min(A,B/2));let t=b(L);M="stack"===y&&0!==Y.index?[["M",R,W],["L",w,W]]:[["M",R+t.dx[0],W+t.dy[0]],["C",R+t.dx[1],W+t.dy[1],R+t.dx[2],W,R+t.dx[3],W],["L",w-t.dx[3],W],["C",w-t.dx[2],W,w-t.dx[1],W+t.dy[1],w-t.dx[0],W+t.dy[0]]],null!==P?(O=b(Math.PI/2),t=b(Math.PI/2+L),M.push(["L",H+t.dx[0],k-t.dy[0]],["C",H+t.dx[1],k-t.dy[1],H,k+t.dy[2],H,k+t.dy[3]]),"stack"===y&&Y.index!==x.length-1?M.push(["L",H,P],["L",C,P]):M.push(["L",H,P-O.dy[3]],["C",H,P-O.dy[2],H-O.dx[2],P,H-O.dx[3],P],["L",C+O.dx[3],P],["C",C+O.dx[2],P,C,P-O.dy[2],C,P-O.dy[3]]),M.push(["L",C,k+t.dy[3]],["C",C,k+t.dy[2],C-t.dx[1],k-t.dy[1],C-t.dx[0],k-t.dy[0]])):1<=B?(t=b(Math.PI-L),"stack"===y&&0===Y.index?M.push(["L",H,k],["L",C,k]):M.push(["L",H+t.dx[0],k-t.dy[0]],["C",H+t.dx[1],k-t.dy[1],H-t.dx[2],k,H-t.dx[3],k],["L",C+t.dx[3],k],["C",C+t.dx[2],k,C-t.dx[1],k-t.dy[1],C-t.dx[0],k-t.dy[0]])):(t=b(Math.PI-2*L),M.push(["L",C+t.dx[0],k-t.dy[0]],["C",C+t.dx[1],k-t.dy[1],C-t.dx[1],k-t.dy[1],C-t.dx[0],k-t.dy[0]]))}M.push(["Z"]),Y.shapeType="path",Y.shapeArgs={d:M},Y.percentage=100*m,Y.plotX=d,Y.plotY=(W+(P||k))/2,Y.tooltipPos=[d,Y.plotY],Y.dlBox={x:C,y:W,topWidth:w-R,bottomWidth:H-C,height:Math.abs(z(P,k)-W),width:NaN},Y.slice=E,Y.half=D,!Y.isValid()||a&&!1===Y.visible||(_+=m)}F(i,"afterTranslate")}sortByAngle(t){t.sort((t,e)=>t.plotY-e.plotY)}}function I(){for(const e of this.series){let t=e.options&&e.options.dataLabels;w(t)&&(t=t[0]),e.is("pie")&&e.placeDataLabels&&t&&!t.inside&&e.placeDataLabels()}}C.defaultOptions=P(M.defaultOptions,o),W(C.prototype,{animate:E}),(C||(C={})).compose=function(t){O(f,"FunnelSeries")&&m(t,"afterHideAllOverlappingLabels",I)},r().registerSeriesType("funnel",C);const k=C;o={neckHeight:"0%",neckWidth:"0%",reversed:!0};const Y=e()["merge"];class H extends k{}H.defaultOptions=Y(k.defaultOptions,o),r().registerSeriesType("pyramid",H);o=e();k.compose(o.Chart);const j=e();return t.default})());