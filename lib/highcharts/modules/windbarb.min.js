!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.dataGrouping.approximations,t._Highcharts.Series.types.column,t._Highcharts.Series,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/windbarb",["highcharts/highcharts"],function(t){return e(t,t.dataGrouping,["approximations"],t.Series,["types"],t.Series,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/windbarb"]=e(t._Highcharts,t._Highcharts.dataGrouping.approximations,t._Highcharts.Series.types.column,t._Highcharts.Series,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.dataGrouping.approximations,t.Highcharts.Series.types.column,t.Highcharts.Series,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(O,G,M,P,A)=>(()=>{"use strict";var r={448:t=>{t.exports=M},512:t=>{t.exports=A},820:t=>{t.exports=P},944:t=>{t.exports=O},956:t=>{t.exports=G}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;e=o[t]={exports:{}};return r[t](e,e.exports,i),e.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(i.d(t,{default:()=>L}),i(944)),a=i.n(e),e=i(956),e=i.n(e),s=i(448),s=i.n(s),n=i(820),n=i.n(n);let p=a()["composed"],H=s()["prototype"],l=n()["prototype"],{defined:k,pushUnique:h,stableSort:X}=a();function c(t){return l.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function d(){H.translate.apply(this);let o=this,t=o.options,e=o.chart,i=o.points,r=t.onSeries,s=r&&e.get(r),a=s&&s.options.step,n=s&&s.points,p=e.inverted,l=o.xAxis,h=o.yAxis,c=i.length-1,d,u,f=t.onKey||"y",g=n&&n.length,x=0,b,y,m,v,S;if(s&&s.visible&&g)for(x=(s.pointXOffset||0)+(s.barW||0)/2,v=s.currentDataGrouping,y=n[g-1].x+(v?v.totalRange:0),X(i,(t,e)=>t.x-e.x),f="plot"+f[0].toUpperCase()+f.substr(1);g--&&i[c];)if(b=n[g],(d=i[c]).y=b.y,b.x<=d.x&&void 0!==b[f]){if(d.x<=y&&(d.plotY=b[f],b.x<d.x&&!a&&(m=n[g+1]))&&void 0!==m[f])if(k(d.plotX)&&s.is("spline")){let r=[b.plotX||0,b.plotY||0],o=[m.plotX||0,m.plotY||0],i=b.controlPoints?.high||r,s=m.controlPoints?.low||o,e=(t,e)=>Math.pow(1-t,3)*r[e]+3*(1-t)*(1-t)*t*i[e]+3*(1-t)*t*t*s[e]+t*t*t*o[e],a=0,n=1,p;for(let t=0;t<100;t++){var w=(a+n)/2,L=e(w,0);if(null===L)break;if(Math.abs(L-d.plotX)<.25){p=w;break}L<d.plotX?a=w:n=w}k(p)&&(d.plotY=e(p,1),d.y=h.toValue(d.plotY,!0))}else S=(d.x-b.x)/(m.x-b.x),d.plotY+=S*(m[f]-b[f]),d.y+=S*(m.y-b.y);if(c--,g++,c<0)break}i.forEach((t,e)=>{let r;t.plotX+=x,void 0!==t.plotY&&!p||(0<=t.plotX&&t.plotX<=l.len?p?(t.plotY=l.translate(t.x,0,1,0,1),t.plotX=k(t.y)?h.translate(t.y,0,0,0,1):0):t.plotY=(l.opposite?0:o.yAxis.len)+l.offset:t.shapeArgs={}),(u=i[e-1])&&u.plotX===t.plotX&&(void 0===u.stackIndex&&(u.stackIndex=0),r=u.stackIndex+1),t.stackIndex=r}),this.onSeries=s}(n=f=f||{}).compose=function(e){if(h(p,"OnSeries")){let t=e.prototype;t.getPlotBox=c,t.translate=d}return e},n.getPlotBox=c,n.translate=d;let u=f;var n=i(512),f=i.n(n);let g=a()["isNumber"];class x extends s().prototype.pointClass{isValid(){return g(this.value)&&0<=this.value}}let b=a()["animObject"],y=f().seriesTypes["column"],{extend:m,merge:v,pick:S}=a();class w extends y{init(t,e){super.init(t,e)}pointAttribs(t,e){let r=this.options,o=t.color||this.color,i=this.options.lineWidth;return e&&(o=r.states[e].color||o,i=(r.states[e].lineWidth||i)+(r.states[e].lineWidthPlus||0)),{stroke:o,"stroke-width":i}}windArrow(t){let e=t.beaufortLevel,r=this.options.vectorLength/20,o=1.943844*t.value,i,s=-10;if(t.isNull)return[];if(0===e)return this.chart.renderer.symbols.circle(-10*r,-10*r,20*r,20*r);let a=[["M",0,7*r],["L",-1.5*r,7*r],["L",0,10*r],["L",1.5*r,7*r],["L",0,7*r],["L",0,-10*r]];if(0<(i=(o-o%50)/50))for(;i--;)a.push(-10===s?["L",0,s*r]:["M",0,s*r],["L",5*r,s*r+2],["L",0,s*r+4]),o-=50,s+=7;if(0<(i=(o-o%10)/10))for(;i--;)a.push(-10===s?["L",0,s*r]:["M",0,s*r],["L",7*r,s*r]),o-=10,s+=3;if(0<(i=(o-o%5)/5))for(;i--;)a.push(-10===s?["L",0,s*r]:["M",0,s*r],["L",4*r,s*r]),o-=5,s+=3;return a}drawPoints(){let t=this.chart,e=this.yAxis,r=t.inverted,o=this.options.vectorLength/2;for(var i of this.points){var s=i.plotX,a=i.plotY;!1===this.options.clip||t.isInsidePlot(s,0)?(i.graphic||(i.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+S(i.colorIndex,i.series.colorIndex))),i.graphic.attr({d:this.windArrow(i),translateX:s+this.options.xOffset,translateY:a+this.options.yOffset,rotation:i.direction}),this.chart.styledMode||i.graphic.attr(this.pointAttribs(i))):i.graphic&&(i.graphic=i.graphic.destroy()),i.tooltipPos=[s+this.options.xOffset+(r&&!this.onSeries?o:0),a+this.options.yOffset-(r?0:o+e.pos-t.plotTop)]}}animate(t){t?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},b(this.options.animation))}markerAttribs(){return{}}getExtremes(){return{}}shouldShowTooltip(t,e,r={}){return r.ignoreX=this.chart.inverted,r.ignoreY=!r.ignoreX,super.shouldShowTooltip(t,e,r)}}w.defaultOptions=v(y.defaultOptions,{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0}),u.compose(w),m(w.prototype,{beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],beaufortName:["Calm","Light air","Light breeze","Gentle breeze","Moderate breeze","Fresh breeze","Strong breeze","Near gale","Gale","Strong gale","Storm","Violent storm","Hurricane"],invertible:!1,parallelArrays:["x","value","direction"],pointArrayMap:["value","direction"],pointClass:x,trackerGroups:["markerGroup"],translate:function(){var e,r=this.beaufortFloor,o=this.beaufortName;for(e of(u.translate.call(this),this.points)){let t=0;for(;t<r.length&&!(r[t]>e.value);t++);e.beaufortLevel=t-1,e.beaufort=o[t-1]}}}),f().registerSeriesType("windbarb",w),e().windbarb||(e().windbarb=(r,o)=>{let i=0,s=0;for(let t=0,e=r.length;t<e;t++)i+=r[t]*Math.cos(o[t]*a().deg2rad),s+=r[t]*Math.sin(o[t]*a().deg2rad);return[r.reduce((t,e)=>t+e,0)/r.length,Math.atan2(s,i)/a().deg2rad]});let L=a();return t.default})());