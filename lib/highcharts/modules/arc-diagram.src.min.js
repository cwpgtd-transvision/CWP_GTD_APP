!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Series,t._Highcharts.SVGRenderer,t._Highcharts.SVGElement):"function"==typeof define&&define.amd?define("highcharts/modules/arc-diagram",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry,t.Series,t.SVGRenderer,t.SVGElement)}):"object"==typeof exports?exports["highcharts/modules/arc-diagram"]=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Series,t._Highcharts.SVGRenderer,t._Highcharts.SVGElement):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.Series,t.Highcharts.SVGRenderer,t.Highcharts.SVGElement)}("undefined"==typeof window?this:window,(Z,J,Q,U,$)=>(()=>{"use strict";var o={28:t=>{t.exports=$},512:t=>{t.exports=J},540:t=>{t.exports=U},820:t=>{t.exports=Q},944:t=>{t.exports=Z}},s={};function i(t){var e=s[t];if(void 0!==e)return e.exports;e=s[t]={exports:{}};return o[t](e,e.exports,i),e.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(i.d(t,{default:()=>K}),i(944)),e=i.n(e),n=i(512),n=i.n(n);const{prototype:r,prototype:{pointClass:{prototype:h}}}=n()["series"],{defined:a,extend:d,find:l,merge:p,pick:c}=e();function u(){return this.data=[].concat(this.points||[],this.nodes),r.destroy.apply(this,arguments)}function m(){this.nodes&&(this.nodes.forEach(t=>{t.destroy()}),this.nodes.length=0),r.setData.apply(this,arguments)}function f(t){const e=arguments,o=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==t&&o.forEach(t=>{t&&t.series&&(h.setState.apply(t,e),t.isNode||(t.fromNode.graphic&&h.setState.apply(t.fromNode,e),t.toNode&&t.toNode.graphic&&h.setState.apply(t.toNode,e)))}),h.setState.apply(this,e)}function g(t,e,o,s){const i=this.series.options.nodes,n=this.series.options.data,r=n?.length||0,a=n?.[this.index];h.update.call(this,t,!this.isNode&&e,o,s),this.isNode&&(t=(i||[]).reduce((t,e,o)=>this.id===e.id?o:t,-1),s=p(i&&i[t]||{},n?.[this.index]||{}),n&&(a?n[this.index]=a:n.length=r),i?0<=t?i[t]=s:i.push(s):this.series.options.nodes=[s],c(e,!0)&&this.series.chart.redraw(o))}(y=x=x||{}).compose=function(t,e){const o=t.prototype,s=e.prototype;return o.setNodeState=f,o.setState=f,o.update=g,s.destroy=u,s.setData=m,e},y.createNode=function(t){const e=this.pointClass,o=(t,e)=>l(t,t=>t.id===e);let s=o(this.nodes,t),i;if(!s){i=this.options.nodes&&o(this.options.nodes,t);const n=new e(this,d({className:"highcharts-node",isNode:!0,id:t,y:1},i));n.linksTo=[],n.linksFrom=[],n.getSum=function(){let e=0,o=0;return n.linksTo.forEach(t=>{e+=t.weight||0}),n.linksFrom.forEach(t=>{o+=t.weight||0}),Math.max(e,o)},n.offset=function(e,o){let s=0;for(let t=0;t<n[o].length;t++){if(n[o][t]===e)return s;s+=n[o][t].weight}},n.hasShape=function(){let e=0;return n.linksTo.forEach(t=>{t.outgoing&&e++}),!n.linksTo.length||e!==n.linksTo.length},n.index=this.nodes.push(n)-1,s=n}return s.formatPrefix="node",s.name=s.name||s.options.id||"",s.mass=c(s.options.mass,s.options.marker&&s.options.marker.radius,this.options.marker&&this.options.marker.radius,4),s},y.destroy=u,y.generatePoints=function(){const e=this.chart,o={};r.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(t=>{t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level}),this.points.forEach(t=>{a(t.from)&&(o[t.from]||(o[t.from]=this.createNode(t.from)),o[t.from].linksFrom.push(t),t.fromNode=o[t.from],e.styledMode?t.colorIndex=c(t.options.colorIndex,o[t.from].colorIndex):t.color=t.options.color||o[t.from].color),a(t.to)&&(o[t.to]||(o[t.to]=this.createNode(t.to)),o[t.to].linksTo.push(t),t.toNode=o[t.to]),t.name=t.name||t.id},this),this.nodeLookup=o},y.setNodeState=f,y.updateNode=g;var y=x,{prototype:{pointClass:x}}=n()["seriesTypes"]["sankey"];const k=e()["extend"];class b extends x{isValid(){return!0}}k(b.prototype,{setState:y.setNodeState});x=b,y={centeredLinks:!1,equalNodes:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{fillOpacity:1,lineWidth:0,states:{},symbol:"circle"},offset:"100%",reversed:!1};const{defined:S,getAlignFactor:v,relativeLength:L}=e();{var P;(P=T=T||{}).compose=function(t,e){const o=t;return o.sankeyColumn=new z(o,e),o};class z{constructor(t,e){this.points=t,this.series=e}getTranslationFactor(t){const e=this.points,o=e.slice(),s=t.chart,i=t.options.minLinkWidth||0;let n,r=0,a,h=(s.plotSizeY||0)-(t.options.borderWidth||0)-(e.length-1)*t.nodePadding;for(;e.length;){for(r=h/e.sankeyColumn.sum(),n=!1,a=e.length;a--;)e[a].getSum()*r<i&&(e.splice(a,1),h=Math.max(0,h-i),n=!0);if(!n)break}e.length=0;for(const d of o)e.push(d);return r}top(o){const s=this.series,i=s.nodePadding,t=this.points.reduce((t,e)=>{return 0<t&&(t+=i),t+=Math.max(e.getSum()*o,s.options.minLinkWidth||0)},0);return v(s.options.nodeAlignment||"center")*((s.chart.plotSizeY||0)-t)}left(o){const s=this.series,t=s.chart,i=s.options.equalNodes,n=t.inverted?t.plotHeight:t.plotWidth,r=s.nodePadding,e=this.points.reduce((t,e)=>{return 0<t&&(t+=r),t+=i?n/e.series.nodes.length-r:Math.max(e.getSum()*o,s.options.minLinkWidth||0)},0);return((t.plotSizeX||0)-Math.round(e))/2}sum(){return this.points.reduce((t,e)=>t+e.getSum(),0)}offset(e,o){const s=this.points,i=this.series,n=i.nodePadding;let r=0,a;if(i.is("organization")&&e.hangsFrom)return{absoluteTop:e.hangsFrom.nodeY};for(let t=0;t<s.length;t++){var h=s[t].getSum(),d=Math.max(h*o,i.options.minLinkWidth||0),l=e.options[i.chart.inverted?"offsetHorizontal":"offsetVertical"],p=e.options.offset||0;if(a=h?d+n:0,s[t]===e)return{relativeTop:r+(S(l)?L(l,d):L(p,a))};r+=a}}}P.SankeyColumnAdditions=z}const N=T;var P=i(820),F=i.n(P),T=i(540),P=i.n(T),T=i(28),T=i.n(T);const R=e()["deg2rad"],{addEvent:C,merge:Y,uniqueKey:_,defined:M,extend:X}=e();function B(i,t){t=Y(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},t);const n=this.renderer.url,r=this.text||this,e=r.textPath,{attributes:a,enabled:h}=t;return i=i||e&&e.path,e&&e.undo(),i&&h?(t=C(r,"afterModifyTree",e=>{if(i&&h){let t=i.attr("id");t||i.attr("id",t=_());const s={x:0,y:0};M(a.dx)&&(s.dx=a.dx,delete a.dx),M(a.dy)&&(s.dy=a.dy,delete a.dy),r.attr(s),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());var o=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:X(a,{"text-anchor":a.textAnchor,href:n+"#"+t}),children:o}}}),r.textPath={path:i,undo:t}):(r.attr({dx:0,dy:0}),delete r.textPath),this.added&&(r.textCache="",this.renderer.buildText(r)),this}function V(t){const e=t.bBox,i=this.element?.querySelector("textPath");if(i){const c=[],{b:u,h:o}=this.renderer.fontMetrics(this.element),m=o-u,f=new RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),g=i.innerHTML.replace(f,"").split(/<tspan class="highcharts-br"[^>]*>/),y=g.length;var s=(t,e)=>{var{x:e,y:o}=e,t=(i.getRotationOfChar(t)-90)*R,s=Math.cos(t),t=Math.sin(t);return[[e-m*s,o-m*t],[e+u*s,o+u*t]]};for(let e=0,o=0;o<y;o++){var n=g[o].length;for(let t=0;t<n;t+=5)try{var r=e+t+o,[a,h]=s(r,i.getStartPositionOfChar(r));0===t?(c.push(h),c.push(a)):(0===o&&c.unshift(h),o===y-1&&c.push(a))}catch(t){break}e+=n-1;try{var d=e+o,[l,p]=s(d,i.getEndPositionOfChar(d));c.unshift(p),c.unshift(l)}catch(t){break}}c.length&&c.push(c[0].slice()),e.polygon=c}return e}function D(t){const e=t.labelOptions,o=t.point,s=e[o.formatPrefix+"TextPath"]||e.textPath;s&&!e.useHTML&&(this.setTextPath(o.getDataLabelPath?.(this)||o.graphic,s),o.dataLabelPath&&!s.enabled&&(o.dataLabelPath=o.dataLabelPath.destroy()))}const G={compose:function(t){C(t,"afterGetBBox",V),C(t,"beforeAddingDataLabel",D);const e=t.prototype;e.setTextPath||(e.setTextPath=B)}},q=(G.compose(T()),P())["prototype"]["symbols"],{column:H,sankey:W}=n()["seriesTypes"],{crisp:w,extend:j,merge:A,pick:O,relativeLength:I}=e();class E extends W{createNodeColumns(){const l=this,c=l.chart,u=N.compose([],l);return u.sankeyColumn.maxLength=c.inverted?c.plotHeight:c.plotWidth,u.sankeyColumn.getTranslationFactor=t=>{const e=u.slice(),o=this.options.minLinkWidth||0;let s,i=0,n,r,a=0,h=1,d=0,l=(c.plotSizeX||0)-(t.options.marker&&t.options.marker.lineWidth||0)-(u.length-1)*t.nodePadding;for(;u.length;){for(i=l/u.sankeyColumn.sum(),s=!1,n=u.length;n--;){r=u[n].getSum()*i*h;var p=Math.min(c.plotHeight,c.plotWidth);r>p?h=Math.min(p/r,h):r<o&&(u.splice(n,1),l-=o,r=o,s=!0),d+=r*(1-h)/2,a=Math.max(a,r)}if(!s)break}return u.length=0,e.forEach(t=>{t.scale=h,u.push(t)}),u.sankeyColumn.maxRadius=a,u.sankeyColumn.scale=h,u.sankeyColumn.additionalSpace=d,i},u.sankeyColumn.offset=function(e,o){var s=e.series.options.equalNodes,i=l.nodePadding,n=Math.min(c.plotWidth,c.plotHeight,(u.sankeyColumn.maxLength||0)/l.nodes.length-i);let r=u.sankeyColumn.additionalSpace||0,a;for(let t=0;t<u.length;t++){var h=u[t].getSum()*(u.sankeyColumn.scale||0),d=s?n:Math.max(h*o,l.options.minLinkWidth||0);if(a=h?d+i:0,u[t]===e)return{relativeLeft:r+I(e.options.offset||0,a)};r+=a}},l.nodes.forEach(function(t){t.column=0,u.push(t)}),[u]}translateLink(o){const t=o.fromNode,e=o.toNode,s=this.chart,i=this.translationFactor,n=o.options,r=this.options,a=O(n.linkWeight,r.linkWeight,Math.max((o.weight||0)*i*t.scale,this.options.minLinkWidth||0)),h=o.series.options.centeredLinks,d=t.nodeY;var l=(t,e)=>{e=(t.offset(o,e)||0)*i;return Math.min(t.nodeX+e,t.nodeX+(t.shapeArgs&&t.shapeArgs.height||0)-a)};let p=h?t.nodeX+((t.shapeArgs.height||0)-a)/2:l(t,"linksFrom"),c=h?e.nodeX+((e.shapeArgs.height||0)-a)/2:l(e,"linksTo"),u=d;p>c&&([p,c]=[c,p]),r.reversed&&([p,c]=[c,p],u=(s.plotSizeY||0)-u),o.shapeType="path",o.linkBase=[p,p+a,c,c+a];l=(c+a-p)/Math.abs(c+a-p)*O(r.linkRadius,Math.min(Math.abs(c+a-p)/2,t.nodeY-Math.abs(a)));o.shapeArgs={d:[["M",p,u],["A",(c+a-p)/2,l,0,0,1,c+a,u],["L",c,u],["A",(c-p-a)/2,l-a,0,0,0,p+a,u],["Z"]]},o.dlBox={x:p+(c-p)/2,y:u-l,height:a,width:0},o.tooltipPos=s.inverted?[(s.plotSizeY||0)-o.dlBox.y-a/2,(s.plotSizeX||0)-o.dlBox.x]:[o.dlBox.x,o.dlBox.y+a/2],o.y=o.plotY=1,o.x=o.plotX=1,o.color||(o.color=t.color)}translateNode(e,o){var s=this.translationFactor,i=this.chart,n=i.inverted?i.plotWidth:i.plotHeight,r=this.options,n=Math.min(i.plotWidth,i.plotHeight,n/e.series.nodes.length-this.nodePadding),a=e.getSum()*(o.sankeyColumn.scale||0),n=r.equalNodes?n:Math.max(a*s,this.options.minLinkWidth||0),h=r.marker?.lineWidth||0,d=o.sankeyColumn.offset(e,s),s=w(O(d&&d.absoluteLeft,(o.sankeyColumn.left(s)||0)+(d&&d.relativeLeft||0)),h),d=A(r.marker,e.options.marker),l=d.symbol,p=d.radius,d=parseInt(r.offset,10)*((i.inverted?i.plotWidth:i.plotHeight)-(w(this.colDistance*(e.column||0)+(d.lineWidth||0)/2,h)+(o.sankeyColumn.scale||0)*(o.sankeyColumn.maxRadius||0)/2))/100;if(e.sum=a){e.nodeX=s,e.nodeY=d;h=s,o=e.options.width||r.width||n,a=e.options.height||r.height||n;let t=d;r.reversed&&(t=(i.plotSizeY||0)-d,i.inverted&&(t=(i.plotSizeY||0)-d)),this.mapOptionsToLevel&&(e.dlOptions=W.getDLOptions({level:this.mapOptionsToLevel[e.level],optionsPoint:e.options})),e.plotX=1,e.plotY=1,e.tooltipPos=i.inverted?[(i.plotSizeY||0)-t-a/2,(i.plotSizeX||0)-h-o/2]:[h+o/2,t+a/2],e.shapeType="path",e.shapeArgs={d:q[l||"circle"](h,t-(p||a)/2,p||o,p||a),width:p||o,height:p||a},e.dlBox={x:h+o/2,y:t,height:0,width:0}}else e.dlOptions={enabled:!1}}drawDataLabels(){var t;this.options.dataLabels&&(t=this.options.dataLabels.textPath,H.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,H.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=t)}pointAttribs(t,e){if(t&&t.isNode){const{...o}=F().prototype.pointAttribs.apply(this,arguments);return o}return super.pointAttribs.apply(this,arguments)}markerAttribs(t){return t.isNode?super.markerAttribs.apply(this,arguments):{}}}E.defaultOptions=A(W.defaultOptions,y),j(E.prototype,{orderNodes:!1}),E.prototype.pointClass=x,n().registerSeriesType("arcdiagram",E);const K=e();return t.default})());