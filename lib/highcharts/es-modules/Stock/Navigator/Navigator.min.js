"use strict";import Axis from"../../Core/Axis/Axis.js";import ChartNavigatorComposition from"./ChartNavigatorComposition.js";import D from"../../Core/Defaults.js";const defaultOptions=D["defaultOptions"];import H from"../../Core/Globals.js";const isTouchDevice=H["isTouchDevice"];import NavigatorAxisAdditions from"../../Core/Axis/NavigatorAxisComposition.js";import NavigatorComposition from"./NavigatorComposition.js";import Scrollbar from"../Scrollbar/Scrollbar.js";import SVGRenderer from"../../Core/Renderer/SVG/SVGRenderer.js";const{symbols}=SVGRenderer["prototype"];import U from"../../Core/Utilities.js";const{addEvent,clamp,correctFloat,defined,destroyObjectProperties,erase,extend,find,fireEvent,isArray,isNumber,merge,pick,removeEvent,splat}=U;function numExt(e,...t){t=[].filter.call(t,isNumber);if(t.length)return Math[e].apply(0,t)}class Navigator{static compose(e,t,i){ChartNavigatorComposition.compose(e,Navigator),NavigatorComposition.compose(e,t,i)}constructor(e){this.isDirty=!1,this.scrollbarHeight=0,this.init(e)}drawHandle(e,t,i,s){var a=this,r=a.navigatorOptions.handles.height;a.handles[t][s](i?{translateX:Math.round(a.left+a.height/2),translateY:Math.round(a.top+parseInt(e,10)+.5-r)}:{translateX:Math.round(a.left+parseInt(e,10)),translateY:Math.round(a.top+a.height/2-r/2-1)})}drawOutline(e,t,i,s){var a=this,r=a.navigatorOptions.maskInside,o=a.outline.strokeWidth(),n=o/2,o=o%2/2,d=a.scrollButtonSize,h=a.size,l=a.top,g=a.height,x=l-n,v=l+g;let m=a.left,c,p;i?(c=l+t+o,t=l+e+o,p=[["M",m+g,l-d-o],["L",m+g,c],["L",m,c],["M",m,t],["L",m+g,t],["L",m+g,l+h+d]],r&&p.push(["M",m+g,c-n],["L",m+g,t+n])):(e+=(m-=d)+d-o,t+=m+d-o,p=[["M",m,x],["L",e,x],["L",e,v],["M",t,v],["L",t,x],["L",m+h+2*d,x]],r&&p.push(["M",e-n,x],["L",t+n,x])),a.outline[s]({d:p})}drawMasks(e,t,i,s){var a=this,r=a.left,o=a.top,n=a.height;let d,h,l,g;d=i?(l=[r,r,r],g=[o,o+e,o+t],h=[n,n,n],[e,t-e,a.size-t]):(l=[r,r+e,r+t],g=[o,o,o],h=[e,t-e,a.size-t],[n,n,n]),a.shades.forEach((e,t)=>{e[s]({x:l[t],y:g[t],width:h[t],height:d[t]})})}renderElements(){const a=this,s=a.navigatorOptions,e=s.maskInside,r=a.chart,t=r.inverted,o=r.renderer,n={cursor:t?"ns-resize":"ew-resize"},d=a.navigatorGroup??(a.navigatorGroup=o.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!e,e,!e].forEach((e,t)=>{const i=a.shades[t]??(a.shades[t]=o.rect().addClass("highcharts-navigator-mask"+(1===t?"-inside":"-outside")).add(d));r.styledMode||(i.attr({fill:e?s.maskFill:"rgba(0,0,0,0)"}),1===t&&i.css(n))}),a.outline||(a.outline=o.path().addClass("highcharts-navigator-outline").add(d)),r.styledMode||a.outline.attr({"stroke-width":s.outlineWidth,stroke:s.outlineColor}),s.handles?.enabled){const h=s.handles,{height:l,width:g}=h;[0,1].forEach(e=>{var t=h.symbols[e];if(a.handles[e]&&a.handles[e].symbolUrl===t){if(!a.handles[e].isImg&&a.handles[e].symbolName!==t){const i=symbols[t],s=i.call(symbols,-g/2-1,0,g,l);a.handles[e].attr({d:s}),a.handles[e].symbolName=t}}else a.handles[e]?.destroy(),a.handles[e]=o.symbol(t,-g/2-1,0,g,l,h),a.handles[e].attr({zIndex:7-e}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][e]).add(d),a.addMouseEvents();r.inverted&&a.handles[e].attr({rotation:90,rotationOriginX:Math.floor(-g/2),rotationOriginY:(l+g)/2}),r.styledMode||a.handles[e].attr({fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":h.lineWidth,width:h.width,height:h.height,x:-g/2-1,y:0}).css(n)})}}update(e,t=!1){const i=this.chart,s=i.options.chart.inverted!==i.scrollbar?.options.vertical;if(merge(!0,i.options.navigator,e),this.navigatorOptions=i.options.navigator||{},this.setOpposite(),defined(e.enabled)||s)return this.destroy(),this.navigatorEnabled=e.enabled||this.navigatorEnabled,this.init(i);var a;this.navigatorEnabled&&(!(this.isDirty=!0)===e.adaptToUpdatedData&&this.baseSeries.forEach(e=>{removeEvent(e,"updatedData",this.updatedDataHandler)},this),e.adaptToUpdatedData&&this.baseSeries.forEach(e=>{e.eventsToUnbind.push(addEvent(e,"updatedData",this.updatedDataHandler))},this),(e.series||e.baseSeries)&&this.setBaseSeries(void 0,!1),(e.height||e.xAxis||e.yAxis)&&(this.height=e.height??this.height,a=this.getXAxisOffsets(),this.xAxis.update({...e.xAxis,offsets:a,[i.inverted?"width":"height"]:this.height,[i.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...e.yAxis,[i.inverted?"width":"height"]:this.height},!1))),t&&i.redraw()}render(e,t,i,s){const a=this,r=a.chart,o=a.xAxis,n=o.pointRange||0,d=o.navigatorAxis.fake?r.xAxis[0]:o,h=a.navigatorEnabled,l=a.rendered,g=r.inverted,x=r.xAxis[0].minRange,v=r.xAxis[0].options.maxRange,m=a.scrollButtonSize;let c,p,u,b=a.scrollbarHeight,f,M;if(!this.hasDragged||defined(i)){if(this.isDirty&&this.renderElements(),e=correctFloat(e-n/2),t=correctFloat(t+n/2),!isNumber(e)||!isNumber(t)){if(!l)return;i=0,s=pick(o.width,d.width)}a.left=pick(o.left,r.plotLeft+m+(g?r.plotWidth:0));var E=a.size=f=pick(o.len,(g?r.plotHeight:r.plotWidth)-2*m),e=(c=g?b:f+2*m,i=pick(i,o.toPixels(e,!0)),s=pick(s,o.toPixels(t,!0)),isNumber(i)&&Math.abs(i)!==1/0||(i=0,s=c),o.toValue(i,!0)),t=o.toValue(s,!0),A=Math.abs(correctFloat(t-e)),A=(A<x?this.grabbedLeft?i=o.toPixels(t-x-n,!0):this.grabbedRight&&(s=o.toPixels(e+x+n,!0)):defined(v)&&correctFloat(A-n)>v&&(this.grabbedLeft?i=o.toPixels(t-v-n,!0):this.grabbedRight&&(s=o.toPixels(e+v+n,!0))),a.zoomedMax=clamp(Math.max(i,s),0,E),a.zoomedMin=clamp(a.fixedWidth?a.zoomedMax-a.fixedWidth:Math.min(i,s),0,E),a.range=a.zoomedMax-a.zoomedMin,E=Math.round(a.zoomedMax),Math.round(a.zoomedMin));h&&(a.navigatorGroup.attr({visibility:"inherit"}),M=l&&!a.hasDragged?"animate":"attr",a.drawMasks(A,E,g,M),a.drawOutline(A,E,g,M),a.navigatorOptions.handles.enabled&&(a.drawHandle(A,0,g,M),a.drawHandle(E,1,g,M))),a.scrollbar&&(g?(u=a.top-m,p=a.left-b+(h||!d.opposite?0:(d.titleOffset||0)+d.axisTitleMargin),b=f+2*m):(u=a.top+(h?a.height:-b),p=a.left-m),a.scrollbar.position(p,u,c,b),a.scrollbar.setRange(a.zoomedMin/(f||1),a.zoomedMax/(f||1))),a.rendered=!0,this.isDirty=!1,fireEvent(this,"afterRender")}}addMouseEvents(){const t=this,e=t.chart,i=e.container;let s=[],a,r;t.mouseMoveHandler=a=function(e){t.onMouseMove(e)},t.mouseUpHandler=r=function(e){t.onMouseUp(e)},(s=t.getPartsEvents("mousedown")).push(addEvent(e.renderTo,"mousemove",a),addEvent(i.ownerDocument,"mouseup",r),addEvent(e.renderTo,"touchmove",a),addEvent(i.ownerDocument,"touchend",r)),s.concat(t.getPartsEvents("touchstart")),t.eventsToUnbind=s,t.series&&t.series[0]&&s.push(addEvent(t.series[0].xAxis,"foundExtremes",function(){e.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(s){const a=this,r=[];return["shades","handles"].forEach(function(i){a[i].forEach(function(e,t){r.push(addEvent(e.element,s,function(e){a[i+"Mousedown"](e,t)}))})}),r}shadesMousedown(e,t){e=this.chart.pointer?.normalize(e)||e;const i=this,s=i.chart,a=i.xAxis,r=i.zoomedMin,o=i.size,n=i.range;let d=i.left,h=e.chartX,l,g,x,v;s.inverted&&(h=e.chartY,d=i.top),1===t?(i.grabbedCenter=h,i.fixedWidth=n,i.dragOffset=h-r):(v=h-d-n/2,0===t?v=Math.max(0,v):2===t&&v+n>=o&&(v=o-n,i.reversedExtremes?(v-=n,g=i.getUnionExtremes().dataMin):l=i.getUnionExtremes().dataMax),v!==r&&(i.fixedWidth=n,x=a.navigatorAxis.toFixedRange(v,v+n,g,l),defined(x.min)&&fireEvent(this,"setRange",{min:Math.min(x.min,x.max),max:Math.max(x.min,x.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(e,t){e=this.chart.pointer?.normalize(e)||e;const i=this,s=i.chart,a=s.xAxis[0],r=i.reversedExtremes;0===t?(i.grabbedLeft=!0,i.otherHandlePos=i.zoomedMax,i.fixedExtreme=r?a.min:a.max):(i.grabbedRight=!0,i.otherHandlePos=i.zoomedMin,i.fixedExtreme=r?a.max:a.min),s.setFixedRange(void 0)}onMouseMove(e){const t=this,i=t.chart,s=t.navigatorSize,a=t.range,r=t.dragOffset,o=i.inverted;let n=t.left,d;e.touches&&0===e.touches[0].pageX||(e=i.pointer?.normalize(e)||e,d=e.chartX,o&&(n=t.top,d=e.chartY),t.grabbedLeft?(t.hasDragged=!0,t.render(0,0,d-n,t.otherHandlePos)):t.grabbedRight?(t.hasDragged=!0,t.render(0,0,t.otherHandlePos,d-n)):t.grabbedCenter&&(t.hasDragged=!0,d<r?d=r:d>s+r-a&&(d=s+r-a),t.render(0,0,d-r,d-r+a)),t.hasDragged&&t.scrollbar&&pick(t.scrollbar.options.liveRedraw,!isTouchDevice&&!this.chart.boosted)&&(e.DOMType=e.type,setTimeout(function(){t.onMouseUp(e)},0)))}onMouseUp(e){const t=this,i=t.chart,s=t.xAxis,a=t.scrollbar,r=e.DOMEvent||e,o=i.inverted,n=t.rendered&&!t.hasDragged?"animate":"attr";let d,h,l,g,x,v;(!t.hasDragged||a&&a.hasDragged)&&"scrollbar"!==e.trigger||(l=t.getUnionExtremes(),t.zoomedMin===t.otherHandlePos?g=t.fixedExtreme:t.zoomedMax===t.otherHandlePos&&(x=t.fixedExtreme),t.zoomedMax===t.size&&(x=t.reversedExtremes?l.dataMin:l.dataMax),0===t.zoomedMin&&(g=t.reversedExtremes?l.dataMax:l.dataMin),v=s.navigatorAxis.toFixedRange(t.zoomedMin,t.zoomedMax,g,x),defined(v.min)&&fireEvent(this,"setRange",{min:Math.min(v.min,v.max),max:Math.max(v.min,v.max),redraw:!0,animation:!t.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:r}})),"mousemove"!==e.DOMType&&"touchmove"!==e.DOMType&&(t.grabbedLeft=t.grabbedRight=t.grabbedCenter=t.fixedWidth=t.fixedExtreme=t.otherHandlePos=t.hasDragged=t.dragOffset=null),t.navigatorEnabled&&isNumber(t.zoomedMin)&&isNumber(t.zoomedMax)&&(h=Math.round(t.zoomedMin),d=Math.round(t.zoomedMax),t.shades&&t.drawMasks(h,d,o,n),t.outline&&t.drawOutline(h,d,o,n),t.navigatorOptions.handles.enabled&&Object.keys(t.handles).length===t.handles.length&&(t.drawHandle(h,0,o,n),t.drawHandle(d,1,o,n)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(e){e()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const e=this.baseSeries||[];this.navigatorEnabled&&e[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&e.forEach(function(e){removeEvent(e,"updatedData",this.updatedDataHandler)},this),e[0].xAxis&&removeEvent(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(n){const e=n.options,t=e.navigator||{},i=t.enabled,s=e.scrollbar||{},a=s.enabled,r=i&&t.height||0,o=a&&s.height||0,d=s.buttonsEnabled&&o||0,h=(this.handles=[],this.shades=[],this.chart=n,this.setBaseSeries(),this.height=r,this.scrollbarHeight=o,this.scrollButtonSize=d,this.scrollbarEnabled=a,this.navigatorEnabled=i,this.navigatorOptions=t,this.scrollbarOptions=s,this.setOpposite(),this),l=h.baseSeries,g=n.xAxis.length,x=n.yAxis.length,v=l&&l[0]&&l[0].xAxis||n.xAxis[0]||{options:{}};var m;if(n.isDirtyBox=!0,h.navigatorEnabled?(m=this.getXAxisOffsets(),h.xAxis=new Axis(n,merge({breaks:v.options.breaks,ordinal:v.options.ordinal,overscroll:v.options.overscroll},t.xAxis,{type:"datetime",yAxis:t.yAxis?.id,index:g,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:v.options.ordinal?0:v.options.minPadding,maxPadding:v.options.ordinal?0:v.options.maxPadding,zoomEnabled:!1},n.inverted?{offsets:m,width:r}:{offsets:m,height:r}),"xAxis"),h.yAxis=new Axis(n,merge(t.yAxis,{alignTicks:!1,offset:0,index:x,isInternal:!0,reversed:pick(t.yAxis&&t.yAxis.reversed,n.yAxis[0]&&n.yAxis[0].reversed,!1),zoomEnabled:!1},n.inverted?{width:r}:{height:r}),"yAxis"),l||t.series.data?h.updateNavigatorSeries(!1):0===n.series.length&&(h.unbindRedraw=addEvent(n,"beforeRedraw",function(){0<n.series.length&&!h.series&&(h.setBaseSeries(),h.unbindRedraw())})),h.reversedExtremes=n.inverted&&!h.xAxis.reversed||!n.inverted&&h.xAxis.reversed,h.renderElements(),h.addMouseEvents()):(h.xAxis={chart:n,navigatorAxis:{fake:!0},translate:function(e,t){const i=n.xAxis[0],s=i.getExtremes(),a=i.len-2*d,r=numExt("min",i.options.min,s.dataMin),o=numExt("max",i.options.max,s.dataMax)-r;return t?e*o/a+r:a*(e-r)/o},toPixels:function(e){return this.translate(e)},toValue:function(e){return this.translate(e,!0)}},h.xAxis.navigatorAxis.axis=h.xAxis,h.xAxis.navigatorAxis.toFixedRange=NavigatorAxisAdditions.prototype.toFixedRange.bind(h.xAxis.navigatorAxis)),n.options.scrollbar?.enabled){const c=merge(n.options.scrollbar,{vertical:n.inverted});isNumber(c.margin)||(c.margin=n.inverted?-3:3),n.scrollbar=h.scrollbar=new Scrollbar(n.renderer,c,n),addEvent(h.scrollbar,"changed",function(e){var t=h.size,i=t*this.to,t=t*this.from;h.hasDragged=h.scrollbar.hasDragged,h.render(0,0,t,i),this.shouldUpdateExtremes(e.DOMType)&&setTimeout(function(){h.onMouseUp(e)})})}h.addBaseSeriesEvents(),h.addChartEvents()}setOpposite(){var e=this.navigatorOptions,t=this.navigatorEnabled,i=this.chart;this.opposite=pick(e.opposite,Boolean(!t&&i.inverted))}getUnionExtremes(e){const t=this.chart.xAxis[0],i=this.chart.time,s=this.xAxis,a=s.options,r=t.options;let o;return o=e&&null===t.dataMin?o:{dataMin:pick(i.parse(a?.min),numExt("min",i.parse(r.min),t.dataMin,s.dataMin,s.min)),dataMax:pick(i.parse(a?.max),numExt("max",i.parse(r.max),t.dataMax,s.dataMax,s.max))}}setBaseSeries(i,e){const t=this.chart,s=this.baseSeries=[];i=i||t.options&&t.options.navigator.baseSeries||(t.series.length?find(t.series,e=>!e.options.isInternal).index:0),(t.series||[]).forEach((e,t)=>{e.options.isInternal||!e.options.showInNavigator&&(t!==i&&e.options.id!==i||!1===e.options.showInNavigator)||s.push(e)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,e)}updateNavigatorSeries(e,a){const r=this,o=r.chart,n=r.baseSeries,d={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},h=r.series=(r.series||[]).filter(e=>{const t=e.baseSeries;return!(n.indexOf(t)<0)||(t&&(removeEvent(t,"updatedData",r.updatedDataHandler),delete t.navigatorSeries),e.chart&&e.destroy(),!1)});let l,g,x=r.navigatorOptions.series,v;n&&n.length&&n.forEach(e=>{const t=e.navigatorSeries,i=extend({color:e.color,visible:e.visible},isArray(x)?defaultOptions.navigator.series:x);var s;t&&!1===r.navigatorOptions.adaptToUpdatedData||(d.name="Navigator "+n.length,l=e.options||{},v=l.navigatorOptions||{},i.dataLabels=splat(i.dataLabels),(g=merge(l,d,i,v)).pointRange=pick(i.pointRange,v.pointRange,defaultOptions.plotOptions[g.type||"line"].pointRange),s=v.data||i.data,r.hasNavigatorData=r.hasNavigatorData||!!s,g.data=s||l.data?.slice(0),t&&t.options?t.update(g,a):(e.navigatorSeries=o.initSeries(g),o.setSortedData(),e.navigatorSeries.baseSeries=e,h.push(e.navigatorSeries)))}),(!x.data||n&&n.length)&&!isArray(x)||(r.hasNavigatorData=!1,(x=splat(x)).forEach((e,t)=>{d.name="Navigator "+(h.length+1),(g=merge(defaultOptions.navigator.series,{color:o.series[t]&&!o.series[t].options.isInternal&&o.series[t].color||o.options.colors[t]||o.options.colors[0]},d,e)).data=e.data,g.data&&(r.hasNavigatorData=!0,h.push(o.initSeries(g)))})),e&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const t=this,i=t.baseSeries||[];i[0]&&i[0].xAxis&&i[0].eventsToUnbind.push(addEvent(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),i.forEach(e=>{e.eventsToUnbind.push(addEvent(e,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),e.eventsToUnbind.push(addEvent(e,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&e.eventsToUnbind.push(addEvent(e,"updatedData",this.updatedDataHandler)),e.eventsToUnbind.push(addEvent(e,"remove",function(){i&&erase(i,e),this.navigatorSeries&&t.series&&(erase(t.series,this.navigatorSeries),defined(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(e){return this.baseSeries.reduce(function(e,t){return Math.min(e,t.getColumn("x")[0]??e)},e)}modifyNavigatorAxisExtremes(){const e=this.xAxis;var t;void 0===e.getExtremes||!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax)}modifyBaseAxisExtremes(){const e=this,t=e.chart.navigator,i=e.getExtremes(),s=i.min,a=i.max,r=i.dataMin,o=i.dataMax,n=a-s,d=t.stickToMin,h=t.stickToMax,l=pick(e.ordinal?.convertOverscroll(e.options.overscroll),0),g=t.series&&t.series[0],x=!!e.setExtremes,v=e.eventArgs&&"rangeSelectorButton"===e.eventArgs.trigger;let m,c;v||(d&&(c=r,m=c+n),h&&(m=o+l,d||(c=Math.max(r,m-n,t.getBaseSeriesMin(g&&g.xData?g.xData[0]:-Number.MAX_VALUE)))),x&&(d||h)&&isNumber(c)&&(e.min=e.userMin=c,e.max=e.userMax=m)),t.stickToMin=t.stickToMax=null}updatedDataHandler(){const e=this.chart.navigator,t=this.navigatorSeries,i=e.reversedExtremes?0===Math.round(e.zoomedMin):Math.round(e.zoomedMax)>=Math.round(e.size);e.stickToMax=pick(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i),e.stickToMin=e.shouldStickToMin(this,e),t&&!e.hasNavigatorData&&(t.options.pointStart=this.getColumn("x")[0],t.setData(this.options.data,!1,null,!1))}shouldStickToMin(e,t){var t=t.getBaseSeriesMin(e.getColumn("x")[0]),e=e.xAxis,i=e.max,s=e.min,e=e.options.range;let a=!0;return a=!(!isNumber(i)||!isNumber(s))&&(e&&0<i-t?i-t<e:s<=t)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(addEvent(this.chart,"redraw",function(){const e=this.navigator,t=e&&(e.baseSeries&&e.baseSeries[0]&&e.baseSeries[0].xAxis||this.xAxis[0]);t&&e.render(t.min,t.max)}),addEvent(this.chart,"getMargins",function(){var e=this,t=e.navigator;let i=t.opposite?"plotTop":"marginBottom";e[i=e.inverted?t.opposite?"marginRight":"plotLeft":i]=(e[i]||0)+(t.navigatorEnabled||!e.inverted?t.height+(this.scrollbar?.options.margin||0)+t.scrollbarHeight:0)+(t.navigatorOptions.margin||0)}),addEvent(Navigator,"setRange",function(e){this.chart.xAxis[0].setExtremes(e.min,e.max,e.redraw,e.animation,e.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(erase(this.chart.xAxis,this.xAxis),erase(this.chart.axes,this.xAxis)),this.yAxis&&(erase(this.chart.yAxis,this.yAxis),erase(this.chart.axes,this.yAxis)),(this.series||[]).forEach(e=>{e.destroy&&e.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(e=>{this[e]&&this[e].destroy&&this[e].destroy(),this[e]=null}),[this.handles].forEach(e=>{destroyObjectProperties(e)}),this.baseSeries.forEach(e=>{e.navigatorSeries=void 0}),this.navigatorEnabled=!1}}export default Navigator;