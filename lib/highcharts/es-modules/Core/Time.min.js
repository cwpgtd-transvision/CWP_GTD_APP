"use strict";import TimeBase from"../Shared/TimeBase.js";import U from"../Core/Utilities.js";const{defined,extend,timeUnits}=U;class Time extends TimeBase{getTimeTicks(e,i,m,n){const s=this,o=[],a={},{count:r=1,unitRange:h}=e;let[U,d,f,T,l,u]=s.toParts(i),k=(i||0)%1e3,c;if(n=n??1,defined(i)){var y;k=h>=timeUnits.second?0:r*Math.floor(k/r),h>=timeUnits.second&&(u=h>=timeUnits.minute?0:r*Math.floor(u/r)),h>=timeUnits.minute&&(l=h>=timeUnits.hour?0:r*Math.floor(l/r)),h>=timeUnits.hour&&(T=h>=timeUnits.day?0:r*Math.floor(T/r)),h>=timeUnits.day&&(f=h>=timeUnits.month?1:Math.max(1,r*Math.floor(f/r))),h>=timeUnits.month&&(d=h>=timeUnits.year?0:r*Math.floor(d/r)),h>=timeUnits.year&&(U-=U%r),h===timeUnits.week&&(r&&(i=s.makeTime(U,d,f,T,l,u,k)),y=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},i,"es"),y="DLMXJVS".indexOf(y),f+=-y+n+(y<n?-7:0)),i=s.makeTime(U,d,f,T,l,u,k),s.variableTimezone&&defined(m)&&(c=m-i>4*timeUnits.month||s.getTimezoneOffset(i)!==s.getTimezoneOffset(m));let e=i,t=1;for(;e<m;)o.push(e),h===timeUnits.year?e=s.makeTime(U+t*r,0):h===timeUnits.month?e=s.makeTime(U,d+t*r):!c||h!==timeUnits.day&&h!==timeUnits.week?c&&h===timeUnits.hour&&1<r?e=s.makeTime(U,d,f,T+t*r):e+=h*r:e=s.makeTime(U,d,f+t*r*(h===timeUnits.day?1:7)),t++;o.push(e),h<=timeUnits.hour&&o.length<1e4&&o.forEach(e=>{e%18e5==0&&"000000000"===s.dateFormat("%H%M%S%L",e)&&(a[e]="day")})}return o.info=extend(e,{higherRanks:a,totalRange:h*r}),o}}export default Time;