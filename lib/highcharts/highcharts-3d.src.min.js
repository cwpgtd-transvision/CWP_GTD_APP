!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.Color,t._Highcharts.SeriesRegistry,t._Highcharts.RendererRegistry,t._Highcharts.Series,t._Highcharts.StackItem,t._Highcharts.Axis,t._Highcharts.Series.types.scatter):"function"==typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts/highcharts"],function(t){return e(t,t.Color,t.SeriesRegistry,t.RendererRegistry,t.Series,t.StackItem,t.Axis,t.Series,["types"],["scatter"])}):"object"==typeof exports?exports["highcharts/highcharts-3d"]=e(t._Highcharts,t._Highcharts.Color,t._Highcharts.SeriesRegistry,t._Highcharts.RendererRegistry,t._Highcharts.Series,t._Highcharts.StackItem,t._Highcharts.Axis,t._Highcharts.Series.types.scatter):t.Highcharts=e(t.Highcharts,t.Highcharts.Color,t.Highcharts.SeriesRegistry,t.Highcharts.RendererRegistry,t.Highcharts.Series,t.Highcharts.StackItem,t.Highcharts.Axis,t.Highcharts.Series.types.scatter)}("undefined"==typeof window?this:window,(Ke,Qe,$e,ti,ei,ii,si,oi)=>(()=>{"use strict";var O={184:t=>{t.exports=ii},512:t=>{t.exports=$e},532:t=>{t.exports=si},608:t=>{t.exports=ti},620:t=>{t.exports=Qe},632:t=>{t.exports=oi},820:t=>{t.exports=ei},944:t=>{t.exports=Ke}},F={};function s(t){var e=F[t];if(void 0!==e)return e.exports;e=F[t]={exports:{}};return O[t](e,e.exports,s),e.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var C={},t=(s.d(C,{default:()=>Ve}),s(944)),x=s.n(t),t=s(620),t=s.n(t);const E=x()["deg2rad"],c=x()["pick"];function R(t,e,i,s){const o=e.options.chart.options3d,r=c(s,!!i&&e.inverted),n={x:e.plotWidth/2,y:e.plotHeight/2,z:o.depth/2,vd:c(o.depth,1)*c(o.viewDistance,0)},h=e.scale3d||1,a=E*o.beta*(r?-1:1),l=E*o.alpha*(r?-1:1),p={cosA:Math.cos(l),cosB:Math.cos(-a),sinA:Math.sin(l),sinB:Math.sin(-a)};return i||(n.x+=e.plotLeft,n.y+=e.plotTop),t.map(function(t){s=(r?t.y:t.x)-n.x,o=(r?t.x:t.y)-n.y,t=(t.z||0)-n.z;const e={x:(a=p).cosB*s-a.sinB*t,y:-a.sinA*a.sinB*s+a.cosA*o-a.cosB*a.sinA*t,z:a.cosA*a.sinB*s+a.sinA*o+a.cosA*a.cosB*t},i=W(e,n,n.vd);var s,o,a;return i.x=i.x*h+n.x,i.y=i.y*h+n.y,i.z=e.z*h+n.z,{x:r?i.y:i.x,y:r?i.x:i.y,z:i.z}})}function W(t,e,i){e=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*e,y:t.y*e}}function _(t){let e=0,i,s;for(i=0;i<t.length;i++)s=(i+1)%t.length,e+=t[i].x*t[s].y-t[s].x*t[i].y;return e/2}var e={perspective:R,perspective3D:W,pointCameraDistance:function(t,e){const i=e.options.chart.options3d,s=e.plotWidth/2,o=e.plotHeight/2,a=c(i.depth,1)*c(i.viewDistance,0)+i.depth,r=Math.sqrt(Math.pow(s-c(t.plotX,t.x),2)+Math.pow(o-c(t.plotY,t.y),2)+Math.pow(a-c(t.plotZ,t.z),2));return r},shapeArea:_,shapeArea3D:function(t,e,i){return _(R(t,e,i))}};const z=t()["parse"],B=x()["defaultOptions"],{perspective:G,shapeArea3D:N}=e,{addEvent:o,isArray:j,merge:q,pick:U,wrap:a}=x();{var r=i=i||{};function V(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function J(){if(this.chart3d&&this.is3d()){const t=this,e=t.renderer,i=t.options.chart.options3d,s=t.chart3d.get3dFrame(),o=t.plotLeft,a=t.plotLeft+t.plotWidth,r=t.plotTop,n=t.plotTop+t.plotHeight,h=i.depth,l=o-(s.left.visible?s.left.size:0),p=a+(s.right.visible?s.right.size:0),c=r-(s.top.visible?s.top.size:0),x=n+(s.bottom.visible?s.bottom.size:0),d=0-(s.front.visible?s.front.size:0),y=h+(s.back.visible?s.back.size:0),f=t.hasRendered?"animate":"attr";t.chart3d.frame3d=s,t.frameShapes||(t.frameShapes={bottom:e.polyhedron().add(),top:e.polyhedron().add(),left:e.polyhedron().add(),right:e.polyhedron().add(),back:e.polyhedron().add(),front:e.polyhedron().add()}),t.frameShapes.bottom[f]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:s.bottom.frontFacing?-1e3:1e3,faces:[{fill:z(s.bottom.color).brighten(.1).get(),vertexes:[{x:l,y:x,z:d},{x:p,y:x,z:d},{x:p,y:x,z:y},{x:l,y:x,z:y}],enabled:s.bottom.visible},{fill:z(s.bottom.color).brighten(.1).get(),vertexes:[{x:o,y:n,z:h},{x:a,y:n,z:h},{x:a,y:n,z:0},{x:o,y:n,z:0}],enabled:s.bottom.visible},{fill:z(s.bottom.color).brighten(-.1).get(),vertexes:[{x:l,y:x,z:d},{x:l,y:x,z:y},{x:o,y:n,z:h},{x:o,y:n,z:0}],enabled:s.bottom.visible&&!s.left.visible},{fill:z(s.bottom.color).brighten(-.1).get(),vertexes:[{x:p,y:x,z:y},{x:p,y:x,z:d},{x:a,y:n,z:0},{x:a,y:n,z:h}],enabled:s.bottom.visible&&!s.right.visible},{fill:z(s.bottom.color).get(),vertexes:[{x:p,y:x,z:d},{x:l,y:x,z:d},{x:o,y:n,z:0},{x:a,y:n,z:0}],enabled:s.bottom.visible&&!s.front.visible},{fill:z(s.bottom.color).get(),vertexes:[{x:l,y:x,z:y},{x:p,y:x,z:y},{x:a,y:n,z:h},{x:o,y:n,z:h}],enabled:s.bottom.visible&&!s.back.visible}]}),t.frameShapes.top[f]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:s.top.frontFacing?-1e3:1e3,faces:[{fill:z(s.top.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:y},{x:p,y:c,z:y},{x:p,y:c,z:d},{x:l,y:c,z:d}],enabled:s.top.visible},{fill:z(s.top.color).brighten(.1).get(),vertexes:[{x:o,y:r,z:0},{x:a,y:r,z:0},{x:a,y:r,z:h},{x:o,y:r,z:h}],enabled:s.top.visible},{fill:z(s.top.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:y},{x:l,y:c,z:d},{x:o,y:r,z:0},{x:o,y:r,z:h}],enabled:s.top.visible&&!s.left.visible},{fill:z(s.top.color).brighten(-.1).get(),vertexes:[{x:p,y:c,z:d},{x:p,y:c,z:y},{x:a,y:r,z:h},{x:a,y:r,z:0}],enabled:s.top.visible&&!s.right.visible},{fill:z(s.top.color).get(),vertexes:[{x:l,y:c,z:d},{x:p,y:c,z:d},{x:a,y:r,z:0},{x:o,y:r,z:0}],enabled:s.top.visible&&!s.front.visible},{fill:z(s.top.color).get(),vertexes:[{x:p,y:c,z:y},{x:l,y:c,z:y},{x:o,y:r,z:h},{x:a,y:r,z:h}],enabled:s.top.visible&&!s.back.visible}]}),t.frameShapes.left[f]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:s.left.frontFacing?-1e3:1e3,faces:[{fill:z(s.left.color).brighten(.1).get(),vertexes:[{x:l,y:x,z:d},{x:o,y:n,z:0},{x:o,y:n,z:h},{x:l,y:x,z:y}],enabled:s.left.visible&&!s.bottom.visible},{fill:z(s.left.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:y},{x:o,y:r,z:h},{x:o,y:r,z:0},{x:l,y:c,z:d}],enabled:s.left.visible&&!s.top.visible},{fill:z(s.left.color).brighten(-.1).get(),vertexes:[{x:l,y:x,z:y},{x:l,y:c,z:y},{x:l,y:c,z:d},{x:l,y:x,z:d}],enabled:s.left.visible},{fill:z(s.left.color).brighten(-.1).get(),vertexes:[{x:o,y:r,z:h},{x:o,y:n,z:h},{x:o,y:n,z:0},{x:o,y:r,z:0}],enabled:s.left.visible},{fill:z(s.left.color).get(),vertexes:[{x:l,y:x,z:d},{x:l,y:c,z:d},{x:o,y:r,z:0},{x:o,y:n,z:0}],enabled:s.left.visible&&!s.front.visible},{fill:z(s.left.color).get(),vertexes:[{x:l,y:c,z:y},{x:l,y:x,z:y},{x:o,y:n,z:h},{x:o,y:r,z:h}],enabled:s.left.visible&&!s.back.visible}]}),t.frameShapes.right[f]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:s.right.frontFacing?-1e3:1e3,faces:[{fill:z(s.right.color).brighten(.1).get(),vertexes:[{x:p,y:x,z:y},{x:a,y:n,z:h},{x:a,y:n,z:0},{x:p,y:x,z:d}],enabled:s.right.visible&&!s.bottom.visible},{fill:z(s.right.color).brighten(.1).get(),vertexes:[{x:p,y:c,z:d},{x:a,y:r,z:0},{x:a,y:r,z:h},{x:p,y:c,z:y}],enabled:s.right.visible&&!s.top.visible},{fill:z(s.right.color).brighten(-.1).get(),vertexes:[{x:a,y:r,z:0},{x:a,y:n,z:0},{x:a,y:n,z:h},{x:a,y:r,z:h}],enabled:s.right.visible},{fill:z(s.right.color).brighten(-.1).get(),vertexes:[{x:p,y:x,z:d},{x:p,y:c,z:d},{x:p,y:c,z:y},{x:p,y:x,z:y}],enabled:s.right.visible},{fill:z(s.right.color).get(),vertexes:[{x:p,y:c,z:d},{x:p,y:x,z:d},{x:a,y:n,z:0},{x:a,y:r,z:0}],enabled:s.right.visible&&!s.front.visible},{fill:z(s.right.color).get(),vertexes:[{x:p,y:x,z:y},{x:p,y:c,z:y},{x:a,y:r,z:h},{x:a,y:n,z:h}],enabled:s.right.visible&&!s.back.visible}]}),t.frameShapes.back[f]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:s.back.frontFacing?-1e3:1e3,faces:[{fill:z(s.back.color).brighten(.1).get(),vertexes:[{x:p,y:x,z:y},{x:l,y:x,z:y},{x:o,y:n,z:h},{x:a,y:n,z:h}],enabled:s.back.visible&&!s.bottom.visible},{fill:z(s.back.color).brighten(.1).get(),vertexes:[{x:l,y:c,z:y},{x:p,y:c,z:y},{x:a,y:r,z:h},{x:o,y:r,z:h}],enabled:s.back.visible&&!s.top.visible},{fill:z(s.back.color).brighten(-.1).get(),vertexes:[{x:l,y:x,z:y},{x:l,y:c,z:y},{x:o,y:r,z:h},{x:o,y:n,z:h}],enabled:s.back.visible&&!s.left.visible},{fill:z(s.back.color).brighten(-.1).get(),vertexes:[{x:p,y:c,z:y},{x:p,y:x,z:y},{x:a,y:n,z:h},{x:a,y:r,z:h}],enabled:s.back.visible&&!s.right.visible},{fill:z(s.back.color).get(),vertexes:[{x:o,y:r,z:h},{x:a,y:r,z:h},{x:a,y:n,z:h},{x:o,y:n,z:h}],enabled:s.back.visible},{fill:z(s.back.color).get(),vertexes:[{x:l,y:x,z:y},{x:p,y:x,z:y},{x:p,y:c,z:y},{x:l,y:c,z:y}],enabled:s.back.visible}]}),t.frameShapes.front[f]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:s.front.frontFacing?-1e3:1e3,faces:[{fill:z(s.front.color).brighten(.1).get(),vertexes:[{x:l,y:x,z:d},{x:p,y:x,z:d},{x:a,y:n,z:0},{x:o,y:n,z:0}],enabled:s.front.visible&&!s.bottom.visible},{fill:z(s.front.color).brighten(.1).get(),vertexes:[{x:p,y:c,z:d},{x:l,y:c,z:d},{x:o,y:r,z:0},{x:a,y:r,z:0}],enabled:s.front.visible&&!s.top.visible},{fill:z(s.front.color).brighten(-.1).get(),vertexes:[{x:l,y:c,z:d},{x:l,y:x,z:d},{x:o,y:n,z:0},{x:o,y:r,z:0}],enabled:s.front.visible&&!s.left.visible},{fill:z(s.front.color).brighten(-.1).get(),vertexes:[{x:p,y:x,z:d},{x:p,y:c,z:d},{x:a,y:r,z:0},{x:a,y:n,z:0}],enabled:s.front.visible&&!s.right.visible},{fill:z(s.front.color).get(),vertexes:[{x:a,y:r,z:0},{x:o,y:r,z:0},{x:o,y:n,z:0},{x:a,y:n,z:0}],enabled:s.front.visible},{fill:z(s.front.color).get(),vertexes:[{x:p,y:x,z:d},{x:l,y:x,z:d},{x:l,y:c,z:d},{x:p,y:c,z:d}],enabled:s.front.visible}]})}}function K(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(t){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+t.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:t.slope}}]}]})},this)}function Q(){const e=this.options;this.is3d()&&(e.series||[]).forEach(function(t){"scatter"===(t.type||e.chart.type||e.chart.defaultSeriesType)&&(t.type="scatter3d")})}function $(){const t=this,e=t.options.chart.options3d;if(t.chart3d&&t.is3d()){e&&(e.alpha=e.alpha%360+(0<=e.alpha?0:360),e.beta=e.beta%360+(0<=e.beta?0:360));const i=t.inverted,s=t.clipBox,o=t.margin,a=i?"y":"x",r=i?"x":"y",n=i?"height":"width",h=i?"width":"height";s[a]=-(o[3]||0),s[r]=-(o[0]||0),s[n]=t.chartWidth+(o[3]||0)+(o[1]||0),s[h]=t.chartHeight+(o[0]||0)+(o[2]||0),t.scale3d=1,!0===e.fitToPlot&&(t.scale3d=t.chart3d.getScale(e.depth)),t.chart3d.frame3d=t.chart3d.get3dFrame()}}function tt(){this.is3d()&&(this.isDirtyBox=!0)}function et(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function it(){this.chart3d||(this.chart3d=new Je(this))}function st(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function ot(t){let e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}function at(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}r.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},r.compose=function(t,e){const i=t.prototype,s=e.prototype;i.is3d=function(){return!!this.options.chart.options3d?.enabled},i.propsRequireDirtyBox.push("chart.options3d"),i.propsRequireUpdateSeries.push("chart.options3d"),s.matrixSetter=function(){let e;if(this.pos<1&&(j(this.start)||j(this.end))){var i=this.start||[1,0,0,1,0,0],s=this.end||[1,0,0,1,0,0];e=[];for(let t=0;t<6;t++)e.push(this.pos*s[t]+(1-this.pos)*i[t])}else e=this.end;this.elem.attr(this.prop,e,null,!0)},q(!0,B,r.defaultOptions),o(t,"init",it),o(t,"addSeries",V),o(t,"afterDrawChartBox",J),o(t,"afterGetContainer",K),o(t,"afterInit",Q),o(t,"afterSetChartSize",$),o(t,"beforeRedraw",tt),o(t,"beforeRender",et),a(i,"isInsidePlot",st),a(i,"renderSeries",ot),a(i,"setClassName",at)};class Je{constructor(t){this.chart=t}get3dFrame(){function t(t){return.5<(t=N(t,a))?1:t<-.5?-1:0}const a=this.chart,e=a.options.chart.options3d,i=e.frame,s=a.plotLeft,o=a.plotLeft+a.plotWidth,r=a.plotTop,n=a.plotTop+a.plotHeight,h=e.depth,l=t([{x:s,y:n,z:h},{x:o,y:n,z:h},{x:o,y:n,z:0},{x:s,y:n,z:0}]),p=t([{x:s,y:r,z:0},{x:o,y:r,z:0},{x:o,y:r,z:h},{x:s,y:r,z:h}]),c=t([{x:s,y:r,z:0},{x:s,y:r,z:h},{x:s,y:n,z:h},{x:s,y:n,z:0}]),x=t([{x:o,y:r,z:h},{x:o,y:r,z:0},{x:o,y:n,z:0},{x:o,y:n,z:h}]),d=t([{x:s,y:n,z:0},{x:o,y:n,z:0},{x:o,y:r,z:0},{x:s,y:r,z:0}]),y=t([{x:s,y:r,z:h},{x:o,y:r,z:h},{x:o,y:n,z:h},{x:s,y:n,z:h}]);let f=!1,z=!1,u=!1,g=!1;[].concat(a.xAxis,a.yAxis,a.zAxis).forEach(function(t){t&&(t.horiz?t.opposite?z=!0:f=!0:t.opposite?g=!0:u=!0)});function b(e,t,i){const s=["size","color","visible"],o={};for(let t=0;t<s.length;t++){var a=s[t];for(let t=0;t<e.length;t++)if("object"==typeof e[t]){var r=e[t][a];if(null!=r){o[a]=r;break}}}let n=i;return!0===o.visible||!1===o.visible?n=o.visible:"auto"===o.visible&&(n=0<t),{size:U(o.size,1),color:U(o.color,"none"),frontFacing:0<t,visible:n}}const m={axes:{},bottom:b([i.bottom,i.top,i],l,f),top:b([i.top,i.bottom,i],p,z),left:b([i.left,i.right,i.side,i],c,u),right:b([i.right,i.left,i.side,i],x,g),back:b([i.back,i.front,i],y,!0),front:b([i.front,i.back,i],d,!1)};if("auto"===e.axisLabelPosition){var v=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing};const M=[],P=(v(m.left,m.front)&&M.push({y:(r+n)/2,x:s,z:0,xDir:{x:1,y:0,z:0}}),v(m.left,m.back)&&M.push({y:(r+n)/2,x:s,z:h,xDir:{x:0,y:0,z:-1}}),v(m.right,m.front)&&M.push({y:(r+n)/2,x:o,z:0,xDir:{x:0,y:0,z:1}}),v(m.right,m.back)&&M.push({y:(r+n)/2,x:o,z:h,xDir:{x:-1,y:0,z:0}}),[]),A=(v(m.bottom,m.front)&&P.push({x:(s+o)/2,y:n,z:0,xDir:{x:1,y:0,z:0}}),v(m.bottom,m.back)&&P.push({x:(s+o)/2,y:n,z:h,xDir:{x:-1,y:0,z:0}}),[]),k=(v(m.top,m.front)&&A.push({x:(s+o)/2,y:r,z:0,xDir:{x:1,y:0,z:0}}),v(m.top,m.back)&&A.push({x:(s+o)/2,y:r,z:h,xDir:{x:-1,y:0,z:0}}),[]),S=(v(m.bottom,m.left)&&k.push({z:(0+h)/2,y:n,x:s,xDir:{x:0,y:0,z:-1}}),v(m.bottom,m.right)&&k.push({z:(0+h)/2,y:n,x:o,xDir:{x:0,y:0,z:1}}),[]);v(m.top,m.left)&&S.push({z:(0+h)/2,y:r,x:s,xDir:{x:0,y:0,z:-1}}),v(m.top,m.right)&&S.push({z:(0+h)/2,y:r,x:o,xDir:{x:0,y:0,z:1}});v=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];var s=G(t,a,!1);let o=0;for(let t=1;t<s.length;t++)(i*s[t][e]>i*s[o][e]||i*s[t][e]==i*s[o][e]&&s[t].z<s[o].z)&&(o=t);return t[o]};m.axes={y:{left:v(M,"x",-1),right:v(M,"x",1)},x:{top:v(A,"y",-1),bottom:v(P,"y",1)},z:{top:v(S,"y",-1),bottom:v(k,"y",1)}}}else m.axes={y:{left:{x:s,z:0,xDir:{x:1,y:0,z:0}},right:{x:o,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:r,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:n,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:u?o:s,y:r,xDir:u?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:u?o:s,y:n,xDir:u?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return m}getScale(t){const e=this.chart,i=e.plotLeft,s=e.plotWidth+i,o=e.plotTop,a=e.plotHeight+o,r=i+e.plotWidth/2,n=o+e.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE};let l,p=1;return l=[{x:i,y:o,z:0},{x:i,y:o,z:t}],[0,1].forEach(function(t){l.push({x:s,y:l[t].y,z:l[t].z})}),[0,1,2,3].forEach(function(t){l.push({x:l[t].x,y:a,z:l[t].z})}),(l=G(l,e,!1)).forEach(function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)}),i>h.minX&&(p=Math.min(p,1-Math.abs((i+r)/(h.minX+r))%1)),s<h.maxX&&(p=Math.min(p,(s-r)/(h.maxX-r))),o>h.minY&&(p=h.minY<0?Math.min(p,(o+n)/(-h.minY+o+n)):Math.min(p,1-(o+n)/(h.minY+n)%1)),p=a<h.maxY?Math.min(p,Math.abs((a-n)/(h.maxY-n))):p}}r.Additions=Je}const rt=i;var i=s(512),i=s.n(i);const nt=x()["composed"],ht=e["perspective"],lt=i().seriesTypes["line"]["prototype"],{pushUnique:pt,wrap:ct}=x();function xt(t){var e=this,t=t.apply(e,[].slice.call(arguments,1));if(!e.chart.is3d())return t;const i=lt.getGraphPath,s=e.options,o=Math.round(e.yAxis.getThreshold(s.threshold));let a=[];if(e.rawPointsX)for(let t=0;t<e.points.length;t++)a.push({x:e.rawPointsX[t],y:s.stacking?e.points[t].yBottom:o,z:e.zPadding});var r=e.chart.options.chart.options3d;a=ht(a,e.chart,!0).map(t=>({plotX:t.x,plotY:t.y,plotZ:t.z})),e.group&&r&&r.depth&&r.beta&&(e.markerGroup&&(e.markerGroup.add(e.group),e.markerGroup.attr({translateX:0,translateY:0})),e.group.attr({zIndex:Math.max(1,270<r.beta||r.beta<90?r.depth-Math.round(e.zPadding||0):Math.round(e.zPadding||0))})),a.reversed=!0;const n=i.call(e,a,!0,!0);if(n[0]&&"M"===n[0][0]&&(n[0]=["L",n[0][1],n[0][2]]),e.areaPath){const h=e.areaPath.splice(0,e.areaPath.length/2).concat(n);h.xMap=e.areaPath.xMap,e.areaPath=h}return e.graphPath=t}const dt={compose:function(t){pt(nt,"Area3DSeries")&&ct(t.prototype,"getGraphPath",xt)}};const yt={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}},ft=x()["composed"],{addEvent:zt,extend:ut,pushUnique:gt,wrap:bt}=x();function mt(t){const e=this.axis.axis3D;e&&ut(t.pos,e.fix3dPosition(t.pos))}function vt(t){const e=this.axis.axis3D,i=t.apply(this,[].slice.call(arguments,1));if(e){var t=i[0],s=i[1];if("M"===t[0]&&"L"===s[0])return t=[e.fix3dPosition({x:t[1],y:t[2],z:0}),e.fix3dPosition({x:s[1],y:s[2],z:0})],this.axis.chart.renderer.toLineSegments(t)}return i}const Mt={compose:function(t){gt(ft,"Axis.Tick3D")&&(zt(t,"afterGetLabelPosition",mt),bt(t.prototype,"getMarkPath",vt))}},Pt=x()["defaultOptions"],v=x()["deg2rad"],{perspective:M,perspective3D:d,shapeArea:At}=e,{addEvent:n,merge:kt,pick:P,wrap:h}=x();function St(){const t=this.chart,e=this.options;t.is3d?.()&&"colorAxis"!==this.coll&&(e.tickWidth=P(e.tickWidth,0),e.gridLineWidth=P(e.gridLineWidth,1))}function wt(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}function Dt(){this.axis3D||(this.axis3D=new Ht(this))}function Lt(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}function It(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));const e=arguments,i=e[1],s=e[2],o=[],a=this.getPlotLinePath({value:i}),r=this.getPlotLinePath({value:s});if(a&&r)for(let t=0;t<a.length;t+=2){var n=a[t],h=a[t+1],l=r[t],p=r[t+1];"M"===n[0]&&"L"===h[0]&&"M"===l[0]&&"L"===p[0]&&o.push(n,h,p,["L",l[1],l[2]],["Z"])}return o}function Tt(t){const e=this,i=e.axis3D,s=e.chart,o=t.apply(e,[].slice.call(arguments,1));if("colorAxis"===e.coll||!s.chart3d||!s.is3d())return o;if(null===o)return o;var t=s.options.chart.options3d,t=e.isZAxis?s.plotWidth:t.depth,a=s.chart3d.frame3d,r=o[0],n=o[1];let h,l=[];return"M"===r[0]&&"L"===n[0]&&(h=[i.swapZ({x:r[1],y:r[2],z:0}),i.swapZ({x:r[1],y:r[2],z:t}),i.swapZ({x:n[1],y:n[2],z:0}),i.swapZ({x:n[1],y:n[2],z:t})],this.horiz?(this.isZAxis?(a.left.visible&&l.push(h[0],h[2]),a.right.visible&&l.push(h[1],h[3])):(a.front.visible&&l.push(h[0],h[2]),a.back.visible&&l.push(h[1],h[3])),a.top.visible&&l.push(h[0],h[1]),a.bottom.visible&&l.push(h[2],h[3])):(a.front.visible&&l.push(h[0],h[2]),a.back.visible&&l.push(h[1],h[3]),a.left.visible&&l.push(h[0],h[1]),a.right.visible&&l.push(h[2],h[3])),l=M(l,this.chart,!1)),s.renderer.toLineSegments(l)}function Xt(t,s){const{chart:o,gridGroup:a,tickPositions:r,ticks:n}=this;if(this.categories&&o.frameShapes&&o.is3d()&&a&&s&&s.label){var h=a.element.childNodes[0].getBBox(),l=o.frameShapes.left.getBBox(),p=o.options.chart.options3d,p={x:o.plotWidth/2,y:o.plotHeight/2,z:p.depth/2,vd:P(p.depth,1)*P(p.viewDistance,0)},c=r.indexOf(s.pos),x=n[r[c-1]],c=n[r[c+1]];let t,e,i;return x?.label?.xy&&(e=d({x:x.label.xy.x,y:x.label.xy.y,z:null},p,p.vd)),c?.label?.xy&&(i=d({x:c.label.xy.x,y:c.label.xy.y,z:null},p,p.vd)),t={x:s.label.xy.x,y:s.label.xy.y,z:null},t=d(t,p,p.vd),Math.abs(e?t.x-e.x:i?i.x-t.x:h.x-l.x)}return t.apply(this,[].slice.call(arguments,1))}function Zt(t){t=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(t,!0):t}class Ht{static compose(t,e){Mt.compose(e),t.keepProps.includes("axis3D")||(kt(!0,Pt.xAxis,yt),t.keepProps.push("axis3D"),n(t,"init",Dt),n(t,"afterSetOptions",St),n(t,"drawCrosshair",wt),e=t.prototype,h(e,"getLinePath",Lt),h(e,"getPlotBandPath",It),h(e,"getPlotLinePath",Tt),h(e,"getSlotWidth",Xt),h(e,"getTitlePosition",Zt))}constructor(t){this.axis=t}fix3dPosition(t,e){const i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;var o=v*s.options.chart.options3d.alpha,a=v*s.options.chart.options3d.beta,r=P(e&&i.options.title.position3d,i.options.labels.position3d),e=P(e&&i.options.title.skew3d,i.options.labels.skew3d),n=s.chart3d.frame3d,h=s.plotLeft,l=s.plotWidth+h,p=s.plotTop,c=s.plotHeight+p;let x=0,d=0,y,f={x:0,y:1,z:0},z=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===n.axes.z.top)return{};d=t.y-p,t.x=n.axes.z.top.x,t.y=n.axes.z.top.y,y=n.axes.z.top.xDir,z=!n.top.frontFacing}else{if(null===n.axes.z.bottom)return{};d=t.y-c,t.x=n.axes.z.bottom.x,t.y=n.axes.z.bottom.y,y=n.axes.z.bottom.xDir,z=!n.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===n.axes.x.top)return{};d=t.y-p,t.y=n.axes.x.top.y,t.z=n.axes.x.top.z,y=n.axes.x.top.xDir,z=!n.top.frontFacing}else{if(null===n.axes.x.bottom)return{};d=t.y-c,t.y=n.axes.x.bottom.y,t.z=n.axes.x.bottom.z,y=n.axes.x.bottom.xDir,z=!n.bottom.frontFacing}else if(i.opposite){if(null===n.axes.y.right)return{};x=t.x-l,t.x=n.axes.y.right.x,t.z=n.axes.y.right.z,y={x:(y=n.axes.y.right.xDir).z,y:y.y,z:-y.x}}else{if(null===n.axes.y.left)return{};x=t.x-h,t.x=n.axes.y.left.x,t.z=n.axes.y.left.z,y=n.axes.y.left.xDir}if("chart"!==r)if("flap"===r)if(i.horiz){let t=Math.sin(o);p=Math.cos(o);i.opposite&&(t=-t),z&&(t=-t),f={x:y.z*t,y:p,z:-y.x*t}}else y={x:Math.cos(a),y:0,z:Math.sin(a)};else if("ortho"===r)if(i.horiz){c=Math.sin(o),l=Math.cos(o);const g=Math.sin(a)*l,b=-c,m=-l*Math.cos(a);f={x:y.y*m-y.z*b,y:y.z*g-y.x*m,z:y.x*b-y.y*g};let t=1/Math.sqrt(f.x*f.x+f.y*f.y+f.z*f.z);z&&(t=-t),f={x:t*f.x,y:t*f.y,z:t*f.z}}else y={x:Math.cos(a),y:0,z:Math.sin(a)};else i.horiz?f={x:Math.sin(a)*Math.sin(o),y:Math.cos(o),z:-Math.cos(a)*Math.sin(o)}:y={x:Math.cos(a),y:0,z:Math.sin(a)};t.x+=x*y.x+d*f.x,t.y+=x*y.y+d*f.y,t.z+=x*y.z+d*f.z;const u=M([t],i.chart)[0];return e&&(At(M([t,{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart))<0&&(y={x:-y.x,y:-y.y,z:-y.z}),h=M([{x:t.x,y:t.y,z:t.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart),u.matrix=[h[1].x-h[0].x,h[1].y-h[0].y,h[2].x-h[0].x,h[2].y-h[0].y,u.x,u.y],u.matrix[4]-=u.x*u.matrix[0]+u.y*u.matrix[2],u.matrix[5]-=u.x*u.matrix[1]+u.y*u.matrix[3]),u}swapZ(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t}}const Yt=class{static compose(t,e){Mt.compose(e),t.keepProps.includes("axis3D")||(kt(!0,Pt.xAxis,yt),t.keepProps.push("axis3D"),n(t,"init",Dt),n(t,"afterSetOptions",St),n(t,"drawCrosshair",wt),e=t.prototype,h(e,"getLinePath",Lt),h(e,"getPlotBandPath",It),h(e,"getPlotLinePath",Tt),h(e,"getSlotWidth",Xt),h(e,"getTitlePosition",Zt))}constructor(t){this.axis=t}fix3dPosition(t,e){const i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;var o=v*s.options.chart.options3d.alpha,a=v*s.options.chart.options3d.beta,r=P(e&&i.options.title.position3d,i.options.labels.position3d),e=P(e&&i.options.title.skew3d,i.options.labels.skew3d),n=s.chart3d.frame3d,h=s.plotLeft,l=s.plotWidth+h,p=s.plotTop,c=s.plotHeight+p;let x=0,d=0,y,f={x:0,y:1,z:0},z=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===n.axes.z.top)return{};d=t.y-p,t.x=n.axes.z.top.x,t.y=n.axes.z.top.y,y=n.axes.z.top.xDir,z=!n.top.frontFacing}else{if(null===n.axes.z.bottom)return{};d=t.y-c,t.x=n.axes.z.bottom.x,t.y=n.axes.z.bottom.y,y=n.axes.z.bottom.xDir,z=!n.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===n.axes.x.top)return{};d=t.y-p,t.y=n.axes.x.top.y,t.z=n.axes.x.top.z,y=n.axes.x.top.xDir,z=!n.top.frontFacing}else{if(null===n.axes.x.bottom)return{};d=t.y-c,t.y=n.axes.x.bottom.y,t.z=n.axes.x.bottom.z,y=n.axes.x.bottom.xDir,z=!n.bottom.frontFacing}else if(i.opposite){if(null===n.axes.y.right)return{};x=t.x-l,t.x=n.axes.y.right.x,t.z=n.axes.y.right.z,y={x:(y=n.axes.y.right.xDir).z,y:y.y,z:-y.x}}else{if(null===n.axes.y.left)return{};x=t.x-h,t.x=n.axes.y.left.x,t.z=n.axes.y.left.z,y=n.axes.y.left.xDir}if("chart"!==r)if("flap"===r)if(i.horiz){let t=Math.sin(o);p=Math.cos(o),i.opposite&&(t=-t),z&&(t=-t),f={x:y.z*t,y:p,z:-y.x*t}}else y={x:Math.cos(a),y:0,z:Math.sin(a)};else if("ortho"===r)if(i.horiz){c=Math.sin(o),l=Math.cos(o);const g=Math.sin(a)*l,b=-c,m=-l*Math.cos(a);f={x:y.y*m-y.z*b,y:y.z*g-y.x*m,z:y.x*b-y.y*g};let t=1/Math.sqrt(f.x*f.x+f.y*f.y+f.z*f.z);z&&(t=-t),f={x:t*f.x,y:t*f.y,z:t*f.z}}else y={x:Math.cos(a),y:0,z:Math.sin(a)};else i.horiz?f={x:Math.sin(a)*Math.sin(o),y:Math.cos(o),z:-Math.cos(a)*Math.sin(o)}:y={x:Math.cos(a),y:0,z:Math.sin(a)};t.x+=x*y.x+d*f.x,t.y+=x*y.y+d*f.y,t.z+=x*y.z+d*f.z;const u=M([t],i.chart)[0];return e&&(At(M([t,{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart))<0&&(y={x:-y.x,y:-y.y,z:-y.z}),h=M([{x:t.x,y:t.y,z:t.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z},{x:t.x+f.x,y:t.y+f.y,z:t.z+f.z}],i.chart),u.matrix=[h[1].x-h[0].x,h[1].y-h[0].y,h[2].x-h[0].x,h[2].y-h[0].y,u.x,u.y],u.matrix[4]-=u.x*u.matrix[0]+u.y*u.matrix[2],u.matrix[5]-=u.x*u.matrix[1]+u.y*u.matrix[3]),u}swapZ(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t}};var l=s(608),l=s.n(l),p=s(820),p=s.n(p);const Ot=x()["composed"],Ft=e["perspective"],{addEvent:Ct,extend:Et,isNumber:Rt,merge:Wt,pick:_t,pushUnique:Bt}=x();class y extends p(){static compose(t){Bt(Ot,"Core.Series3D")&&(Ct(t,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),Et(t.prototype,{translate3dPoints:y.prototype.translate3dPoints}))}translate3dPoints(){const e=this,t=e.options,i=e.chart,s=_t(e.zAxis,i.options.zAxis[0]),o=[],a=[],r=t.stacking?Rt(t.stack)?t.stack:0:e.index||0;let n,h;e.zPadding=r*(t.depth||0+(t.groupZPadding||1)),e.data.forEach(t=>{s?.translate?(h=s.logarithmic&&s.val2lin?s.val2lin(t.z):t.z,t.plotZ=s.translate(h),t.isInside=!!t.isInside&&(h>=s.min&&h<=s.max)):t.plotZ=e.zPadding,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,o.push({x:t.plotX,y:t.plotY,z:t.plotZ}),a.push(t.plotX||0)}),e.rawPointsX=a;const l=Ft(o,i,!0);e.data.forEach((t,e)=>{n=l[e],t.plotX=n.x,t.plotY=n.y,t.plotZ=n.z})}}y.defaultOptions=Wt(p().defaultOptions);const Gt=y;p=s(184),p=s.n(p);const Nt=t()["parse"];var f=l().getRendererType().prototype["Element"];const{defined:u,pick:jt}=x();class g extends f{constructor(){super(...arguments),this.parts=["front","top","side"],this.pathType="cuboid"}initArgs(t){const e=this,i=e.renderer,s=i[e.pathType+"Path"](t),o=s.zIndexes;for(const a of e.parts){const r={class:"highcharts-3d-"+a,zIndex:o[a]||0};i.styledMode&&("top"===a?r.filter="url(#highcharts-brighter)":"side"===a&&(r.filter="url(#highcharts-darker)")),e[a]=i.path(s[a]).attr(r).add(e)}e.attr({"stroke-linejoin":"round",zIndex:o.group}),e.forcedSides=s.forcedSides}singleSetterForParts(t,e,i,s,o,a){const r={},n=[null,null,s||"attr",o,a],h=i?.zIndexes;if(i){h?.group&&this.attr({zIndex:h.group});for(const l of Object.keys(i))r[l]={},r[l][t]=i[l],h&&(r[l].zIndex=i.zIndexes[l]||0);n[1]=r}else r[t]=e,n[0]=r;return this.processParts.apply(this,n)}processParts(t,e,i,s,o){for(const a of this.parts)!1!==(t=e?jt(e[a],!1):t)&&this[a][i](t,s,o);return this}destroy(){return this.processParts(null,null,"destroy"),super.destroy()}attr(t,e,i,s){var o;return"string"==typeof t&&void 0!==e&&(o=t,(t={})[o]=e),t.shapeArgs||u(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):super.attr(t,void 0,i,s)}animate(t,e,i){var s,o;return u(t.x)&&u(t.y)?(o=(s=this.renderer[this.pathType+"Path"](t)).forcedSides,this.singleSetterForParts("d",null,s,"animate",e,i),this.attr({zIndex:s.zIndexes.group}),o!==this.forcedSides&&(this.forcedSides=o,this.renderer.styledMode||this.fillSetter(this.fill))):super.animate(t,e,i),this}fillSetter(t){var e=this;return e.forcedSides=e.forcedSides||[],e.singleSetterForParts("fill",null,{front:t,top:Nt(t).brighten(0<=e.forcedSides.indexOf("top")?0:.1).get(),side:Nt(t).brighten(0<=e.forcedSides.indexOf("side")?0:-.1).get()}),e.color=e.fill=t,e}}g.types={base:g,cuboid:g};const qt=g,Ut=x()["animObject"],Vt=t()["parse"],{charts:Jt,deg2rad:b}=x(),{perspective:Kt,shapeArea:A}=e,{defined:m,extend:Qt,merge:$t,pick:k}=x(),S=Math.cos,w=Math.sin,D=Math.PI,L=4*(Math.sqrt(2)-1)/3/(D/2);function I(t,e,i,s,o,a,r,n){var h=a-o;let l=[];return o<a&&a-o>Math.PI/2+1e-4?l=(l=l.concat(I(t,e,i,s,o,o+Math.PI/2,r,n))).concat(I(t,e,i,s,o+Math.PI/2,a,r,n)):a<o&&o-a>Math.PI/2+1e-4?l=(l=l.concat(I(t,e,i,s,o,o-Math.PI/2,r,n))).concat(I(t,e,i,s,o-Math.PI/2,a,r,n)):[["C",t+i*Math.cos(o)-i*L*h*Math.sin(o)+r,e+s*Math.sin(o)+s*L*h*Math.cos(o)+n,t+i*Math.cos(a)+i*L*h*Math.sin(a)+r,e+s*Math.sin(a)-s*L*h*Math.cos(a)+n,t+i*Math.cos(a)+r,e+s*Math.sin(a)+n]]}function te(t,e){const i=[];for(const s of t)i.push(["L",s.x,s.y]);return t.length&&(i[0][0]="M",e&&i.push(["Z"])),i}function ee(t){const e=[];let i=!0;for(const s of t)e.push(i?["M",s.x,s.y]:["L",s.x,s.y]),i=!i;return e}function ie(t){const s=this,o=s.Element.prototype,e=s.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(t){var e,i;return"object"==typeof t&&(m(t.enabled)||m(t.vertexes)||m(t.insidePlotArea))&&(this.enabled=k(t.enabled,this.enabled),this.vertexes=k(t.vertexes,this.vertexes),this.insidePlotArea=k(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=Jt[s.chartIndex],i=Kt(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=A(i),t.d=e,t.visibility=this.enabled&&0<i?"inherit":"hidden"),o.attr.apply(this,arguments)},e.animate=function(t){var e,i;return"object"==typeof t&&(m(t.enabled)||m(t.vertexes)||m(t.insidePlotArea))&&(this.enabled=k(t.enabled,this.enabled),this.vertexes=k(t.vertexes,this.vertexes),this.insidePlotArea=k(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=Jt[s.chartIndex],i=Kt(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=A(i),i=this.enabled&&0<i?"visible":"hidden",t.d=e,this.attr("visibility",i)),o.animate.apply(this,arguments)},e.attr(t)}function se(t){const o=this,a=o.Element.prototype,r=o.g(),e=r.destroy;return this.styledMode||r.attr({"stroke-linejoin":"round"}),r.faces=[],r.destroy=function(){for(let t=0;t<r.faces.length;t++)r.faces[t].destroy();return e.call(this)},r.attr=function(e,t,i,s){if("object"==typeof e&&m(e.faces)){for(;r.faces.length>e.faces.length;)r.faces.pop().destroy();for(;r.faces.length<e.faces.length;)r.faces.push(o.face3d().add(r));for(let t=0;t<e.faces.length;t++)o.styledMode&&delete e.faces[t].fill,r.faces[t].attr(e.faces[t],null,i,s);delete e.faces}return a.attr.apply(this,arguments)},r.animate=function(e,i,s){if(e?.faces){for(;r.faces.length>e.faces.length;)r.faces.pop().destroy();for(;r.faces.length<e.faces.length;)r.faces.push(o.face3d().add(r));for(let t=0;t<e.faces.length;t++)r.faces[t].animate(e.faces[t],i,s);delete e.faces}return a.animate.apply(this,arguments)},r.attr(t)}function oe(t,e){const i=new qt.types[t](this,"g");return i.initArgs(e),i}function ae(t){return this.element3d("cuboid",t)}function re(t){const e=t.x||0,i=t.y||0,s=t.z||0,o=t.height||0,a=t.width||0,r=t.depth||0,n=Jt[this.chartIndex],h=n.options.chart.options3d,l=h.alpha,p=[];let c,x=0,d=[{x:e,y:i,z:s},{x:e+a,y:i,z:s},{x:e+a,y:i+o,z:s},{x:e,y:i+o,z:s},{x:e,y:i+o,z:s+r},{x:e+a,y:i+o,z:s+r},{x:e+a,y:i,z:s+r},{x:e,y:i,z:s+r}];d=Kt(d,n,t.insidePlotArea);const y=t=>0===o&&1<t&&t<6?{x:d[t].x,y:d[t].y+10,z:d[t].z}:d[0].x===d[7].x&&4<=t?{x:d[t].x+10,y:d[t].y,z:d[t].z}:0===r&&t<2||5<t?{x:d[t].x,y:d[t].y,z:d[t].z+10}:d[t],f=t=>d[t],z=(t,e,i)=>{var s=t.map(f),o=e.map(f),t=t.map(y),e=e.map(y);let a=[[],-1];return A(s)<0?a=[s,0]:A(o)<0?a=[o,1]:i&&(p.push(i),a=!(A(t)<0)&&A(e)<0?[o,1]:[s,0]),a};var t=(c=z([3,2,1,0],[7,6,5,4],"front"))[0],u=c[1],g=(c=z([1,6,7,0],[4,5,2,3],"top"))[0],b=c[1],m=(c=z([1,2,5,6],[0,7,4,3],"side"))[0],v=c[1];return 1===v?x+=1e6*(n.plotWidth-e):v||(x+=1e6*e),x+=10*(!b||0<=l&&l<=180||l<360&&357.5<l?n.plotHeight-i:10+i),1===u?x+=100*s:u||(x+=100*(1e3-s)),{front:this.toLinePath(t,!0),top:this.toLinePath(g,!0),side:this.toLinePath(m,!0),zIndexes:{group:Math.round(x)},forcedSides:p,isFront:u,isTop:b}}function ne(t){const e=this,l=e.g(),p=e.Element.prototype,s=["alpha","beta","x","y","r","innerR","start","end","depth"];function c(t){const e={};let i;for(i in t=$t(t))-1!==s.indexOf(i)&&(e[i]=t[i],delete t[i]);return!!Object.keys(e).length&&[e,t]}(t=$t(t)).alpha=(t.alpha||0)*b,t.beta=(t.beta||0)*b,l.top=e.path(),l.side1=e.path(),l.side2=e.path(),l.inn=e.path(),l.out=e.path(),l.onAdd=function(){var t=l.parentGroup,e=l.attr("class");l.top.add(l);for(const i of["out","inn","side1","side2"])l[i].attr({class:e+" highcharts-3d-side"}).add(t)};for(const i of["addClass","removeClass"])l[i]=function(){var t=arguments;for(const e of["top","out","inn","side1","side2"])l[e][i].apply(l[e],t)};l.setPaths=function(t){var e=l.renderer.arc3dPath(t),i=100*e.zTop;l.attribs=t,l.top.attr({d:e.top,zIndex:e.zTop}),l.inn.attr({d:e.inn,zIndex:e.zInn}),l.out.attr({d:e.out,zIndex:e.zOut}),l.side1.attr({d:e.side1,zIndex:e.zSide1}),l.side2.attr({d:e.side2,zIndex:e.zSide2}),l.zIndex=i,l.attr({zIndex:i}),t.center&&(l.top.setRadialReference(t.center),delete t.center)},l.setPaths(t),l.fillSetter=function(t){var e=Vt(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this};for(const o of["opacity","translateX","translateY","visibility"])l[o+"Setter"]=function(t,e){l[e]=t;for(const i of["out","inn","side1","side2","top"])l[i].attr(e,t)};return l.attr=function(t){if("object"==typeof t){t=c(t);if(t){const e=t[0];arguments[0]=t[1],void 0!==e.alpha&&(e.alpha*=b),void 0!==e.beta&&(e.beta*=b),Qt(l.attribs,e),l.attribs&&l.setPaths(l.attribs)}}return p.attr.apply(l,arguments)},l.animate=function(t,e,i){const s=this.attribs,o="data-"+Math.random().toString(26).substring(2,9),a=(delete t.center,delete t.z,Ut(k(e,this.renderer.globalAnimation)));if(a.duration){var r=c(t);if(l[o]=0,t[o]=1,l[o+"Setter"]=x().noop,r){const n=r[0],h=(t,e)=>s[t]+(k(n[t],s[t])-s[t])*e;a.step=function(t,e){e.prop===o&&e.elem.setPaths($t(s,{x:h("x",e.pos),y:h("y",e.pos),r:h("r",e.pos),innerR:h("innerR",e.pos),start:h("start",e.pos),end:h("end",e.pos),depth:h("depth",e.pos)}))}}e=a}return p.animate.call(this,t,e,i)},l.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),p.destroy.call(this)},l.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},l.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},l}function he(t){var e=t.x||0,i=t.y||0,s=t.start||0,o=(t.end||0)-1e-5,a=t.r||0,r=t.innerR||0,n=t.depth||0,h=t.alpha||0,t=t.beta||0,l=Math.cos(s),p=Math.sin(s),c=Math.cos(o),x=Math.sin(o),d=a*Math.cos(t),a=a*Math.cos(h),y=r*Math.cos(t),r=r*Math.cos(h),f=n*Math.sin(t),n=n*Math.sin(h);let z=[["M",e+d*l,i+a*p]];(z=z.concat(I(e,i,d,a,s,o,0,0))).push(["L",e+y*c,i+r*x]),(z=z.concat(I(e,i,y,r,o,s,0,0))).push(["Z"]);var t=0<t?Math.PI/2:0,h=0<h?0:Math.PI/2,t=!(-t<s)&&-t<o?-t:s,u=!(o<D-h)&&s<D-h?D-h:o,g=2*D-h;let b=[["M",e+d*S(t),i+a*w(t)]],m=(b=b.concat(I(e,i,d,a,t,u,0,0)),g<o&&s<g?(b.push(["L",e+d*S(u)+f,i+a*w(u)+n]),(b=b.concat(I(e,i,d,a,u,g,f,n))).push(["L",e+d*S(g),i+a*w(g)]),(b=b.concat(I(e,i,d,a,g,o,0,0))).push(["L",e+d*S(o)+f,i+a*w(o)+n]),(b=b.concat(I(e,i,d,a,o,g,f,n))).push(["L",e+d*S(g),i+a*w(g)]),b=b.concat(I(e,i,d,a,g,u,0,0))):o>D-h&&s<D-h&&(b.push(["L",e+d*Math.cos(u)+f,i+a*Math.sin(u)+n]),(b=b.concat(I(e,i,d,a,u,o,f,n))).push(["L",e+d*Math.cos(o),i+a*Math.sin(o)]),b=b.concat(I(e,i,d,a,o,u,0,0))),b.push(["L",e+d*Math.cos(u)+f,i+a*Math.sin(u)+n]),(b=b.concat(I(e,i,d,a,u,t,f,n))).push(["Z"]),[["M",e+y*l,i+r*p]]);(m=m.concat(I(e,i,y,r,s,o,0,0))).push(["L",e+y*Math.cos(o)+f,i+r*Math.sin(o)+n]),(m=m.concat(I(e,i,y,r,o,s,f,n))).push(["Z"]);g=[["M",e+d*l,i+a*p],["L",e+d*l+f,i+a*p+n],["L",e+y*l+f,i+r*p+n],["L",e+y*l,i+r*p],["Z"]],h=[["M",e+d*c,i+a*x],["L",e+d*c+f,i+a*x+n],["L",e+y*c+f,i+r*x+n],["L",e+y*c,i+r*x],["Z"]],u=Math.atan2(n,-f),t=Math.abs(o+u),l=Math.abs(s+u),p=Math.abs((s+o)/2+u);function v(t){return t=(t%=2*Math.PI)>Math.PI?2*Math.PI-t:t}t=v(t),l=v(l),d=1e5*v(p),a=1e5*l,e=1e5*t;return{top:z,zTop:1e5*Math.PI+1,out:b,zOut:Math.max(d,a,e),inn:m,zInn:Math.max(d,a,e),side1:g,zSide1:.99*e,side2:h,zSide2:.99*a}}(H||(H={})).compose=function(t){(t=t.prototype).element3d||Qt(t,{Element3D:qt,arc3d:ne,arc3dPath:he,cuboid:ae,cuboidPath:re,element3d:oe,face3d:ie,polyhedron:se,toLinePath:te,toLineSegments:ee})};const le=H;f=s(532),t=s.n(f);const pe=x()["defaultOptions"],{addEvent:ce,merge:xe,pick:de,splat:ye}=x();function fe(t){return new ue(this,t)}function ze(){const t=this.options.zAxis=ye(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],t.forEach(t=>{this.addZAxis(t).setScale()}))}class ue extends t(){constructor(){super(...arguments),this.isZAxis=!0}static compose(t){const e=t.prototype;e.addZAxis||(pe.zAxis=xe(pe.xAxis,{offset:0,lineWidth:0}),e.addZAxis=fe,e.collectionsWithInit.zAxis=[e.addZAxis],e.collectionsWithUpdate.push("zAxis"),ce(t,"afterCreateAxes",ze))}init(t,e){this.isZAxis=!0,super.init(t,e,"zAxis")}getSeriesExtremes(){this.hasVisibleSeries=!1,this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0,this.stacking&&this.stacking.buildStacks(),this.series.forEach(e=>{if(e.reserveSpace()){let t=e.options.threshold;this.hasVisibleSeries=!0,this.positiveValuesOnly&&t<=0&&(t=void 0);e=e.getColumn("z");e.length&&(this.dataMin=Math.min(de(this.dataMin,e[0]),Math.min.apply(null,e)),this.dataMax=Math.max(de(this.dataMax,e[0]),Math.max.apply(null,e)))}})}setAxisSize(){var t=this.chart;super.setAxisSize(),this.width=this.len=t.options.chart.options3d?.depth||0,this.right=t.chartWidth-this.width-this.left}}const ge=ue,be=x()["composed"],T=e["perspective"],{addEvent:me,extend:ve,pick:X,pushUnique:Me,wrap:Z}=x();function Pe(){var e,i=this,s=i.chart,t=i.options,o=t.depth;let a=(t.stacking?t.stack||0:i.index)*(o+(t.groupZPadding||1)),r=i.borderWidth%2?.5:0,n;s.inverted&&!i.yAxis.reversed&&(r*=-1),!1!==t.grouping&&(a=0),a+=t.groupZPadding||1;for(const h of i.points)if((h.outside3dPlot=null)!==h.y){const l=ve({x:0,y:0,width:0,height:0},h.shapeArgs||{}),p=[["x","width"],["y","height"]],c=h.tooltipPos;let t;for(const x of p)if((t=l[x[0]]-r)<0&&(l[x[1]]+=l[x[0]]+r,l[x[0]]=-r,t=0),t+l[x[1]]>i[x[0]+"Axis"].len&&0!==l[x[1]]&&(l[x[1]]=i[x[0]+"Axis"].len-l[x[0]]),0!==l[x[1]]&&(l[x[0]]>=i[x[0]+"Axis"].len||l[x[0]]+l[x[1]]<=r)){for(const d in l)l[d]="y"===d?-9999:0;h.outside3dPlot=!0}"roundedRect"===h.shapeType&&(h.shapeType="cuboid"),h.shapeArgs=ve(l,{z:a,depth:o,insidePlotArea:!0}),n={x:l.x+l.width/2,y:l.y,z:a+o/2},s.inverted&&(n.x=l.height,n.y=h.clientX||0),h.axisXpos=n.x,h.axisYpos=n.y,h.axisZpos=n.z,h.plot3d=T([n],s,!0,!1)[0],c&&(e=T([{x:c[0],y:c[1],z:a+o/2}],s,!0,!1)[0],h.tooltipPos=[e.x,e.y])}i.z=a}function Ae(){if(this.chart.is3d()){const o=this.options,t=o.grouping,a=o.stacking,r=this.yAxis.options.reversedStacks;let e=0;if(void 0===t||t){var i=function(t,e){const i=t.series,s={totalStacks:0};let o,a=1;return i.forEach(function(t){o=X(t.options.stack,e?0:i.length-1-t.index),s[o]?s[o].series.push(t):(s[o]={series:[t],position:a},a++)}),s.totalStacks=a+1,s}(this.chart,a),s=o.stack||0;let t;for(t=0;t<i[s].series.length&&i[s].series[t]!==this;t++);e=10*(i.totalStacks-i[s].position)+(r?t:-t),this.xAxis.reversed||(e=10*i.totalStacks-e)}o.depth=o.depth||25,this.z=this.z||0,o.zIndex=e}}function ke(t,...e){return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}function Se(t){if(this.chart.is3d()){const e=arguments,i=e[1],s=this.yAxis,o=this.yAxis.reversed;if(i)for(const a of this.points)null!==a.y&&(a.height=a.shapeArgs.height,a.shapey=a.shapeArgs.y,a.shapeArgs.height=1,o||(a.stackY?a.shapeArgs.y=a.plotY+s.translate(a.stackY):a.shapeArgs.y=a.plotY+(a.negative?-a.height:a.height)));else{for(const r of this.points)null!==r.y&&(r.shapeArgs.height=r.height,r.shapeArgs.y=r.shapey,r.graphic&&r.graphic[r.outside3dPlot?"attr":"animate"](r.shapeArgs,this.options.animation));this.drawDataLabels()}}else t.apply(this,[].slice.call(arguments,1))}function we(t,e,i,s,o,a){return"dataLabelsGroup"!==e&&"markerGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],a&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(a)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e&&(arguments[3]="visible"))),t.apply(this,Array.prototype.slice.call(arguments,1))}function De(t){const e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=X(this.options.edgeWidth,1)),e}function Le(t,e,i){var s=this.chart.is3d&&this.chart.is3d();s&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),s&&(this.options.inactiveOtherPoints=!1)}function Ie(t,e){var i=this;if(i.chart.is3d())for(const s of i.points)s.visible=s.options.visible=e=void 0===e?!X(i.visible,s.visible):e,i.options.data[i.data.indexOf(s)]=s.options,s.graphic&&s.graphic.attr({visibility:e?"visible":"hidden"});t.apply(this,Array.prototype.slice.call(arguments,1))}function Te(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}function Xe(t,e,i,s,o){const a=this.chart;if(s.outside3dPlot=e.outside3dPlot,a.is3d()&&this.is("column")){var r=this.options,s=X(s.inside,!!this.options.stacking),n=a.options.chart.options3d,h=e.pointWidth/2||0;let t={x:o.x+h,y:o.y,z:this.z+r.depth/2};a.inverted&&(s&&(o.width=0,t.x+=e.shapeArgs.height/2),90<=n.alpha&&n.alpha<=270&&(t.y+=e.shapeArgs.width)),t=T([t],a,!0,!1)[0],o.x=t.x-h,o.y=e.outside3dPlot?-9e9:t.y}t.apply(this,[].slice.call(arguments,1))}function Ze(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}function He(e,i){const s=e.apply(this,[].slice.call(arguments,1)),o=this.axis.chart,a=i["width"];if(o.is3d()&&this.base){e=+this.base.split(",")[0],i=o.series[e],e=o.options.chart.options3d;if(i&&"column"===i.type){let t={x:s.x+(o.inverted?s.height:a/2),y:s.y,z:i.options.depth/2};o.inverted&&(s.width=0,90<=e.alpha&&e.alpha<=270&&(t.y+=a)),t=T([t],o,!0,!1)[0],s.x=t.x-a/2,s.y=t.y}}return s}const Ye={compose:function(t,e){if(Me(be,"Column3D")){var i=t.prototype,e=e.prototype,{column:t,columnRange:s}=t.types;if(Z(i,"alignDataLabel",Xe),Z(i,"justifyDataLabel",Ze),Z(e,"getStackBox",He),t){const o=t.prototype,a=o.pointClass.prototype;o.translate3dPoints=()=>{},o.translate3dShapes=Pe,me(o,"afterInit",Ae),Z(a,"hasNewShapeType",ke),Z(o,"animate",Se),Z(o,"plotGroup",we),Z(o,"pointAttribs",De),Z(o,"setState",Le),Z(o,"setVisible",Ie),Z(o,"translate",Te)}s&&(e=(i=s.prototype).pointClass.prototype,Z(e,"hasNewShapeType",ke),Z(i,"plotGroup",we),Z(i,"pointAttribs",De),Z(i,"setState",Le),Z(i,"setVisible",Ie))}}};var{pointClass:H}=i().seriesTypes["pie"]["prototype"];class Oe extends H{haloPath(){return this.series?.chart.is3d()?[]:super.haloPath.apply(this,arguments)}}f=Oe;const{composed:Fe,deg2rad:Y}=x();t=i().seriesTypes.pie;const{extend:Ce,pick:Ee,pushUnique:Re}=x();class We extends t{static compose(t){Re(Fe,"Pie3D")&&(t.types.pie=We)}addPoint(){super.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)}animate(i){if(this.chart.is3d()){const s=this.center,o=this.group,a=this.markerGroup;let t=this.options.animation,e;!0===t&&(t={}),i?(o.oldtranslateX=Ee(o.oldtranslateX,o.translateX),o.oldtranslateY=Ee(o.oldtranslateY,o.translateY),e={translateX:s[0],translateY:s[1],scaleX:.001,scaleY:.001},o.attr(e),a&&(a.attrSetters=o.attrSetters,a.attr(e))):(e={translateX:o.oldtranslateX,translateY:o.oldtranslateY,scaleX:1,scaleY:1},o.animate(e,t),a&&a.animate(e,t))}else super.animate.apply(this,arguments)}getDataLabelPosition(t,e){e=super.getDataLabelPosition(t,e);if(this.chart.is3d()){var i=this.chart.options.chart.options3d,t=t.shapeArgs,s=t.r,o=(t.alpha||i?.alpha)*Y,i=(t.beta||i?.beta)*Y,t=(t.start+t.end)/2,a=e.connectorPosition,r=-s*(1-Math.cos(o))*Math.sin(t),n=s*(Math.cos(i)-1)*Math.cos(t);for(const h of[e?.natural,a.breakAt,a.touchingSliceAt])h.x+=n,h.y+=r}return e}pointAttribs(t){const e=super.pointAttribs.apply(this,arguments),i=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(e.stroke=i.edgeColor||t.color||this.color,e["stroke-width"]=Ee(i.edgeWidth,1)),e}translate(){if(super.translate.apply(this,arguments),this.chart.is3d()){var e=this,i=e.options,s=i.depth||0,o=e.chart.options.chart.options3d,a=o.alpha,r=o.beta;let t=i.stacking?(i.stack||0)*s:e._i*s;t+=s/2,!1!==i.grouping&&(t=0);for(const h of e.points){const l=h.shapeArgs;h.shapeType="arc3d",l.z=t,l.depth=.75*s,l.alpha=a,l.beta=r,l.center=e.center;var n=(l.end+l.start)/2;h.slicedTranslation={translateX:Math.round(Math.cos(n)*i.slicedOffset*Math.cos(a*Y)),translateY:Math.round(Math.sin(n)*i.slicedOffset*Math.cos(a*Y))}}}}drawTracker(){if(super.drawTracker.apply(this,arguments),this.chart.is3d())for(const t of this.points)if(t.graphic)for(const e of["out","inn","side1","side2"])t.graphic&&(t.graphic[e].element.point=t)}}Ce(We.prototype,{pointClass:f});const _e=We;H=s(632),t=s.n(H),f=t().prototype.pointClass;const Be=x()["defined"];class Ge extends f{applyOptions(){return super.applyOptions.apply(this,arguments),Be(this.z)||(this.z=0),this}}H=Ge,f={tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}};const Ne=e["pointCameraDistance"],{extend:je,merge:qe}=x();class Ue extends t(){pointAttribs(t){const e=super.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=Ne(t,this.chart)),e}}Ue.defaultOptions=qe(t().defaultOptions,f),je(Ue.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:H}),i().registerSeriesType("scatter3d",Ue);e=x();dt.compose(e.Series.types.area),Yt.compose(e.Axis,e.Tick),rt.compose(e.Chart,e.Fx),Ye.compose(e.Series,p()),_e.compose(e.Series),Gt.compose(e.Series),le.compose(l().getRendererType()),ge.compose(e.Chart);const Ve=e;return C.default})());