!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/indicators/pivot-points",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/indicators/pivot-points"]=e(t._Highcharts,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(f,y)=>(()=>{"use strict";var a={512:t=>{t.exports=y},944:t=>{t.exports=f}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;e=r[t]={exports:{}};return a[t](e,e.exports,o),e.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(o.d(t,{default:()=>u}),o(944)),e=o.n(e),n=o(512),s=o.n(n),n=s().seriesTypes.sma.prototype.pointClass;function l(t,e){let a=t.series.pointArrayMap,r,o=a.length;for(s().seriesTypes.sma.prototype.pointClass.prototype[e].call(t);o--;)t[r="dataLabel"+a[o]]&&t[r].element&&t[r].destroy(),t[r]=null}let i=s().seriesTypes["sma"],{merge:p,extend:d,defined:h,isArray:m}=e();class c extends i{toYData(t){return[t.P]}translate(){let a=this;super.translate.apply(a),a.points.forEach(function(e){a.pointArrayMap.forEach(function(t){h(e[t])&&(e["plot"+t]=a.yAxis.toPixels(e[t],!0))})}),a.plotEndPoint=a.xAxis.toPixels(a.endPoint,!0)}getGraphPath(t){let e=this,a=[[],[],[],[],[],[],[],[],[]],r=e.pointArrayMap.length,o=e.plotEndPoint,n=[],s,l,i=t.length,p;for(;i--;){for(p=0,l=t[i];p<r;p++)h(l[s=e.pointArrayMap[p]])&&a[p].push({plotX:l.plotX,plotY:l["plot"+s],isNull:!1},{plotX:o,plotY:l["plot"+s],isNull:!1},{plotX:o,plotY:null,isNull:!0});o=l.plotX}return a.forEach(t=>{n=n.concat(super.getGraphPath.call(e,t))}),n}drawDataLabels(){let a,r,o,n,s=this,l=s.pointArrayMap;s.options.dataLabels.enabled&&(r=s.points.length,l.concat([!1]).forEach((t,e)=>{for(n=r;n--;)o=s.points[n],t?(o.y=o[t],o.pivotLine=t,o.plotY=o["plot"+t],a=o["dataLabel"+t],e&&(o["dataLabel"+l[e-1]]=o.dataLabel),o.dataLabels||(o.dataLabels=[]),o.dataLabels[0]=o.dataLabel=a=a&&a.element?a:null):o["dataLabel"+l[e-1]]=o.dataLabel;super.drawDataLabels.call(s)}))}getValues(t,e){let a,r,o,n,s,l,i,p=e.period,d=t.xData,h=t.yData,c=h?h.length:0,u=this[e.algorithm+"Placement"],f=[],y=[],g=[];if(!(d.length<p)&&m(h[0])&&4===h[0].length){for(i=p+1;i<=c+p;i+=p)o=d.slice(i-p-1,i),n=h.slice(i-p-1,i),r=o.length,a=o[r-1],l=u(this.getPivotAndHLC(n)),s=f.push([a].concat(l)),y.push(a),g.push(f[s-1].slice(1));return this.endPoint=o[0]+(a-o[0])/r*p,{values:f,xData:y,yData:g}}}getPivotAndHLC(t){let e=t[t.length-1][3],a=-1/0,r=1/0;return t.forEach(function(t){a=Math.max(a,t[1]),r=Math.min(r,t[2])}),[(a+r+e)/3,a,r,e]}standardPlacement(t){var e=t[1]-t[2];return[null,null,t[0]+e,2*t[0]-t[2],t[0],2*t[0]-t[1],t[0]-e,null,null]}camarillaPlacement(t){var e=t[1]-t[2];return[t[3]+1.5*e,t[3]+1.25*e,t[3]+1.1666*e,t[3]+1.0833*e,t[0],t[3]-1.0833*e,t[3]-1.1666*e,t[3]-1.25*e,t[3]-1.5*e]}fibonacciPlacement(t){var e=t[1]-t[2];return[null,t[0]+e,t[0]+.618*e,t[0]+.382*e,t[0],t[0]-.382*e,t[0]-.618*e,t[0]-e,null]}}c.defaultOptions=p(i.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),d(c.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:class extends n{destroyElements(){l(this,"destroyElements")}destroy(){l(this,"destroyElements")}}}),s().registerSeriesType("pivotpoints",c);let u=e();return t.default})());