import*as e from"../highcharts.js";import"../modules/stock.js";var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a:a}),a},d:(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let a=e.default;var s=t.n(a);t.d({},{});let r=e.default.SeriesRegistry;var o=t.n(r);let i=o().seriesTypes["sma"],{merge:l,extend:n}=s();class h extends i{getValues(e,t){let a=t.lowIndex,s=t.highIndex,o=t.deviation/100,r=1+o,i=1-o,n=e.xData,d=e.yData,l=d?d.length:0,p=[],h=[],u=[],g,f,v,m,x=!1,y=!1;if(!(!n||n.length<=1||l&&(void 0===d[0][a]||void 0===d[0][s]))){var c=d[0][a],O=d[0][s];for(g=1;g<l;g++)d[g][a]<=O*i?(p.push([n[0],O]),v=[n[g],d[g][a]],m=!0,x=!0):d[g][s]>=c*r&&(p.push([n[0],c]),v=[n[g],d[g][s]],m=!1,x=!0),x&&(h.push(p[0][0]),u.push(p[0][1]),f=g++,g=l);for(g=f;g<l;g++)m?(d[g][a]<=v[1]&&(v=[n[g],d[g][a]]),d[g][s]>=v[1]*r&&(y=s)):(d[g][s]>=v[1]&&(v=[n[g],d[g][s]]),d[g][a]<=v[1]*i&&(y=a)),!1!==y&&(p.push(v),h.push(v[0]),u.push(v[1]),v=[n[g],d[g][y]],m=!m,y=!1);t=p.length;return 0!==t&&p[t-1][0]<n[l-1]&&(p.push(v),h.push(v[0]),u.push(v[1])),{values:p,xData:h,yData:u}}}}h.defaultOptions=l(i.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),n(h.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),o().registerSeriesType("zigzag",h);let d=s();export{d as default};