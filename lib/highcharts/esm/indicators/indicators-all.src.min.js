import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__modules_datagrouping_src_js_b7a4250c__ from"../modules/datagrouping.src.js";import*as __WEBPACK_EXTERNAL_MODULE__modules_stock_src_js_b3d80146__ from"../modules/stock.src.js";var __webpack_require__={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);const external_highcharts_src_js_default_Chart_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.Chart;var external_highcharts_src_js_default_Chart_default=__webpack_require__.n(external_highcharts_src_js_default_Chart_namespaceObject);const external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var MultipleLinesComposition,external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const LineSeries=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["line"],{addEvent,fireEvent,error,extend,isArray,merge,pick}=external_highcharts_src_js_default_default(),tableToMultiYData=(t,r)=>{const e=[],a=t.pointArrayMap,i=r&&t.dataTable.modified||t.dataTable;if(!a)return t.getColumn("y",r);const n=a.map(e=>t.getColumn(e,r));for(let r=0;r<i.rowCount;r++){var o=a.map((e,t)=>n[t]?.[r]||0);e.push(o)}return e};class SMAIndicator extends LineSeries{destroy(){this.dataEventsToUnbind.forEach(function(e){e()}),super.destroy.apply(this,arguments)}getName(){const r=[];let e=this.name;return e||((this.nameComponents||[]).forEach(function(e,t){r.push(this.options.params[e]+pick(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+r.join(", ")+")":"")),e}getValues(e,t){const r=t.period,a=e.xData||[],i=e.yData,n=i.length,o=[],s=[],l=[];let c,d=-1,p=0,_,u=0;if(!(a.length<r)){for(isArray(i[0])&&(d=t.index||0);p<r-1;)u+=d<0?i[p]:i[p][d],p++;for(c=p;c<n;c++)u+=d<0?i[c]:i[c][d],_=[a[c],u/r],o.push(_),s.push(_[0]),l.push(_[1]),u-=d<0?i[c-p]:i[c-p][d];return{values:o,xData:s,yData:l}}}init(r,e){const a=this;super.init.call(a,r,e);e=addEvent(external_highcharts_src_js_default_Chart_default(),"afterLinkSeries",function({isUpdating:e}){if(!e){e=!!a.dataEventsToUnbind.length;if(!a.linkedParent)return error("Series "+a.options.linkedTo+" not found! Check `linkedTo`.",!1,r);if(e||(a.dataEventsToUnbind.push(addEvent(a.linkedParent,"updatedData",function(){a.recalculateValues()})),a.calculateOn.xAxis&&a.dataEventsToUnbind.push(addEvent(a.linkedParent.xAxis,a.calculateOn.xAxis,function(){a.recalculateValues()}))),"init"===a.calculateOn.chart)a.closestPointRange||a.recalculateValues();else if(!e){const t=addEvent(a.chart,a.calculateOn.chart,function(){a.recalculateValues(),t()})}}},{order:0});a.dataEventsToUnbind=[],a.eventsToUnbind.push(e)}recalculateValues(){const e=[],t=this,r=this.dataTable,a=t.points||[],i=t.dataTable.rowCount,n={values:[],xData:[],yData:[]};let o=!0,s,l,c,d;var p=t.linkedParent.yData,_=t.linkedParent.processedYData;t.linkedParent.xData=t.linkedParent.getColumn("x"),t.linkedParent.yData=tableToMultiYData(t.linkedParent),t.linkedParent.processedYData=tableToMultiYData(t.linkedParent,!0);const u=t.linkedParent.options&&t.linkedParent.dataTable.rowCount&&t.getValues(t.linkedParent,t.options.params)||n,h=(delete t.linkedParent.xData,t.linkedParent.yData=p,t.linkedParent.processedYData=_,t.pointArrayMap||["y"]),g={};if(u.yData.forEach(a=>{h.forEach((e,t)=>{const r=g[e]||[];r.push(isArray(a)?a[t]:a),g[e]||(g[e]=r)})}),i&&!t.hasGroupedData&&t.visible&&t.points)if(t.cropped){t.xAxis&&(c=t.xAxis.min,d=t.xAxis.max);var I=t.cropData(r,c,d);const f=["x",...t.pointArrayMap||["y"]];for(let t=0;t<(I.modified?.rowCount||0);t++){var m=f.map(e=>this.getColumn(e)[t]||0);e.push(m)}p=t.getColumn("x");s=u.xData.indexOf(p[0]),l=u.xData.indexOf(p[p.length-1]),-1===s&&l===u.xData.length-2&&e[0][0]===a[0].x&&e.shift(),t.updateData(e)}else(t.updateAllPoints||u.xData.length!==i-1&&u.xData.length!==i+1)&&(o=!1,t.updateData(u.values));o&&(r.setColumns({...g,x:u.xData}),t.options.data=u.values),t.calculateOn.xAxis&&t.getColumn("x",!0).length&&(t.isDirty=!0,t.redraw()),t.isDirtyData=!!t.linkedSeries.length,fireEvent(t,"updatedData")}processData(){var e=this,t=e.options.compareToMain,r=e.linkedParent;super.processData.apply(e,arguments),e.dataModify&&r&&r.dataModify&&r.dataModify.compareValue&&t&&(e.dataModify.compareValue=r.dataModify.compareValue)}}SMAIndicator.defaultOptions=merge(LineSeries.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),extend(SMAIndicator.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("sma",SMAIndicator);const SMA_SMAIndicator=null,EMAIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{correctFloat,isArray:EMAIndicator_isArray,merge:EMAIndicator_merge}=external_highcharts_src_js_default_default();class EMAIndicator extends EMAIndicator_SMAIndicator{accumulatePeriodPoints(e,t,r){let a=0,i=0,n;for(;i<e;)n=t<0?r[i]:r[i][t],a+=n,i++;return a}calculateEma(e,t,r,a,i,n,o){e=e[r-1],t=n<0?t[r-1]:t[r-1][n];return[e,void 0===i?o:correctFloat(t*a+i*(1-a))]}getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=2/(r+1),s=[],l=[],c=[];let d,p,_,u=-1,h;if(!(n<r)){for(EMAIndicator_isArray(i[0])&&(u=t.index||0),h=this.accumulatePeriodPoints(r,u,i)/r,_=r;_<n+1;_++)p=this.calculateEma(a,i,_,o,d,u,h),s.push(p),l.push(p[0]),c.push(p[1]),d=p[1];return{values:s,xData:l,yData:c}}}}EMAIndicator.defaultOptions=EMAIndicator_merge(EMAIndicator_SMAIndicator.defaultOptions,{params:{index:3,period:9}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("ema",EMAIndicator);const EMA_EMAIndicator=null,ADIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{error:ADIndicator_error,extend:ADIndicator_extend,merge:ADIndicator_merge}=external_highcharts_src_js_default_default();class ADIndicator extends ADIndicator_SMAIndicator{static populateAverage(e,t,r,a,i){var n=t[a][1],o=t[a][2],t=t[a][3],r=r[a];return[e[a],t===n&&t===o||n===o?0:(2*t-o-n)/(n-o)*r]}getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=t.volumeSeriesID,o=e.chart.get(n),s=o?.getColumn("y"),l=i?i.length:0,c=[],d=[],p=[];let _,u,h;if(!(a.length<=r&&l&&4!==i[0].length)){if(o){for(u=r;u<l;u++)_=c.length,h=ADIndicator.populateAverage(a,i,s,u,r),0<_&&(h[1]+=c[_-1][1]),c.push(h),d.push(h[0]),p.push(h[1]);return{values:c,xData:d,yData:p}}ADIndicator_error("Series "+n+" not found! Check `volumeSeriesID`.",!0,e.chart)}}}ADIndicator.defaultOptions=ADIndicator_merge(ADIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),ADIndicator_extend(ADIndicator.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("ad",ADIndicator);const AD_ADIndicator=ADIndicator,noop=external_highcharts_src_js_default_default()["noop"],{column:{prototype:columnProto},sma:AOIndicator_SMAIndicator}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes,{extend:AOIndicator_extend,merge:AOIndicator_merge,correctFloat:AOIndicator_correctFloat,isArray:AOIndicator_isArray}=external_highcharts_src_js_default_default();class AOIndicator extends AOIndicator_SMAIndicator{drawGraph(){const e=this.options,t=this.points,r=this.userOptions.color,a=e.greaterBarColor,i=e.lowerBarColor,n=t[0];let o;if(!r&&n)for(n.color=a,o=1;o<t.length;o++)t[o].y>t[o-1].y?t[o].color=a:t[o].y<t[o-1].y?t[o].color=i:t[o].color=t[o-1].color}getValues(e){const t=e.xData||[],r=e.yData||[],a=r.length,i=[],n=[],o=[];let s,l,c,d,p,_,u,h,g=0,I=0;if(!(t.length<=34)&&AOIndicator_isArray(r[0])&&4===r[0].length){for(u=0;u<33;u++)_=(r[u][1]+r[u][2])/2,29<=u&&(I=AOIndicator_correctFloat(I+_)),g=AOIndicator_correctFloat(g+_);for(h=33;h<a;h++)_=(r[h][1]+r[h][2])/2,I=AOIndicator_correctFloat(I+_),g=AOIndicator_correctFloat(g+_),s=I/5,l=g/34,c=AOIndicator_correctFloat(s-l),i.push([t[h],c]),n.push(t[h]),o.push(c),d=h+1-5,p=h+1-34,I=AOIndicator_correctFloat(I-(r[d][1]+r[d][2])/2),g=AOIndicator_correctFloat(g-(r[p][1]+r[p][2])/2);return{values:i,xData:n,yData:o}}}}AOIndicator.defaultOptions=AOIndicator_merge(AOIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),AOIndicator_extend(AOIndicator.prototype,{nameBase:"AO",nameComponents:void 0,markerAttribs:noop,getColumnMetrics:columnProto.getColumnMetrics,crispCol:columnProto.crispCol,translate:columnProto.translate,drawPoints:columnProto.drawPoints}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("ao",AOIndicator);const AO_AOIndicator=null,{prototype:smaProto}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{defined,error:MultipleLinesComposition_error,merge:MultipleLinesComposition_merge}=external_highcharts_src_js_default_default(),Indicators_MultipleLinesComposition=(!function(e){const r=["bottomLine"],a=["top","bottom"],i=["top"];function g(e){return"plot"+e.charAt(0).toUpperCase()+e.slice(1)}function I(e,t){const r=[];return(e.pointArrayMap||[]).forEach(e=>{e!==t&&r.push(g(e))}),r}function n(){const r=this,e=r.pointValKey,t=r.linesApiNames,a=r.areaLinesNames,i=r.points,n=r.options,o=r.graph,s={options:{gapSize:n.gapSize}},l=[],c=I(r,e);let d=i.length,p;var _,u,h;c.forEach((e,t)=>{for(l[t]=[];d--;)p=i[d],l[t].push({x:p.x,plotX:p.plotX,plotY:p[e],isNull:!defined(p[e])});d=i.length}),r.userOptions.fillColor&&a.length&&(_=c.indexOf(g(a[0])),_=l[_],u=1===a.length?i:l[c.indexOf(g(a[1]))],h=r.color,r.points=u,r.nextPoints=_,r.color=r.userOptions.fillColor,r.options=MultipleLinesComposition_merge(i,s),r.graph=r.area,r.fillGraph=!0,smaProto.drawGraph.call(r),r.area=r.graph,delete r.nextPoints,delete r.fillGraph,r.color=h),t.forEach((e,t)=>{l[t]?(r.points=l[t],n[e]?r.options=MultipleLinesComposition_merge(n[e].styles,s):MultipleLinesComposition_error('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),r.graph=r["graph"+e],smaProto.drawGraph.call(r),r["graph"+e]=r.graph):MultipleLinesComposition_error('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),r.points=i,r.options=n,r.graph=o,smaProto.drawGraph.call(r)}function o(e){let t,r=[],a;if(e=e||this.points,this.fillGraph&&this.nextPoints){if((t=smaProto.getGraphPath.call(this,this.nextPoints))&&t.length){t[0][0]="L",r=smaProto.getGraphPath.call(this,e);for(let e=(a=t.slice(0,r.length)).length-1;0<=e;e--)r.push(a[e])}}else r=smaProto.getGraphPath.apply(this,arguments);return r}function s(t){const r=[];return(this.pointArrayMap||[]).forEach(e=>{r.push(t[e])}),r}function l(){const e=this.pointArrayMap;let a,i;a=I(this),smaProto.translate.apply(this,arguments),this.points.forEach(r=>{e.forEach((e,t)=>{i=r[e],null!==(i=this.dataModify?this.dataModify.modifyValue(i):i)&&(r[a[t]]=this.yAxis.toPixels(i,!0))})})}e.compose=function(e){const t=e.prototype;return t.linesApiNames=t.linesApiNames||r.slice(),t.pointArrayMap=t.pointArrayMap||a.slice(),t.pointValKey=t.pointValKey||"top",t.areaLinesNames=t.areaLinesNames||i.slice(),t.drawGraph=n,t.getGraphPath=o,t.toYData=s,t.translate=l,e}}(MultipleLinesComposition=MultipleLinesComposition||{}),MultipleLinesComposition),AroonIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:AroonIndicator_extend,merge:AroonIndicator_merge,pick:AroonIndicator_pick}=external_highcharts_src_js_default_default();function getExtremeIndexInArray(e,t){let r=e[0],a=0,i;for(i=1;i<e.length;i++)("max"===t&&e[i]>=r||"min"===t&&e[i]<=r)&&(r=e[i],a=i);return a}class AroonIndicator extends AroonIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=[],s=[],l=[];let c,d,p,_,u;for(_=r-1;_<n;_++)p=getExtremeIndexInArray((u=i.slice(_-r+1,_+2)).map(function(e){return AroonIndicator_pick(e[2],e)}),"min"),c=getExtremeIndexInArray(u.map(function(e){return AroonIndicator_pick(e[1],e)}),"max")/r*100,d=p/r*100,a[_+1]&&(o.push([a[_+1],c,d]),s.push(a[_+1]),l.push([c,d]));return{values:o,xData:s,yData:l}}}AroonIndicator.defaultOptions=AroonIndicator_merge(AroonIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),AroonIndicator_extend(AroonIndicator.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),Indicators_MultipleLinesComposition.compose(AroonIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("aroon",AroonIndicator);const Aroon_AroonIndicator=null,AroonOscillatorIndicator_AroonIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["aroon"],{extend:AroonOscillatorIndicator_extend,merge:AroonOscillatorIndicator_merge}=external_highcharts_src_js_default_default();class AroonOscillatorIndicator extends AroonOscillatorIndicator_AroonIndicator{getValues(e,t){const r=[],a=[],i=[];let n,o;var s=super.getValues.call(this,e,t);for(o=0;o<s.yData.length;o++)n=s.yData[o][0]-s.yData[o][1],r.push([s.xData[o],n]),a.push(s.xData[o]),i.push(n);return{values:r,xData:a,yData:i}}}AroonOscillatorIndicator.defaultOptions=AroonOscillatorIndicator_merge(AroonOscillatorIndicator_AroonIndicator.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),AroonOscillatorIndicator_extend(AroonOscillatorIndicator.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),Indicators_MultipleLinesComposition.compose(AroonOscillatorIndicator_AroonIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("aroonoscillator",AroonOscillatorIndicator);const AroonOscillator_AroonOscillatorIndicator=null,ATRIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isArray:ATRIndicator_isArray,merge:ATRIndicator_merge}=external_highcharts_src_js_default_default();function accumulateAverage(e,t,r,a){t=t[a],r=r[a];e.push([t,r])}function getTR(e,t){var r=e[1]-e[2],a=void 0===t?0:Math.abs(e[1]-t[3]),e=void 0===t?0:Math.abs(e[2]-t[3]);return Math.max(r,a,e)}function populateAverage(e,t,r,a,i,n){return[t[a-1],(n*(i-1)+getTR(r[a-1],r[a-2]))/i]}class ATRIndicator extends ATRIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=a[0],s=i[0],l=[[o,s]],c=[],d=[],p=[];let _,u,h=0,g=1,I=0;if(!(a.length<=r)&&ATRIndicator_isArray(i[0])&&4===i[0].length){for(u=1;u<=n;u++)accumulateAverage(l,a,i,u),r<g?(_=populateAverage(l,a,i,u,r,h),h=_[1],c.push(_),d.push(_[0]),p.push(_[1])):(r===g?(h=I/(u-1),c.push([a[u-1],h]),d.push(a[u-1]),p.push(h)):I+=getTR(i[u-1],i[u-2]),g++);return{values:c,xData:d,yData:p}}}}ATRIndicator.defaultOptions=ATRIndicator_merge(ATRIndicator_SMAIndicator.defaultOptions,{params:{index:void 0}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("atr",ATRIndicator);const ATR_ATRIndicator=null,BBIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:BBIndicator_extend,isArray:BBIndicator_isArray,merge:BBIndicator_merge}=external_highcharts_src_js_default_default();function getStandardDeviation(e,t,r,a){var i=e.length;let n=0,o,s=0;for(;n<i;n++)o=(r?e[n][t]:e[n])-a,s+=o*o;return s/=i-1,Math.sqrt(s)}class BBIndicator extends BBIndicator_SMAIndicator{init(){external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.init.apply(this,arguments),this.options=BBIndicator_merge({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const r=t.period,a=t.standardDeviation,i=[],n=[],o=e.xData,s=e.yData,l=s?s.length:0,c=[];let d,p,_,u,h,g,I,m,f;if(!(o.length<r)){var y=BBIndicator_isArray(s[0]);for(f=r;f<=l;f++)h=o.slice(f-r,f),g=s.slice(f-r,f),u=(m=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.getValues.call(this,{xData:h,yData:g},t)).xData[0],p=(d=m.yData[0])+a*(I=getStandardDeviation(g,t.index,y,d)),_=d-a*I,c.push([u,p,d,_]),i.push(u),n.push([p,d,_]);return{values:c,xData:i,yData:n}}}}BBIndicator.defaultOptions=BBIndicator_merge(BBIndicator_SMAIndicator.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),BBIndicator_extend(BBIndicator.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),Indicators_MultipleLinesComposition.compose(BBIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("bb",BBIndicator);const BB_BBIndicator=null,CCIIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isArray:CCIIndicator_isArray,merge:CCIIndicator_merge}=external_highcharts_src_js_default_default();function sumArray(e){return e.reduce(function(e,t){return e+t},0)}function meanDeviation(e,t){var r=e.length;let a=0,i;for(i=0;i<r;i++)a+=Math.abs(t-e[i]);return a}class CCIIndicator extends CCIIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=[],s=[],l=[],c=[];let d,p,_,u,h=1,g,I,m;if(!(a.length<=r)&&CCIIndicator_isArray(i[0])&&4===i[0].length){for(;h<r;)p=i[h-1],o.push((p[1]+p[2]+p[3])/3),h++;for(m=r;m<=n;m++)I=((p=i[m-1])[1]+p[2]+p[3])/3,u=o.push(I),d=(I-(g=sumArray(_=o.slice(u-r))/r))/(.015*(meanDeviation(_,g)/r)),s.push([a[m-1],d]),l.push(a[m-1]),c.push(d);return{values:s,xData:l,yData:c}}}}CCIIndicator.defaultOptions=CCIIndicator_merge(CCIIndicator_SMAIndicator.defaultOptions,{params:{index:void 0}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("cci",CCIIndicator);const CCI_CCIIndicator=null,CMFIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],CMFIndicator_merge=external_highcharts_src_js_default_default()["merge"];class CMFIndicator extends CMFIndicator_SMAIndicator{constructor(){super(...arguments),this.nameBase="Chaikin Money Flow"}isValid(){const e=this.chart,t=this.options,r=this.linkedParent,a=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),i=4===r?.pointArrayMap?.length;function n(e){return e.dataTable.rowCount>=t.params.period}return!!(r&&a&&n(r)&&n(a)&&i)}getValues(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.getColumn("y"),t.period)}getMoneyFlow(e,t,r,a){const i=t.length,n=[],o=[],s=[],l=[];let c,d,p=-1,_=0,u=0;function h(e,t){var r=e[1],a=e[2],e=e[3];return null!==t&&null!==r&&null!==a&&null!==e&&r!==a?(e-a-(r-e))/(r-a)*t:(p=c,null)}if(0<a&&a<=i){for(c=0;c<a;c++)n[c]=h(t[c],r[c]),_+=r[c],u+=n[c];for(o.push(e[c-1]),s.push(c-p>=a&&0!==_?u/_:null),l.push([o[0],s[0]]);c<i;c++)n[c]=h(t[c],r[c]),_=(_-=r[c-a])+r[c],u=(u-=n[c-a])+n[c],d=[e[c],c-p>=a?u/_:null],o.push(d[0]),s.push(d[1]),l.push([d[0],d[1]])}return{values:l,xData:o,yData:s}}}CMFIndicator.defaultOptions=CMFIndicator_merge(CMFIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("cmf",CMFIndicator);const CMF_CMFIndicator=null,DMIIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{correctFloat:DMIIndicator_correctFloat,extend:DMIIndicator_extend,isArray:DMIIndicator_isArray,merge:DMIIndicator_merge}=external_highcharts_src_js_default_default();class DMIIndicator extends DMIIndicator_SMAIndicator{calculateDM(e,t,r){var a=e[t][1],i=e[t][2],n=e[t-1][1],e=e[t-1][2];let o;return o=e-i<a-n?r?Math.max(a-n,0):0:r?0:Math.max(e-i,0),DMIIndicator_correctFloat(o)}calculateDI(e,t){return e/t*100}calculateDX(e,t){return DMIIndicator_correctFloat(Math.abs(e-t)/Math.abs(e+t)*100)}smoothValues(e,t,r){return DMIIndicator_correctFloat(e-e/r+t)}getTR(e,t){return DMIIndicator_correctFloat(Math.max(e[1]-e[2],t?Math.abs(e[1]-t[3]):0,t?Math.abs(e[2]-t[3]):0))}getValues(e,t){const u=t.period,h=e.xData,g=e.yData,r=g?g.length:0,I=[],m=[],f=[];if(!(h.length<=u)&&DMIIndicator_isArray(g[0])&&4===g[0].length){let c=0,d=0,p=0,_;for(_=1;_<r;_++){let e,t,r,a,i,n,o,s,l;_<=u?(a=this.calculateDM(g,_,!0),i=this.calculateDM(g,_),n=this.getTR(g[_],g[_-1]),c+=a,d+=i,p+=n,_===u&&(o=this.calculateDI(c,p),s=this.calculateDI(d,p),l=this.calculateDX(c,d),I.push([h[_],l,o,s]),m.push(h[_]),f.push([l,o,s]))):(a=this.calculateDM(g,_,!0),i=this.calculateDM(g,_),n=this.getTR(g[_],g[_-1]),e=this.smoothValues(c,a,u),t=this.smoothValues(d,i,u),r=this.smoothValues(p,n,u),c=e,d=t,p=r,o=this.calculateDI(c,p),s=this.calculateDI(d,p),l=this.calculateDX(c,d),I.push([h[_],l,o,s]),m.push(h[_]),f.push([l,o,s]))}return{values:I,xData:m,yData:f}}}}DMIIndicator.defaultOptions=DMIIndicator_merge(DMIIndicator_SMAIndicator.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),DMIIndicator_extend(DMIIndicator.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),Indicators_MultipleLinesComposition.compose(DMIIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("dmi",DMIIndicator);const DMI_DMIIndicator=null,DPOIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:DPOIndicator_extend,merge:DPOIndicator_merge,correctFloat:DPOIndicator_correctFloat,pick:DPOIndicator_pick}=external_highcharts_src_js_default_default();function accumulatePoints(e,t,r,a,i){a=DPOIndicator_pick(t[r][a],t[r]);return i?DPOIndicator_correctFloat(e-a):DPOIndicator_correctFloat(e+a)}class DPOIndicator extends DPOIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=t.index,i=Math.floor(r/2+1),n=r+i,o=e.xData||[],s=e.yData||[],l=s.length,c=[],d=[],p=[];let _,u,h,g,I,m=0;if(!(o.length<=n)){for(g=0;g<r-1;g++)m=accumulatePoints(m,s,g,a);for(I=0;I<=l-n;I++)u=I+r-1,h=I+n-1,m=accumulatePoints(m,s,u,a),_=DPOIndicator_pick(s[h][a],s[h])-m/r,m=accumulatePoints(m,s,I,a,!0),c.push([o[h],_]),d.push(o[h]),p.push(_);return{values:c,xData:d,yData:p}}}}DPOIndicator.defaultOptions=DPOIndicator_merge(DPOIndicator_SMAIndicator.defaultOptions,{params:{index:0,period:21}}),DPOIndicator_extend(DPOIndicator.prototype,{nameBase:"DPO"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("dpo",DPOIndicator);const DPO_DPOIndicator=null,ChaikinIndicator_EMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["ema"],{correctFloat:ChaikinIndicator_correctFloat,extend:ChaikinIndicator_extend,merge:ChaikinIndicator_merge,error:ChaikinIndicator_error}=external_highcharts_src_js_default_default();class ChaikinIndicator extends ChaikinIndicator_EMAIndicator{getValues(e,t){const r=t.periods,a=t.period,i=[],n=[],o=[];let s,l;if(2!==r.length||r[1]<=r[0])ChaikinIndicator_error('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else{e=AD_ADIndicator.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:a});if(e){var c=super.getValues.call(this,e,{period:r[0]}),d=super.getValues.call(this,e,{period:r[1]});if(c&&d){var p=r[1]-r[0];for(l=0;l<d.yData.length;l++)s=ChaikinIndicator_correctFloat(c.yData[l+p]-d.yData[l]),i.push([d.xData[l],s]),n.push(d.xData[l]),o.push(s);return{values:i,xData:n,yData:o}}}}}}ChaikinIndicator.defaultOptions=ChaikinIndicator_merge(ChaikinIndicator_EMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),ChaikinIndicator_extend(ChaikinIndicator.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("chaikin",ChaikinIndicator);const Chaikin_ChaikinIndicator=null,CMOIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isNumber,merge:CMOIndicator_merge}=external_highcharts_src_js_default_default();class CMOIndicator extends CMOIndicator_SMAIndicator{getValues(e,t){const i=t.period,n=e.xData,o=e.yData,s=o?o.length:0,l=[],c=[],d=[];let p,_=t.index,u;if(!(n.length<i)){u=isNumber(o[0])?o:(_=Math.min(_,o[0].length-1),o.map(e=>e[_]));let e,t=0,r=0,a;for(let e=i;0<e;e--)u[e]>u[e-1]?t+=u[e]-u[e-1]:u[e]<u[e-1]&&(r+=u[e-1]-u[e]);for(a=0<t+r?100*(t-r)/(t+r):0,c.push(n[i]),d.push(a),l.push([n[i],a]),p=i+1;p<s;p++)e=Math.abs(u[p-i-1]-u[p-i]),u[p]>u[p-1]?t+=u[p]-u[p-1]:u[p]<u[p-1]&&(r+=u[p-1]-u[p]),u[p-i]>u[p-i-1]?t-=e:r-=e,a=0<t+r?100*(t-r)/(t+r):0,c.push(n[p]),d.push(a),l.push([n[p],a]);return{values:l,xData:c,yData:d}}}}CMOIndicator.defaultOptions=CMOIndicator_merge(CMOIndicator_SMAIndicator.defaultOptions,{params:{period:20,index:3}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("cmo",CMOIndicator);const CMO_CMOIndicator=null,DEMAIndicator_EMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["ema"],{correctFloat:DEMAIndicator_correctFloat,isArray:DEMAIndicator_isArray,merge:DEMAIndicator_merge}=external_highcharts_src_js_default_default();class DEMAIndicator extends DEMAIndicator_EMAIndicator{getEMA(e,t,r,a,i,n){return super.calculateEma(n||[],e,void 0===i?1:i,this.EMApercent,t,void 0===a?-1:a,r)}getValues(e,t){const r=t.period,a=[],i=2*r,n=e.xData,o=e.yData,s=o?o.length:0,l=[],c=[],d=[];let p=0,_=0,u,h,g,I,m=-1,f,y=0;if(this.EMApercent=2/(r+1),!(s<2*r-1)){for(DEMAIndicator_isArray(o[0])&&(m=t.index||0),p=super.accumulatePeriodPoints(r,m,o),y=p/r,p=0,I=r;I<s+2;I++)I<s+1&&(_=this.getEMA(o,h,y,m,I)[1],a.push(_)),h=_,I<i?p+=_:(I===i&&(y=p/r),_=a[I-r-1],u=this.getEMA([_],g,y)[1],f=[n[I-2],DEMAIndicator_correctFloat(2*_-u)],l.push(f),c.push(f[0]),d.push(f[1]),g=u);return{values:l,xData:c,yData:d}}}}DEMAIndicator.defaultOptions=DEMAIndicator_merge(DEMAIndicator_EMAIndicator.defaultOptions),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("dema",DEMAIndicator);const DEMA_DEMAIndicator=null,TEMAIndicator_EMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["ema"],{correctFloat:TEMAIndicator_correctFloat,isArray:TEMAIndicator_isArray,merge:TEMAIndicator_merge}=external_highcharts_src_js_default_default();class TEMAIndicator extends TEMAIndicator_EMAIndicator{getEMA(e,t,r,a,i,n){return super.calculateEma(n||[],e,void 0===i?1:i,this.EMApercent,t,void 0===a?-1:a,r)}getTemaPoint(e,t,r,a){return[e[a-3],TEMAIndicator_correctFloat(3*r.level1-3*r.level2+r.level3)]}getValues(e,t){const r=t.period,a=2*r,i=3*r,n=e.xData,o=e.yData,s=o?o.length:0,l=[],c=[],d=[],p=[],_=[],u={};let h=-1,g=0,I=0,m,f,y,x;if(this.EMApercent=2/(r+1),!(s<3*r-2)){for(TEMAIndicator_isArray(o[0])&&(h=t.index||0),g=super.accumulatePeriodPoints(r,h,o),I=g/r,g=0,y=r;y<s+3;y++)y<s+1&&(u.level1=this.getEMA(o,m,I,h,y)[1],p.push(u.level1)),m=u.level1,y<a?g+=u.level1:(y===a&&(I=g/r,g=0),u.level1=p[y-r-1],u.level2=this.getEMA([u.level1],f,I)[1],_.push(u.level2),f=u.level2,y<i?g+=u.level2:(y===i&&(I=g/r),y===s+1&&(u.level1=p[y-r-1],u.level2=this.getEMA([u.level1],f,I)[1],_.push(u.level2)),u.level1=p[y-r-2],u.level2=_[y-2*r-1],u.level3=this.getEMA([u.level2],u.prevLevel3,I)[1],(x=this.getTemaPoint(n,i,u,y))&&(l.push(x),c.push(x[0]),d.push(x[1])),u.prevLevel3=u.level3));return{values:l,xData:c,yData:d}}}}TEMAIndicator.defaultOptions=TEMAIndicator_merge(TEMAIndicator_EMAIndicator.defaultOptions),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("tema",TEMAIndicator);const TEMA_TEMAIndicator=null,TRIXIndicator_TEMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["tema"],{correctFloat:TRIXIndicator_correctFloat,merge:TRIXIndicator_merge}=external_highcharts_src_js_default_default();class TRIXIndicator extends TRIXIndicator_TEMAIndicator{getTemaPoint(e,t,r,a){if(t<a)return[e[a-3],0!==r.prevLevel3?TRIXIndicator_correctFloat(r.level3-r.prevLevel3)/r.prevLevel3*100:null]}}TRIXIndicator.defaultOptions=TRIXIndicator_merge(TRIXIndicator_TEMAIndicator.defaultOptions),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("trix",TRIXIndicator);const TRIX_TRIXIndicator=null,APOIndicator_EMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["ema"],{extend:APOIndicator_extend,merge:APOIndicator_merge,error:APOIndicator_error}=external_highcharts_src_js_default_default();class APOIndicator extends APOIndicator_EMAIndicator{getValues(e,t){const r=t.periods,a=t.index,i=[],n=[],o=[];let s,l;if(2!==r.length||r[1]<=r[0])APOIndicator_error('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else{var c=super.getValues.call(this,e,{index:a,period:r[0]}),d=super.getValues.call(this,e,{index:a,period:r[1]});if(c&&d){var p=r[1]-r[0];for(l=0;l<d.yData.length;l++)s=c.yData[l+p]-d.yData[l],i.push([d.xData[l],s]),n.push(d.xData[l]),o.push(s);return{values:i,xData:n,yData:o}}}}}APOIndicator.defaultOptions=APOIndicator_merge(APOIndicator_EMAIndicator.defaultOptions,{params:{period:void 0,periods:[10,20]}}),APOIndicator_extend(APOIndicator.prototype,{nameBase:"APO",nameComponents:["periods"]}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("apo",APOIndicator);const APO_APOIndicator=null,datagrouping_src_js_default_dataGrouping_approximations_namespaceObject=__WEBPACK_EXTERNAL_MODULE__modules_datagrouping_src_js_b7a4250c__.default.dataGrouping.approximations;var datagrouping_src_js_default_dataGrouping_approximations_default=__webpack_require__.n(datagrouping_src_js_default_dataGrouping_approximations_namespaceObject);const external_highcharts_src_js_default_Color_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.Color;var external_highcharts_src_js_default_Color_default=__webpack_require__.n(external_highcharts_src_js_default_Color_namespaceObject);const color=external_highcharts_src_js_default_Color_default()["parse"],IKHIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{defined:IKHIndicator_defined,extend:IKHIndicator_extend,isArray:IKHIndicator_isArray,isNumber:IKHIndicator_isNumber,getClosestDistance,merge:IKHIndicator_merge,objectEach}=external_highcharts_src_js_default_default();function maxHigh(e){return e.reduce(function(e,t){return Math.max(e,t[1])},-1/0)}function minLow(e){return e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}function highlowLevel(e){return{high:maxHigh(e),low:minLow(e)}}function checkLineIntersection(e,t,r,a){if(e&&t&&r&&a){var i=t.plotX-e.plotX,t=t.plotY-e.plotY,n=a.plotX-r.plotX,a=a.plotY-r.plotY,o=e.plotX-r.plotX,r=e.plotY-r.plotY,s=(-t*o+i*r)/(-n*t+i*a),r=(n*r-a*o)/(-n*t+i*a);if(0<=s&&s<=1&&0<=r&&r<=1)return{plotX:e.plotX+r*i,plotY:e.plotY+r*t}}}function drawSenkouSpan(e){const t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=IKHIndicator_merge(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.drawGraph.call(t)}function ichimokuAverages(){const r=[];let a;return[].forEach.call(arguments,function(e,t){r.push(datagrouping_src_js_default_dataGrouping_approximations_default().average(e)),a=!a&&void 0===r[t]}),a?void 0:r}class IKHIndicator extends IKHIndicator_SMAIndicator{constructor(){super(...arguments),this.data=[],this.options={},this.points=[],this.graphCollection=[]}init(){super.init.apply(this,arguments),this.options=IKHIndicator_merge({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:color(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:color(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:color(this.color).setOpacity(.2).get()}}},this.options)}toYData(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]}translate(){external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.translate.apply(this);for(const t of this.points)for(const r of this.pointArrayMap){var e=t[r];IKHIndicator_isNumber(e)&&(t["plot"+r]=this.yAxis.toPixels(e,!0),t.plotY=t["plot"+r],t.tooltipPos=[t.plotX,t["plot"+r]],t.isNull=!1)}}drawGraph(){const r=this,e=r.points,a=r.options,t=r.graph,i=r.color,n={options:{gapSize:a.gapSize}},o=r.pointArrayMap.length,s=[[],[],[],[],[],[]],l={tenkanLine:s[0],kijunLine:s[1],chikouLine:s[2],senkouSpanA:s[3],senkouSpanB:s[4],senkouSpan:s[5]},c=[],d=r.options.senkouSpan,p=d.color||d.styles.fill,_=d.negativeColor,u=[[],[]],h=[[],[]];let g=e.length,I=0,m,f,y,x,A,S,D,M,v,P,C,R,O;for(r.ikhMap=l;g--;){for(f=e[g],y=0;y<o;y++)m=r.pointArrayMap[y],IKHIndicator_defined(f[m])&&s[y].push({plotX:f.plotX,plotY:f["plot"+m],isNull:!1});var T,L;_&&g!==e.length-1&&(T=l.senkouSpanB.length-1,(L=checkLineIntersection(l.senkouSpanA[T-1],l.senkouSpanA[T],l.senkouSpanB[T-1],l.senkouSpanB[T]))&&(L={plotX:L.plotX,plotY:L.plotY,isNull:!1,intersectPoint:!0},l.senkouSpanA.splice(T,0,L),l.senkouSpanB.splice(T,0,L),c.push(T)))}if(objectEach(l,(e,t)=>{a[t]&&"senkouSpan"!==t&&(r.points=s[I],r.options=IKHIndicator_merge(a[t].styles,n),r.graph=r["graph"+t],r.fillGraph=!1,r.color=i,external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.drawGraph.call(r),r["graph"+t]=r.graph),I++}),r.graphCollection)for(const j of r.graphCollection)r[j].destroy(),delete r[j];if(r.graphCollection=[],_&&l.senkouSpanA[0]&&l.senkouSpanB[0]){for(c.unshift(0),c.push(l.senkouSpanA.length-1),R=0;R<c.length-1;R++)if(x=c[R],A=c[R+1],S=l.senkouSpanB.slice(x,A+1),D=l.senkouSpanA.slice(x,A+1),1<=Math.floor(S.length/2)){var b=Math.floor(S.length/2);if(S[b].plotY===D[b].plotY){for(M=0,v=0,O=0;O<S.length;O++)M+=S[O].plotY,v+=D[O].plotY;C=M>v?0:1,u[C]=u[C].concat(S),h[C]=h[C].concat(D)}else C=S[b].plotY>D[b].plotY?0:1,u[C]=u[C].concat(S),h[C]=h[C].concat(D)}else C=S[0].plotY>D[0].plotY?0:1,u[C]=u[C].concat(S),h[C]=h[C].concat(D);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){u[t].length&&h[t].length&&(P=0===t?p:_,drawSenkouSpan({indicator:r,points:u[t],nextPoints:h[t],color:P,options:a,gap:n,graph:r[e]}),r[e]=r.graph,r.graphCollection.push(e))})}else drawSenkouSpan({indicator:r,points:l.senkouSpanB,nextPoints:l.senkouSpanA,color:p,options:a,gap:n,graph:r.graphsenkouSpan}),r.graphsenkouSpan=r.graph;delete r.nextPoints,delete r.fillGraph,r.points=e,r.options=a,r.graph=t,r.color=i}getGraphPath(e){var t=this;let r=[],a,i;if(e=e||this.points,t.fillGraph&&t.nextPoints){if((a=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.getGraphPath.call(t,t.nextPoints))&&a.length){a[0][0]="L",r=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.getGraphPath.call(t,e);for(let e=(i=a.slice(0,r.length)).length-1;0<=e;e--)r.push(i[e])}}else r=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.getGraphPath.apply(t,arguments);return r}getValues(e,t){const r=t.period,a=t.periodTenkan,i=t.periodSenkouSpanB,n=e.xData,o=e.yData,s=e.xAxis,l=o&&o.length||0,c=getClosestDistance(s.series.map(e=>e.getColumn("x"))),d=[],p=[];let _,u,h,g,I,m,f,y,x,A;if(!(n.length<=r)&&IKHIndicator_isArray(o[0])&&4===o[0].length){var S=n[0]-r*c;for(I=0;I<r;I++)p.push(S+I*c);for(I=0;I<l;I++)I>=a&&(u=highlowLevel(o.slice(I-a,I)),m=(u.high+u.low)/2),I>=r&&(h=highlowLevel(o.slice(I-r,I)),f=(h.high+h.low)/2,x=(m+f)/2),I>=i&&(g=highlowLevel(o.slice(I-i,I)),A=(g.high+g.low)/2),y=o[I][3],_=n[I],void 0===d[I]&&(d[I]=[]),void 0===d[I+r-1]&&(d[I+r-1]=[]),d[I+r-1][0]=m,d[I+r-1][1]=f,(d[I+r-1][2]=void 0)===d[I+1]&&(d[I+1]=[]),d[I+1][2]=y,I<=r&&(d[I+r-1][3]=void 0,d[I+r-1][4]=void 0),void 0===d[I+2*r-2]&&(d[I+2*r-2]=[]),d[I+2*r-2][3]=x,d[I+2*r-2][4]=A,p.push(_);for(I=1;I<=r;I++)p.push(_+I*c);return{values:d,xData:p,yData:d}}}}IKHIndicator.defaultOptions=IKHIndicator_merge(IKHIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),IKHIndicator_extend(IKHIndicator.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),datagrouping_src_js_default_dataGrouping_approximations_default()["ichimoku-averages"]=ichimokuAverages,external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("ikh",IKHIndicator);const IKH_IKHIndicator=null,KeltnerChannelsIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{correctFloat:KeltnerChannelsIndicator_correctFloat,extend:KeltnerChannelsIndicator_extend,merge:KeltnerChannelsIndicator_merge}=external_highcharts_src_js_default_default();class KeltnerChannelsIndicator extends KeltnerChannelsIndicator_SMAIndicator{init(){external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.init.apply(this,arguments),this.options=KeltnerChannelsIndicator_merge({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const r=t.period,a=t.periodATR,i=t.multiplierATR,n=t.index,o=e.yData,s=o?o.length:0,l=[],c=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.ema.prototype.getValues(e,{period:r,index:n}),d=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.atr.prototype.getValues(e,{period:a}),p=[],_=[];let u,h,g,I,m,f,y;if(!(s<r)){for(y=r;y<=s;y++)m=c.values[y-r],f=d.values[y-a],I=m[0],h=KeltnerChannelsIndicator_correctFloat(m[1]+i*f[1]),g=KeltnerChannelsIndicator_correctFloat(m[1]-i*f[1]),u=m[1],l.push([I,h,u,g]),p.push(I),_.push([h,u,g]);return{values:l,xData:p,yData:_}}}}KeltnerChannelsIndicator.defaultOptions=KeltnerChannelsIndicator_merge(KeltnerChannelsIndicator_SMAIndicator.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),KeltnerChannelsIndicator_extend(KeltnerChannelsIndicator.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),Indicators_MultipleLinesComposition.compose(KeltnerChannelsIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("keltnerchannels",KeltnerChannelsIndicator);const KeltnerChannels_KeltnerChannelsIndicator=null,{ema:KlingerIndicator_EMAIndicator,sma:KlingerIndicator_SMAIndicator}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes,{correctFloat:KlingerIndicator_correctFloat,error:KlingerIndicator_error,extend:KlingerIndicator_extend,isArray:KlingerIndicator_isArray,merge:KlingerIndicator_merge}=external_highcharts_src_js_default_default();class KlingerIndicator extends KlingerIndicator_SMAIndicator{calculateTrend(e,t){return e[t][1]+e[t][2]+e[t][3]>e[t-1][1]+e[t-1][2]+e[t-1][3]?1:-1}isValidData(e){const t=this.chart,r=this.options,a=this.linkedParent,i=KlingerIndicator_isArray(e)&&4===e.length,n=this.volumeSeries||(this.volumeSeries=t.get(r.params.volumeSeriesID));return n||KlingerIndicator_error("Series "+r.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,a.chart),!(![a,n].every(function(e){return e&&e.dataTable.rowCount>=r.params.slowAvgPeriod})||!i)}getCM(e,t,r,a,i){return KlingerIndicator_correctFloat(t+(r===a?e:i))}getDM(e,t){return KlingerIndicator_correctFloat(e-t)}getVolumeForce(e){const t=[];let r,a,i,n=1,o=0,s=e[0][1]-e[0][2],l=0,c;for(n;n<e.length;n++)c=this.calculateTrend(e,n),a=this.getDM(e[n][1],e[n][2]),r=this.getCM(o,a,c,l,s),i=this.volumeSeries.getColumn("y")[n]*c*Math.abs(2*(a/r-1))*100,t.push([i]),l=c,o=r,s=a;return t}getEMA(e,t,r,a,i,n,o){return KlingerIndicator_EMAIndicator.prototype.calculateEma(o||[],e,void 0===n?1:n,a,t,void 0===i?-1:i,r)}getSMA(e,t,r){return KlingerIndicator_EMAIndicator.prototype.accumulatePeriodPoints(e,t,r)/e}getValues(e,t){const r=[],a=e.xData,i=e.yData,n=[],o=[],s=[];let l,c=0,d=0,p,_=void 0,u=void 0,h=null;if(this.isValidData(i[0])){var g=this.getVolumeForce(i),I=this.getSMA(t.fastAvgPeriod,0,g),m=this.getSMA(t.slowAvgPeriod,0,g),f=2/(t.fastAvgPeriod+1),y=2/(t.slowAvgPeriod+1);for(c;c<i.length;c++)c>=t.fastAvgPeriod&&(d=this.getEMA(g,_,I,f,0,c,a)[1],_=d),c>=t.slowAvgPeriod&&(p=this.getEMA(g,u,m,y,0,c,a)[1],u=p,l=KlingerIndicator_correctFloat(d-p),s.push(l),s.length>=t.signalPeriod&&(h=s.slice(-t.signalPeriod).reduce((e,t)=>e+t)/t.signalPeriod),r.push([a[c],l,h]),n.push(a[c]),o.push([l,h]));return{values:r,xData:n,yData:o}}}}KlingerIndicator.defaultOptions=KlingerIndicator_merge(KlingerIndicator_SMAIndicator.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),KlingerIndicator_extend(KlingerIndicator.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),Indicators_MultipleLinesComposition.compose(KlingerIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("klinger",KlingerIndicator);const Klinger_KlingerIndicator=null,MACDIndicator_noop=external_highcharts_src_js_default_default()["noop"],{column:ColumnSeries,sma:MACDIndicator_SMAIndicator}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes,{extend:MACDIndicator_extend,correctFloat:MACDIndicator_correctFloat,defined:MACDIndicator_defined,merge:MACDIndicator_merge}=external_highcharts_src_js_default_default();class MACDIndicator extends MACDIndicator_SMAIndicator{init(){external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.init.apply(this,arguments);var e=this.color;this.options&&(MACDIndicator_defined(this.colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length}),this.color=e}toYData(e){return[e.y,e.signal,e.MACD]}translate(){const a=this,i=["plotSignal","plotMACD"];external_highcharts_src_js_default_default().seriesTypes.column.prototype.translate.apply(a),a.points.forEach(function(r){[r.signal,r.MACD].forEach(function(e,t){null!==e&&(r[i[t]]=a.yAxis.toPixels(e,!0))})})}destroy(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.destroy.apply(this,arguments)}drawGraph(){const r=this,e=r.points,a=r.options,t=r.zones,i={options:{gapSize:a.gapSize}},n=[[],[]];let o,s=e.length;for(;s--;)o=e[s],MACDIndicator_defined(o.plotMACD)&&n[0].push({plotX:o.plotX,plotY:o.plotMACD,isNull:!MACDIndicator_defined(o.plotMACD)}),MACDIndicator_defined(o.plotSignal)&&n[1].push({plotX:o.plotX,plotY:o.plotSignal,isNull:!MACDIndicator_defined(o.plotMACD)});["macd","signal"].forEach((e,t)=>{r.points=n[t],r.options=MACDIndicator_merge(a[e+"Line"]?.styles||{},i),r.graph=r["graph"+e],r.zones=(r[e+"Zones"].zones||[]).slice(r[e+"Zones"].startIndex||0),external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.drawGraph.call(r),r["graph"+e]=r.graph}),r.points=e,r.options=a,r.zones=t}applyZones(){var e=this.zones;this.zones=this.signalZones.zones,external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e}getValues(e,t){const r=t.longPeriod-t.shortPeriod,a=[],i=[],n=[];let o,s,l,c=0,d;if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(o=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.ema.prototype.getValues(e,{period:t.shortPeriod,index:t.index}),s=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.ema.prototype.getValues(e,{period:t.longPeriod,index:t.index}),o=o.values,s=s.values,l=0;l<=o.length;l++)MACDIndicator_defined(s[l])&&MACDIndicator_defined(s[l][1])&&MACDIndicator_defined(o[l+r])&&MACDIndicator_defined(o[l+r][0])&&a.push([o[l+r][0],0,null,o[l+r][1]-s[l][1]]);for(l=0;l<a.length;l++)i.push(a[l][0]),n.push([0,null,a[l][3]]);for(d=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.ema.prototype.getValues({xData:i,yData:n},{period:t.signalPeriod,index:2}).values,l=0;l<a.length;l++)a[l][0]>=d[0][0]&&(a[l][2]=d[c][1],n[l]=[0,d[c][1],a[l][3]],null===a[l][3]?(a[l][1]=0,n[l][0]=0):(a[l][1]=MACDIndicator_correctFloat(a[l][3]-d[c][1]),n[l][0]=MACDIndicator_correctFloat(a[l][3]-d[c][1])),c++);return{values:a,xData:i,yData:n}}}}MACDIndicator.defaultOptions=MACDIndicator_merge(MACDIndicator_SMAIndicator.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),MACDIndicator_extend(MACDIndicator.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:MACDIndicator_noop,getColumnMetrics:external_highcharts_src_js_default_default().seriesTypes.column.prototype.getColumnMetrics,crispCol:external_highcharts_src_js_default_default().seriesTypes.column.prototype.crispCol,drawPoints:external_highcharts_src_js_default_default().seriesTypes.column.prototype.drawPoints}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("macd",MACDIndicator);const MACD_MACDIndicator=null,MFIIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:MFIIndicator_extend,merge:MFIIndicator_merge,error:MFIIndicator_error,isArray:MFIIndicator_isArray}=external_highcharts_src_js_default_default();function MFIIndicator_sumArray(e){return e.reduce(function(e,t){return e+t})}function toFixed(e,t){return parseFloat(e.toFixed(t))}function calculateTypicalPrice(e){return(e[1]+e[2]+e[3])/3}function calculateRawMoneyFlow(e,t){return e*t}class MFIIndicator extends MFIIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=t.decimals,s=e.chart.get(t.volumeSeriesID),l=s?.getColumn("y")||[],c=[],d=[],p=[],_=[],u=[];let h,g,I,m,f,y,x=!1,A=1;if(s){if(!(a.length<=r)&&MFIIndicator_isArray(i[0])&&4===i[0].length&&l){for(h=calculateTypicalPrice(i[A]);A<r+1;)g=h,h=calculateTypicalPrice(i[A]),x=h>=g,I=calculateRawMoneyFlow(h,l[A]),_.push(x?I:0),u.push(x?0:I),A++;for(y=A-1;y<n;y++)y>A-1&&(_.shift(),u.shift(),g=h,h=calculateTypicalPrice(i[y]),x=h>g,I=calculateRawMoneyFlow(h,l[y]),_.push(x?I:0),u.push(x?0:I)),m=MFIIndicator_sumArray(u),f=toFixed(100-100/(1+MFIIndicator_sumArray(_)/m),o),c.push([a[y],f]),d.push(a[y]),p.push(f);return{values:c,xData:d,yData:p}}}else MFIIndicator_error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}MFIIndicator.defaultOptions=MFIIndicator_merge(MFIIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),MFIIndicator_extend(MFIIndicator.prototype,{nameBase:"Money Flow Index"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("mfi",MFIIndicator);const MFI_MFIIndicator=null,MomentumIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:MomentumIndicator_extend,isArray:MomentumIndicator_isArray,merge:MomentumIndicator_merge}=external_highcharts_src_js_default_default();function MomentumIndicator_populateAverage(e,t,r,a,i){t=t[r-1][i]-t[r-a-1][i];return[e[r-1],t]}class MomentumIndicator extends MomentumIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=t.index,i=e.xData,n=e.yData,o=n?n.length:0,s=[],l=[],c=[];let d,p;if(!(i.length<=r)&&MomentumIndicator_isArray(n[0])){for(d=r+1;d<o;d++)p=MomentumIndicator_populateAverage(i,n,d,r,a),s.push(p),l.push(p[0]),c.push(p[1]);return p=MomentumIndicator_populateAverage(i,n,d,r,a),s.push(p),l.push(p[0]),c.push(p[1]),{values:s,xData:l,yData:c}}}}MomentumIndicator.defaultOptions=MomentumIndicator_merge(MomentumIndicator_SMAIndicator.defaultOptions,{params:{index:3}}),MomentumIndicator_extend(MomentumIndicator.prototype,{nameBase:"Momentum"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("momentum",MomentumIndicator);const Momentum_MomentumIndicator=null,NATRIndicator_ATRIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["atr"],NATRIndicator_merge=external_highcharts_src_js_default_default()["merge"];class NATRIndicator extends NATRIndicator_ATRIndicator{getValues(e,t){const r=super.getValues.apply(this,arguments),a=r.values.length,i=e.yData;let n=0,o=t.period-1;if(r){for(;n<a;n++)r.yData[n]=r.values[n][1]/i[o][3]*100,r.values[n][1]=r.yData[n],o++;return r}}}NATRIndicator.defaultOptions=NATRIndicator_merge(NATRIndicator_ATRIndicator.defaultOptions,{tooltip:{valueSuffix:"%"}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("natr",NATRIndicator);const NATR_NATRIndicator=null,OBVIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isNumber:OBVIndicator_isNumber,error:OBVIndicator_error,extend:OBVIndicator_extend,merge:OBVIndicator_merge}=external_highcharts_src_js_default_default();class OBVIndicator extends OBVIndicator_SMAIndicator{getValues(e,t){const r=e.chart.get(t.volumeSeriesID),a=e.xData,i=e.yData,n=[],o=[],s=[],l=!OBVIndicator_isNumber(i[0]);let c,d=1,p=0,_=0,u=0,h,g;if(r){for(g=r.getColumn("y"),c=[a[0],p],u=l?i[0][3]:i[0],n.push(c),o.push(a[0]),s.push(c[1]),d;d<i.length;d++)h=l?i[d][3]:i[d],_=h>u?p+g[d]:h===u?p:p-g[d],c=[a[d],_],p=_,u=h,n.push(c),o.push(a[d]),s.push(c[1]);return{values:n,xData:o,yData:s}}OBVIndicator_error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}OBVIndicator.defaultOptions=OBVIndicator_merge(OBVIndicator_SMAIndicator.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),OBVIndicator_extend(OBVIndicator.prototype,{nameComponents:void 0}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("obv",OBVIndicator);const OBV_OBVIndicator=null,SMAPoint=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.pointClass;function destroyExtraLabels(e,t){var r=e.series.pointArrayMap;let a,i=r.length;for(external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes.sma.prototype.pointClass.prototype[t].call(e);i--;)e[a="dataLabel"+r[i]]&&e[a].element&&e[a].destroy(),e[a]=null}class PivotPointsPoint extends SMAPoint{destroyElements(){destroyExtraLabels(this,"destroyElements")}destroy(){destroyExtraLabels(this,"destroyElements")}}const PivotPoints_PivotPointsPoint=PivotPointsPoint,PivotPointsIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{merge:PivotPointsIndicator_merge,extend:PivotPointsIndicator_extend,defined:PivotPointsIndicator_defined,isArray:PivotPointsIndicator_isArray}=external_highcharts_src_js_default_default();class PivotPointsIndicator extends PivotPointsIndicator_SMAIndicator{toYData(e){return[e.P]}translate(){const r=this;super.translate.apply(r),r.points.forEach(function(t){r.pointArrayMap.forEach(function(e){PivotPointsIndicator_defined(t[e])&&(t["plot"+e]=r.yAxis.toPixels(t[e],!0))})}),r.plotEndPoint=r.xAxis.toPixels(r.endPoint,!0)}getGraphPath(e){const t=this,r=[[],[],[],[],[],[],[],[],[]],a=t.pointArrayMap.length;let i=t.plotEndPoint,n=[],o,s,l=e.length,c;for(;l--;){for(s=e[l],c=0;c<a;c++)o=t.pointArrayMap[c],PivotPointsIndicator_defined(s[o])&&r[c].push({plotX:s.plotX,plotY:s["plot"+o],isNull:!1},{plotX:i,plotY:s["plot"+o],isNull:!1},{plotX:i,plotY:null,isNull:!0});i=s.plotX}return r.forEach(e=>{n=n.concat(super.getGraphPath.call(t,e))}),n}drawDataLabels(){const r=this,a=r.pointArrayMap;let i,n,o,s;r.options.dataLabels.enabled&&(n=r.points.length,a.concat([!1]).forEach((e,t)=>{for(s=n;s--;)o=r.points[s],e?(o.y=o[e],o.pivotLine=e,o.plotY=o["plot"+e],i=o["dataLabel"+e],t&&(o["dataLabel"+a[t-1]]=o.dataLabel),o.dataLabels||(o.dataLabels=[]),o.dataLabels[0]=o.dataLabel=i=i&&i.element?i:null):o["dataLabel"+a[t-1]]=o.dataLabel;super.drawDataLabels.call(r)}))}getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=this[t.algorithm+"Placement"],s=[],l=[],c=[];let d,p,_,u,h,g,I,m;if(!(a.length<r)&&PivotPointsIndicator_isArray(i[0])&&4===i[0].length){for(m=r+1;m<=n+r;m+=r)_=a.slice(m-r-1,m),u=i.slice(m-r-1,m),p=_.length,d=_[p-1],g=this.getPivotAndHLC(u),I=o(g),h=s.push([d].concat(I)),l.push(d),c.push(s[h-1].slice(1));return this.endPoint=_[0]+(d-_[0])/p*r,{values:s,xData:l,yData:c}}}getPivotAndHLC(e){var t=e[e.length-1][3];let r=-1/0,a=1/0;return e.forEach(function(e){r=Math.max(r,e[1]),a=Math.min(a,e[2])}),[(r+a+t)/3,r,a,t]}standardPlacement(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]}camarillaPlacement(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]}fibonacciPlacement(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}}PivotPointsIndicator.defaultOptions=PivotPointsIndicator_merge(PivotPointsIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),PivotPointsIndicator_extend(PivotPointsIndicator.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:PivotPoints_PivotPointsPoint}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("pivotpoints",PivotPointsIndicator);const PivotPoints_PivotPointsIndicator=null,PPOIndicator_EMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["ema"],{correctFloat:PPOIndicator_correctFloat,extend:PPOIndicator_extend,merge:PPOIndicator_merge,error:PPOIndicator_error}=external_highcharts_src_js_default_default();class PPOIndicator extends PPOIndicator_EMAIndicator{getValues(e,t){const r=t.periods,a=t.index,i=[],n=[],o=[];let s,l;if(2!==r.length||r[1]<=r[0])PPOIndicator_error('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else{var c=super.getValues.call(this,e,{index:a,period:r[0]}),d=super.getValues.call(this,e,{index:a,period:r[1]});if(c&&d){var p=r[1]-r[0];for(l=0;l<d.yData.length;l++)s=PPOIndicator_correctFloat((c.yData[l+p]-d.yData[l])/d.yData[l]*100),i.push([d.xData[l],s]),n.push(d.xData[l]),o.push(s);return{values:i,xData:n,yData:o}}}}}PPOIndicator.defaultOptions=PPOIndicator_merge(PPOIndicator_EMAIndicator.defaultOptions,{params:{period:void 0,periods:[12,26]}}),PPOIndicator_extend(PPOIndicator.prototype,{nameBase:"PPO",nameComponents:["periods"]}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("ppo",PPOIndicator);const PPO_PPOIndicator=null;function getArrayExtremes(e,r,a){return e.reduce((e,t)=>[Math.min(e[0],t[r]),Math.max(e[1],t[a])],[Number.MAX_VALUE,-Number.MAX_VALUE])}const ArrayUtilities={getArrayExtremes:getArrayExtremes},Indicators_ArrayUtilities=ArrayUtilities,SeriesPalettes={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]},Palettes=SeriesPalettes,PCIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{merge:PCIndicator_merge,extend:PCIndicator_extend}=external_highcharts_src_js_default_default();class PCIndicator extends PCIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=[],s=[],l=[];let c,d,p,_,u,h,g;if(!(n<r)){for(g=r;g<=n;g++)_=a[g-1],u=i.slice(g-r,g),c=((d=(h=Indicators_ArrayUtilities.getArrayExtremes(u,2,1))[1])+(p=h[0]))/2,o.push([_,d,c,p]),s.push(_),l.push([d,c,p]);return{values:o,xData:s,yData:l}}}}PCIndicator.defaultOptions=PCIndicator_merge(PCIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:Palettes.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:Palettes.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),PCIndicator_extend(PCIndicator.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),Indicators_MultipleLinesComposition.compose(PCIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("pc",PCIndicator);const PC_PCIndicator=null,PriceEnvelopesIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:PriceEnvelopesIndicator_extend,isArray:PriceEnvelopesIndicator_isArray,merge:PriceEnvelopesIndicator_merge}=external_highcharts_src_js_default_default();class PriceEnvelopesIndicator extends PriceEnvelopesIndicator_SMAIndicator{init(){super.init.apply(this,arguments),this.options=PriceEnvelopesIndicator_merge({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const r=t.period,a=t.topBand,i=t.bottomBand,n=e.xData,o=e.yData,s=o?o.length:0,l=[],c=[],d=[];let p,_,u,h,g,I,m,f;if(!(n.length<r)&&PriceEnvelopesIndicator_isArray(o[0])&&4===o[0].length){for(f=r;f<=s;f++)g=n.slice(f-r,f),I=o.slice(f-r,f),h=(m=super.getValues({xData:g,yData:I},t)).xData[0],_=(p=m.yData[0])*(1+a),u=p*(1-i),l.push([h,_,p,u]),c.push(h),d.push([_,p,u]);return{values:l,xData:c,yData:d}}}}PriceEnvelopesIndicator.defaultOptions=PriceEnvelopesIndicator_merge(PriceEnvelopesIndicator_SMAIndicator.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),PriceEnvelopesIndicator_extend(PriceEnvelopesIndicator.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),Indicators_MultipleLinesComposition.compose(PriceEnvelopesIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("priceenvelopes",PriceEnvelopesIndicator);const PriceEnvelopes_PriceEnvelopesIndicator=null,PSARIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],PSARIndicator_merge=external_highcharts_src_js_default_default()["merge"];function PSARIndicator_toFixed(e,t){return parseFloat(e.toFixed(t))}function calculateDirection(e,t,r,a){return 1===e&&a<t||-1===e&&a<r?1:-1}function getAccelerationFactor(e,t,r,a,i,n,o,s){return e===t?1===e&&a<r||-1===e&&r<a?i===o?o:PSARIndicator_toFixed(i+n,2):i:s}function getExtremePoint(e,t,r,a){return 1===r?a<e?e:a:t<a?t:a}function getEPMinusPSAR(e,t){return e-t}function getAccelerationFactorMultiply(e,t){return e*t}function getPSAR(e,t,r,a,i,n,o,s,l){return e===t?1===e?r+a<Math.min(i,n)?r+a:Math.min(i,n):r+a>Math.max(s,o)?r+a:Math.max(s,o):l}class PSARIndicator extends PSARIndicator_SMAIndicator{constructor(){super(...arguments),this.nameComponents=void 0}getValues(e,t){const r=e.xData,a=e.yData,i=t.maxAccelerationFactor,n=t.increment,o=t.initialAccelerationFactor,s=t.decimals,l=t.index,c=[],d=[],p=[];let _=t.initialAccelerationFactor,u,h=a[0][1],g,I,m,f=1,y,x,A,S,D=a[0][2],M,v,P,C;if(!(l>=a.length)){for(C=0;C<l;C++)h=Math.max(a[C][1],h),D=Math.min(a[C][2],PSARIndicator_toFixed(D,s));for(u=a[C][1]>D?1:-1,g=getEPMinusPSAR(h,D),_=t.initialAccelerationFactor,I=getAccelerationFactorMultiply(_,g),c.push([r[l],D]),d.push(r[l]),p.push(PSARIndicator_toFixed(D,s)),C=l+1;C<a.length;C++)y=a[C-1][2],x=a[C-2][2],A=a[C-1][1],S=a[C-2][1],v=a[C][1],P=a[C][2],null!==x&&null!==S&&null!==y&&null!==A&&null!==v&&null!==P&&(D=getPSAR(u,f,D,I,x,y,A,S,h),M=getExtremePoint(v,P,u,h),m=calculateDirection(f,P,v,D),_=getAccelerationFactor(m,u,M,h,_,n,i,o),g=getEPMinusPSAR(M,D),I=getAccelerationFactorMultiply(_,g),c.push([r[C],PSARIndicator_toFixed(D,s)]),d.push(r[C]),p.push(PSARIndicator_toFixed(D,s)),f=u,u=m,h=M);return{values:c,xData:d,yData:p}}}}PSARIndicator.defaultOptions=PSARIndicator_merge(PSARIndicator_SMAIndicator.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("psar",PSARIndicator);const PSAR_PSARIndicator=null,ROCIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isArray:ROCIndicator_isArray,merge:ROCIndicator_merge,extend:ROCIndicator_extend}=external_highcharts_src_js_default_default();function ROCIndicator_populateAverage(e,t,r,a,i){let n,o;return o=i<0?(n=t[r-a])?(t[r]-n)/n*100:null:(n=t[r-a][i])?(t[r][i]-n)/n*100:null,[e[r],o]}class ROCIndicator extends ROCIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=[],s=[],l=[];let c,d=-1,p;if(!(a.length<=r)){for(ROCIndicator_isArray(i[0])&&(d=t.index),c=r;c<n;c++)p=ROCIndicator_populateAverage(a,i,c,r,d),o.push(p),s.push(p[0]),l.push(p[1]);return{values:o,xData:s,yData:l}}}}ROCIndicator.defaultOptions=ROCIndicator_merge(ROCIndicator_SMAIndicator.defaultOptions,{params:{index:3,period:9}}),ROCIndicator_extend(ROCIndicator.prototype,{nameBase:"Rate of Change"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("roc",ROCIndicator);const ROC_ROCIndicator=null,RSIIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isNumber:RSIIndicator_isNumber,merge:RSIIndicator_merge}=external_highcharts_src_js_default_default();function RSIIndicator_toFixed(e,t){return parseFloat(e.toFixed(t))}class RSIIndicator extends RSIIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=t.decimals,s=[],l=[],c=[];let d=0,p=0,_=t.index,u=1,h,g,I,m,f,y;if(!(a.length<r)){for(y=RSIIndicator_isNumber(i[0])?i:(_=Math.min(_,i[0].length-1),i.map(e=>e[_]));u<r;)0<(g=RSIIndicator_toFixed(y[u]-y[u-1],o))?d+=g:p+=Math.abs(g),u++;for(I=RSIIndicator_toFixed(d/(r-1),o),m=RSIIndicator_toFixed(p/(r-1),o),f=u;f<n;f++)g=RSIIndicator_toFixed(y[f]-y[f-1],o),p=0<g?(d=g,0):(d=0,Math.abs(g)),I=RSIIndicator_toFixed((I*(r-1)+d)/r,o),m=RSIIndicator_toFixed((m*(r-1)+p)/r,o),h=0===m?100:0===I?0:RSIIndicator_toFixed(100-100/(1+I/m),o),s.push([a[f],h]),l.push(a[f]),c.push(h);return{values:s,xData:l,yData:c}}}}RSIIndicator.defaultOptions=RSIIndicator_merge(RSIIndicator_SMAIndicator.defaultOptions,{params:{decimals:4,index:3}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("rsi",RSIIndicator);const RSI_RSIIndicator=null,StochasticIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:StochasticIndicator_extend,isArray:StochasticIndicator_isArray,merge:StochasticIndicator_merge}=external_highcharts_src_js_default_default();class StochasticIndicator extends StochasticIndicator_SMAIndicator{init(){super.init.apply(this,arguments),this.options=StochasticIndicator_merge({smoothedLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const r=t.periods[0],a=t.periods[1],i=e.xData,n=e.yData,o=n?n.length:0,s=[],l=[],c=[];let d,p,_,u=null,h,g,I;if(!(o<r)&&StochasticIndicator_isArray(n[0])&&4===n[0].length){let e=!0,t=0;for(I=r-1;I<o;I++){var m;d=n.slice(I-r+1,I+1),p=(g=Indicators_ArrayUtilities.getArrayExtremes(d,2,1))[0],_=(n[I][3]-p)/(g[1]-p)*100,isNaN(_)&&e?t++:(e&&!isNaN(_)&&(e=!1),m=l.push(i[I]),isNaN(_)?c.push([c[m-2]&&"number"==typeof c[m-2][0]?c[m-2][0]:null,null]):c.push([_,null]),I>=t+(r-1)+(a-1)&&(h=super.getValues({xData:l.slice(-a),yData:c.slice(-a)},{period:a}),u=h.yData[0]),s.push([i[I],_,u]),c[m-1][1]=u)}return{values:s,xData:l,yData:c}}}}StochasticIndicator.defaultOptions=StochasticIndicator_merge(StochasticIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),StochasticIndicator_extend(StochasticIndicator.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),Indicators_MultipleLinesComposition.compose(StochasticIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("stochastic",StochasticIndicator);const Stochastic_StochasticIndicator=null,{sma:SlowStochasticIndicator_SMAIndicator,stochastic:SlowStochasticIndicator_StochasticIndicator}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes,{extend:SlowStochasticIndicator_extend,merge:SlowStochasticIndicator_merge}=external_highcharts_src_js_default_default();class SlowStochasticIndicator extends SlowStochasticIndicator_StochasticIndicator{getValues(e,t){const r=t.periods,a=super.getValues.call(this,e,t),i={values:[],xData:[],yData:[]};if(a){i.xData=a.xData.slice(r[1]-1);var n=a.yData.slice(r[1]-1),o=SlowStochasticIndicator_SMAIndicator.prototype.getValues.call(this,{xData:i.xData,yData:n},{index:1,period:r[2]});if(o){for(let e=0,t=i.xData.length;e<t;e++)i.yData[e]=[n[e][1],o.yData[e-r[2]+1]||null],i.values[e]=[i.xData[e],n[e][1],o.yData[e-r[2]+1]||null];return i}}}}SlowStochasticIndicator.defaultOptions=SlowStochasticIndicator_merge(SlowStochasticIndicator_StochasticIndicator.defaultOptions,{params:{periods:[14,3,3]}}),SlowStochasticIndicator_extend(SlowStochasticIndicator.prototype,{nameBase:"Slow Stochastic"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("slowstochastic",SlowStochasticIndicator);const SlowStochastic_SlowStochasticIndicator=null,{atr:SupertrendIndicator_ATRIndicator,sma:SupertrendIndicator_SMAIndicator}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes,{addEvent:SupertrendIndicator_addEvent,correctFloat:SupertrendIndicator_correctFloat,isArray:SupertrendIndicator_isArray,isNumber:SupertrendIndicator_isNumber,extend:SupertrendIndicator_extend,merge:SupertrendIndicator_merge,objectEach:SupertrendIndicator_objectEach}=external_highcharts_src_js_default_default();function createPointObj(e,t){return{index:t,close:e.getColumn("close")[t],x:e.getColumn("x")[t]}}class SupertrendIndicator extends SupertrendIndicator_SMAIndicator{init(){const r=this,a=(super.init.apply(r,arguments),SupertrendIndicator_addEvent(this.chart.constructor,"afterLinkSeries",()=>{if(r.options){const e=r.options,t=r.linkedParent.options;e.cropThreshold=t.cropThreshold-(e.params.period-1)}a()},{order:1}))}drawGraph(){const r=this,e=r.options,t=r.linkedParent,a=t.getColumn("x"),i=t?t.points:[],n=r.points,o=r.graph,s=i.length-n.length,l=0<s?s:0,c={options:{gapSize:e.gapSize}},d={top:[],bottom:[],intersect:[]},p={top:{styles:{lineWidth:e.lineWidth,lineColor:e.fallingTrendColor||e.color,dashStyle:e.dashStyle}},bottom:{styles:{lineWidth:e.lineWidth,lineColor:e.risingTrendColor||e.color,dashStyle:e.dashStyle}},intersect:e.changeTrendLine};let _,u,h,g,I,m,f,y,x,A=n.length;for(;A--;)_=n[A],u=n[A-1],h=i[A-1+l],g=i[A-2+l],I=i[A+l],m=i[A+l+1],f=_.options.color,y={x:_.x,plotX:_.plotX,plotY:_.plotY,isNull:!1},!g&&h&&SupertrendIndicator_isNumber(a[h.index-1])&&(g=createPointObj(t,h.index-1)),!m&&I&&SupertrendIndicator_isNumber(a[I.index+1])&&(m=createPointObj(t,I.index+1)),!h&&g&&SupertrendIndicator_isNumber(a[g.index+1])?h=createPointObj(t,g.index+1):!h&&I&&SupertrendIndicator_isNumber(a[I.index-1])&&(h=createPointObj(t,I.index-1)),_&&h&&I&&g&&_.x!==h.x&&(_.x===I.x?(g=h,h=I):_.x===g.x?(h=g,g={close:t.getColumn("close")[h.index-1],x:a[h.index-1]}):m&&_.x===m.x&&(h=m,g=I)),u&&g&&h?(x={x:u.x,plotX:u.plotX,plotY:u.plotY,isNull:!1},_.y>=h.close&&u.y>=g.close?(_.color=f||e.fallingTrendColor||e.color,d.top.push(y)):_.y<h.close&&u.y<g.close?(_.color=f||e.risingTrendColor||e.color,d.bottom.push(y)):(d.intersect.push(y),d.intersect.push(x),d.intersect.push(SupertrendIndicator_merge(x,{isNull:!0})),_.y>=h.close&&u.y<g.close?(_.color=f||e.fallingTrendColor||e.color,u.color=f||e.risingTrendColor||e.color,d.top.push(y),d.top.push(SupertrendIndicator_merge(x,{isNull:!0}))):_.y<h.close&&u.y>=g.close&&(_.color=f||e.risingTrendColor||e.color,u.color=f||e.fallingTrendColor||e.color,d.bottom.push(y),d.bottom.push(SupertrendIndicator_merge(x,{isNull:!0}))))):h&&(_.y>=h.close?(_.color=f||e.fallingTrendColor||e.color,d.top.push(y)):(_.color=f||e.risingTrendColor||e.color,d.bottom.push(y)));SupertrendIndicator_objectEach(d,function(e,t){r.points=e,r.options=SupertrendIndicator_merge(p[t].styles,c),r.graph=r["graph"+t+"Line"],SupertrendIndicator_SMAIndicator.prototype.drawGraph.call(r),r["graph"+t+"Line"]=r.graph}),r.points=n,r.options=e,r.graph=o}getValues(e,t){const r=t.period,a=t.multiplier,i=e.xData,n=e.yData,o=[],s=[],l=[],c=0===r?0:r-1,d=[],p=[];let _,u,h,g,I,m,f,y,x,A;if(!(i.length<=r||!SupertrendIndicator_isArray(n[0])||4!==n[0].length||r<0)){for(_=SupertrendIndicator_ATRIndicator.prototype.getValues.call(this,e,{period:r}).yData,A=0;A<_.length;A++)x=n[c+A],y=n[c+A-1]||[],I=d[A-1],m=p[A-1],f=l[A-1],0===A&&(I=m=f=0),u=SupertrendIndicator_correctFloat((x[1]+x[2])/2+a*_[A]),h=SupertrendIndicator_correctFloat((x[1]+x[2])/2-a*_[A]),u<I||y[3]>I?d[A]=u:d[A]=I,h>m||y[3]<m?p[A]=h:p[A]=m,f===I&&x[3]<d[A]||f===m&&x[3]<p[A]?g=d[A]:(f===I&&x[3]>d[A]||f===m&&x[3]>p[A])&&(g=p[A]),o.push([i[c+A],g]),s.push(i[c+A]),l.push(g);return{values:o,xData:s,yData:l}}}}SupertrendIndicator.defaultOptions=SupertrendIndicator_merge(SupertrendIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),SupertrendIndicator_extend(SupertrendIndicator.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("supertrend",SupertrendIndicator);const Supertrend_SupertrendIndicator=null,{prototype:{pointClass:VBPPoint_SMAPoint}}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"];class VBPPoint extends VBPPoint_SMAPoint{destroy(){this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),super.destroy.apply(this,arguments)}}const VBP_VBPPoint=VBPPoint,animObject=external_highcharts_src_js_default_default()["animObject"],VBPIndicator_noop=external_highcharts_src_js_default_default()["noop"],{column:{prototype:VBPIndicator_columnProto},sma:VBPIndicator_SMAIndicator}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes,{addEvent:VBPIndicator_addEvent,arrayMax,arrayMin,correctFloat:VBPIndicator_correctFloat,defined:VBPIndicator_defined,error:VBPIndicator_error,extend:VBPIndicator_extend,isArray:VBPIndicator_isArray,merge:VBPIndicator_merge}=external_highcharts_src_js_default_default(),abs=Math.abs;function arrayExtremesOHLC(e){var t=e.length;let r=e[0][3],a=r,i=1,n;for(;i<t;i++)(n=e[i][3])<r&&(r=n),n>a&&(a=n);return{min:r,max:a}}class VBPIndicator extends VBPIndicator_SMAIndicator{init(r,e){const a=this,i=(delete e.data,super.init.apply(a,arguments),VBPIndicator_addEvent(this.chart.constructor,"afterLinkSeries",function(){var e,t;a.options&&(t=a.options.params,e=a.linkedParent,t=r.get(t.volumeSeriesID),a.addCustomEvents(e,t)),i()},{order:1}));return a}addCustomEvents(e,t){const r=this,a=()=>{r.chart.redraw(),r.setData([]),r.zoneStarts=[],r.zoneLinesSVG&&(r.zoneLinesSVG=r.zoneLinesSVG.destroy())};return r.dataEventsToUnbind.push(VBPIndicator_addEvent(e,"remove",function(){a()})),t&&r.dataEventsToUnbind.push(VBPIndicator_addEvent(t,"remove",function(){a()})),r}animate(e){const r=this,t=r.chart.inverted,a=r.group,i={};!e&&a&&(e=t?r.yAxis.top:r.xAxis.left,t?(a["forceAnimate:translateY"]=!0,i.translateY=e):(a["forceAnimate:translateX"]=!0,i.translateX=e),a.animate(i,VBPIndicator_extend(animObject(r.options.animation),{step:function(e,t){r.group.attr({scaleX:Math.max(.001,t.pos)})}})))}drawPoints(){var e=this;e.options.volumeDivision.enabled&&(e.posNegVolume(!0,!0),VBPIndicator_columnProto.drawPoints.apply(e,arguments),e.posNegVolume(!1,!1)),VBPIndicator_columnProto.drawPoints.apply(e,arguments)}posNegVolume(e,t){var r=this,a=t?["positive","negative"]:["negative","positive"],i=r.options.volumeDivision,n=r.points.length;let o=[],s=[],l=0,c,d,p,_;for(e?(r.posWidths=o,r.negWidths=s):(o=r.posWidths,s=r.negWidths);l<n;l++)(_=r.points[l])[a[0]+"Graphic"]=_.graphic,_.graphic=_[a[1]+"Graphic"],e&&(c=_.shapeArgs.width,(p=(d=r.priceZones[l]).wholeVolumeData)?(o.push(c/p*d.positiveVolumeData),s.push(c/p*d.negativeVolumeData)):(o.push(0),s.push(0))),_.color=t?i.styles.positiveColor:i.styles.negativeColor,_.shapeArgs.width=(t?r.posWidths:r.negWidths)[l],_.shapeArgs.x=t?_.shapeArgs.x:r.posWidths[l]}translate(){const r=this,e=r.options,t=r.chart,a=r.yAxis,i=a.min,n=r.options.zoneLines,o=r.priceZones;let s=0,l,c,d,p,_,u,h,g,I,m,f;VBPIndicator_columnProto.translate.apply(r);const y=r.points;y.length&&(g=e.pointPadding<.5?e.pointPadding:.1,l=r.volumeDataArray,c=arrayMax(l),d=t.plotWidth/2,I=t.plotTop,p=abs(a.toPixels(i)-a.toPixels(i+r.rangeStep)),u=abs(a.toPixels(i)-a.toPixels(i+r.rangeStep)),g&&(_=abs(p*(1-2*g)),s=abs((p-_)/2),p=abs(_)),y.forEach(function(e,t){m=e.barX=e.plotX=0,f=e.plotY=a.toPixels(o[t].start)-I-(a.reversed?p-u:p)-s,h=VBPIndicator_correctFloat(d*o[t].wholeVolumeData/c),e.pointWidth=h,e.shapeArgs=r.crispCol.apply(r,[0,f,h,p]),e.volumeNeg=o[t].negativeVolumeData,e.volumePos=o[t].positiveVolumeData,e.volumeAll=o[t].wholeVolumeData}),n.enabled&&r.drawZones(t,a,r.zoneStarts,n.styles))}getExtremes(){var e=this.options.compare,t=this.options.cumulative;let r;return this.options.compare?(this.options.compare=void 0,r=super.getExtremes(),this.options.compare=e):this.options.cumulative?(this.options.cumulative=!1,r=super.getExtremes(),this.options.cumulative=t):r=super.getExtremes(),r}getValues(e,t){const r=e.getColumn("x",!0),a=e.processedYData,i=this.chart,n=t.ranges,o=[],s=[],l=[],c=i.get(t.volumeSeriesID);if(e.chart){var d;if(!c||!c.getColumn("x",!0).length)return d=c&&!c.getColumn("x",!0).length?" does not contain any data.":" not found! Check `volumeSeriesID`.",void VBPIndicator_error("Series "+t.volumeSeriesID+d,!0,i);t=VBPIndicator_isArray(a[0]);if(!t||4===a[0].length){const p=this.priceZones=this.specifyZones(t,r,a,n,c);return p.forEach(function(e,t){o.push([e.x,e.end]),s.push(o[t][0]),l.push(o[t][1])}),{values:o,xData:s,yData:l}}VBPIndicator_error("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,i)}else VBPIndicator_error("Base series not found! In case it has been removed, add a new one.",!0,i)}specifyZones(e,t,r,a,i){const n=this,o=!!e&&arrayExtremesOHLC(r),s=n.zoneStarts=[],l=[];let c=o?o.min:arrayMin(r),d=o?o.max:arrayMax(r),p=0,_=1;const u=n.linkedParent;if(!n.options.compareToMain&&u.dataModify&&(c=u.dataModify.modifyValue(c),d=u.dataModify.modifyValue(d)),!VBPIndicator_defined(c)||!VBPIndicator_defined(d))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];var h=n.rangeStep=VBPIndicator_correctFloat(d-c)/a;for(s.push(c);p<a-1;p++)s.push(VBPIndicator_correctFloat(s[p]+h));s.push(d);for(var g=s.length;_<g;_++)l.push({index:_-1,x:t[0],start:s[_-1],end:s[_]});return n.volumePerZone(e,l,i,t,r)}volumePerZone(r,e,t,a,i){const n=this,o=t.getColumn("x",!0),s=t.getColumn("y",!0),l=e.length-1,c=i.length,d=s.length;let p,_,u,h,g;return abs(c-d)&&(a[0]!==o[0]&&s.unshift(0),a[c-1]!==o[d-1]&&s.push(0)),n.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0,g=0;g<c;g++){_=!1,u=!1,h=r?i[g][3]:i[g],p=g?r?i[g-1][3]:i[g-1]:h;const t=n.linkedParent;!n.options.compareToMain&&t.dataModify&&(h=t.dataModify.modifyValue(h),p=t.dataModify.modifyValue(p)),h<=e.start&&0===e.index&&(_=!0),h>=e.end&&e.index===l&&(u=!0),(h>e.start||_)&&(h<e.end||u)&&(e.wholeVolumeData+=s[g],p>h?e.negativeVolumeData+=s[g]:e.positiveVolumeData+=s[g])}n.volumeDataArray.push(e.wholeVolumeData)}),e}drawZones(t,r,e,a){const i=t.renderer,n=t.plotWidth,o=t.plotTop;let s=this.zoneLinesSVG,l=[],c;e.forEach(function(e){c=r.toPixels(e)-o,l=l.concat(t.renderer.crispLine([["M",0,c],["L",n,c]],a.lineWidth))}),s?s.animate({d:l}):s=this.zoneLinesSVG=i.path(l).attr({"stroke-width":a.lineWidth,stroke:a.color,dashstyle:a.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}}VBPIndicator.defaultOptions=VBPIndicator_merge(VBPIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{align:"left",allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"0.5em"},verticalAlign:"top"}}),VBPIndicator_extend(VBPIndicator.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:VBP_VBPPoint,markerAttribs:VBPIndicator_noop,drawGraph:VBPIndicator_noop,getColumnMetrics:VBPIndicator_columnProto.getColumnMetrics,crispCol:VBPIndicator_columnProto.crispCol}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("vbp",VBPIndicator);const VBP_VBPIndicator=null,VWAPIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{error:VWAPIndicator_error,isArray:VWAPIndicator_isArray,merge:VWAPIndicator_merge}=external_highcharts_src_js_default_default();class VWAPIndicator extends VWAPIndicator_SMAIndicator{getValues(e,t){const r=e.chart,a=e.xData,i=e.yData,n=t.period;let o=!0,s;if(s=r.get(t.volumeSeriesID))return VWAPIndicator_isArray(i[0])||(o=!1),this.calculateVWAPValues(o,a,i,s,n);VWAPIndicator_error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,r)}calculateVWAPValues(e,t,r,a,i){const n=a.getColumn("y"),o=n.length,s=t.length,l=[],c=[],d=[],p=[],_=[];let u,h,g,I,m,f;for(u=s<=o?s:o,m=0,f=0;m<u;m++)h=e?(r[m][1]+r[m][2]+r[m][3])/3:r[m],h*=n[m],g=f?l[m-1]+h:h,I=f?c[m-1]+n[m]:n[m],l.push(g),c.push(I),_.push([t[m],g/I]),d.push(_[m][0]),p.push(_[m][1]),++f===i&&(f=0);return{values:_,xData:d,yData:p}}}VWAPIndicator.defaultOptions=VWAPIndicator_merge(VWAPIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("vwap",VWAPIndicator);const VWAP_VWAPIndicator=null,WilliamsRIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:WilliamsRIndicator_extend,isArray:WilliamsRIndicator_isArray,merge:WilliamsRIndicator_merge}=external_highcharts_src_js_default_default();class WilliamsRIndicator extends WilliamsRIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=[],s=[],l=[];let c,d,p,_,u,h;if(!(a.length<r)&&WilliamsRIndicator_isArray(i[0])&&4===i[0].length){for(h=r-1;h<n;h++)c=i.slice(h-r+1,h+1),u=(d=Indicators_ArrayUtilities.getArrayExtremes(c,2,1))[0],p=((_=d[1])-i[h][3])/(_-u)*-100,a[h]&&(o.push([a[h],p]),s.push(a[h]),l.push(p));return{values:o,xData:s,yData:l}}}}WilliamsRIndicator.defaultOptions=WilliamsRIndicator_merge(WilliamsRIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:14}}),WilliamsRIndicator_extend(WilliamsRIndicator.prototype,{nameBase:"Williams %R"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("williamsr",WilliamsRIndicator);const WilliamsR_WilliamsRIndicator=null,WMAIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isArray:WMAIndicator_isArray,merge:WMAIndicator_merge}=external_highcharts_src_js_default_default();function WMAIndicator_accumulateAverage(e,t,r,a,i){t=t[a],r=i<0?r[a]:r[a][i];e.push([t,r])}function weightedSumArray(e,t){t*=(t+1)/2;return e.reduce(function(e,t,r){return[null,e[1]+t[1]*(r+1)]})[1]/t}function WMAIndicator_populateAverage(e,t,r,a){var i=weightedSumArray(e,e.length),t=t[a-1];return e.shift(),[t,i]}class WMAIndicator extends WMAIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=e.xData,i=e.yData,n=i?i.length:0,o=a[0],s=[],l=[],c=[];let d=1,p=-1,_,u,h=i[0];if(!(a.length<r)){WMAIndicator_isArray(i[0])&&(p=t.index,h=i[0][p]);for(var g=[[o,h]];d!==r;)WMAIndicator_accumulateAverage(g,a,i,d,p),d++;for(_=d;_<n;_++)u=WMAIndicator_populateAverage(g,a,i,_),s.push(u),l.push(u[0]),c.push(u[1]),WMAIndicator_accumulateAverage(g,a,i,_,p);return u=WMAIndicator_populateAverage(g,a,i,_),s.push(u),l.push(u[0]),c.push(u[1]),{values:s,xData:l,yData:c}}}}WMAIndicator.defaultOptions=WMAIndicator_merge(WMAIndicator_SMAIndicator.defaultOptions,{params:{index:3,period:9}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("wma",WMAIndicator);const WMA_WMAIndicator=null,ZigzagIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{merge:ZigzagIndicator_merge,extend:ZigzagIndicator_extend}=external_highcharts_src_js_default_default();class ZigzagIndicator extends ZigzagIndicator_SMAIndicator{getValues(e,t){const r=t.lowIndex,a=t.highIndex,i=t.deviation/100,n=1+i,o=1-i,s=e.xData,l=e.yData,c=l?l.length:0,d=[],p=[],_=[];let u,h,g,I,m=!1,f=!1;if(!(!s||s.length<=1||c&&(void 0===l[0][r]||void 0===l[0][a]))){var y=l[0][r],x=l[0][a];for(u=1;u<c;u++)l[u][r]<=x*o?(d.push([s[0],x]),g=[s[u],l[u][r]],I=!0,m=!0):l[u][a]>=y*n&&(d.push([s[0],y]),g=[s[u],l[u][a]],I=!1,m=!0),m&&(p.push(d[0][0]),_.push(d[0][1]),h=u++,u=c);for(u=h;u<c;u++)I?(l[u][r]<=g[1]&&(g=[s[u],l[u][r]]),l[u][a]>=g[1]*n&&(f=a)):(l[u][a]>=g[1]&&(g=[s[u],l[u][a]]),l[u][r]<=g[1]*o&&(f=r)),!1!==f&&(d.push(g),p.push(g[0]),_.push(g[1]),g=[s[u],l[u][f]],I=!I,f=!1);t=d.length;return 0!==t&&d[t-1][0]<s[c-1]&&(d.push(g),p.push(g[0]),_.push(g[1])),{values:d,xData:p,yData:_}}}}ZigzagIndicator.defaultOptions=ZigzagIndicator_merge(ZigzagIndicator_SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),ZigzagIndicator_extend(ZigzagIndicator.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("zigzag",ZigzagIndicator);const Zigzag_ZigzagIndicator=null,LinearRegressionIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isArray:LinearRegressionIndicator_isArray,extend:LinearRegressionIndicator_extend,merge:LinearRegressionIndicator_merge}=external_highcharts_src_js_default_default();class LinearRegressionIndicator extends LinearRegressionIndicator_SMAIndicator{getRegressionLineParameters(e,t){function r(e,t){return LinearRegressionIndicator_isArray(e)?e[t]:e}const a=this.options.params.index,i=e.reduce(function(e,t){return t+e},0),n=t.reduce(function(e,t){return r(t,a)+e},0),o=i/e.length,s=n/t.length;let l,c,d,p=0,_=0;for(d=0;d<e.length;d++)l=e[d]-o,c=r(t[d],a)-s,p+=l*c,_+=Math.pow(l,2);var u=_?p/_:0;return{slope:u,intercept:s-u*o}}getEndPointY(e,t){return e.slope*t+e.intercept}transformXData(e,t){const r=e[0];return e.map(function(e){return(e-r)/t})}findClosestDistance(e){let t,r,a;for(a=1;a<e.length-1;a++)0<(t=e[a]-e[a-1])&&(void 0===r||t<r)&&(r=t);return r}getValues(e,t){const r=e.xData,a=e.yData,i=t.period,n={xData:[],yData:[],values:[]},o=this.options.params.xAxisUnit||this.findClosestDistance(r);let s,l,c,d,p,_,u,h,g;for(l=i-1;l<=r.length-1;l++)c=l-i+1,d=l+1,p=r[l],u=r.slice(c,d),h=a.slice(c,d),g=this.transformXData(u,o),s=this.getRegressionLineParameters(g,h),_=this.getEndPointY(s,g[g.length-1]),n.values.push({regressionLineParameters:s,x:p,y:_}),LinearRegressionIndicator_isArray(n.xData)&&n.xData.push(p),LinearRegressionIndicator_isArray(n.yData)&&n.yData.push(_);return n}}LinearRegressionIndicator.defaultOptions=LinearRegressionIndicator_merge(LinearRegressionIndicator_SMAIndicator.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),LinearRegressionIndicator_extend(LinearRegressionIndicator.prototype,{nameBase:"Linear Regression Indicator"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("linearRegression",LinearRegressionIndicator);const LinearRegression_LinearRegressionIndicator=null,LinearRegressionSlopesIndicator_LinearRegressionIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["linearRegression"],{extend:LinearRegressionSlopesIndicator_extend,merge:LinearRegressionSlopesIndicator_merge}=external_highcharts_src_js_default_default();class LinearRegressionSlopesIndicator extends LinearRegressionSlopesIndicator_LinearRegressionIndicator{getEndPointY(e){return e.slope}}LinearRegressionSlopesIndicator.defaultOptions=LinearRegressionSlopesIndicator_merge(LinearRegressionSlopesIndicator_LinearRegressionIndicator.defaultOptions),LinearRegressionSlopesIndicator_extend(LinearRegressionSlopesIndicator.prototype,{nameBase:"Linear Regression Slope Indicator"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("linearRegressionSlope",LinearRegressionSlopesIndicator);const LinearRegressionSlopes_LinearRegressionSlopesIndicator=null,LinearRegressionInterceptIndicator_LinearRegressionIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["linearRegression"],{extend:LinearRegressionInterceptIndicator_extend,merge:LinearRegressionInterceptIndicator_merge}=external_highcharts_src_js_default_default();class LinearRegressionInterceptIndicator extends LinearRegressionInterceptIndicator_LinearRegressionIndicator{getEndPointY(e){return e.intercept}}LinearRegressionInterceptIndicator.defaultOptions=LinearRegressionInterceptIndicator_merge(LinearRegressionInterceptIndicator_LinearRegressionIndicator.defaultOptions),LinearRegressionInterceptIndicator_extend(LinearRegressionInterceptIndicator.prototype,{nameBase:"Linear Regression Intercept Indicator"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("linearRegressionIntercept",LinearRegressionInterceptIndicator);const LinearRegressionIntercept_LinearRegressionInterceptIndicator=null,LinearRegressionAngleIndicator_LinearRegressionIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["linearRegression"],{extend:LinearRegressionAngleIndicator_extend,merge:LinearRegressionAngleIndicator_merge}=external_highcharts_src_js_default_default();class LinearRegressionAngleIndicator extends LinearRegressionAngleIndicator_LinearRegressionIndicator{slopeToAngle(e){return Math.atan(e)*(180/Math.PI)}getEndPointY(e){return this.slopeToAngle(e.slope)}}LinearRegressionAngleIndicator.defaultOptions=LinearRegressionAngleIndicator_merge(LinearRegressionAngleIndicator_LinearRegressionIndicator.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),LinearRegressionAngleIndicator_extend(LinearRegressionAngleIndicator.prototype,{nameBase:"Linear Regression Angle Indicator"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("linearRegressionAngle",LinearRegressionAngleIndicator);const LinearRegressionAngle_LinearRegressionAngleIndicator=null,ABandsIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{correctFloat:ABandsIndicator_correctFloat,extend:ABandsIndicator_extend,merge:ABandsIndicator_merge}=external_highcharts_src_js_default_default();function getBaseForBand(e,t,r){return ABandsIndicator_correctFloat(t-e)/(ABandsIndicator_correctFloat(t+e)/2)*1e3*r}function getPointUB(e,t){return e*ABandsIndicator_correctFloat(1+2*t)}function getPointLB(e,t){return e*ABandsIndicator_correctFloat(1-2*t)}class ABandsIndicator extends ABandsIndicator_SMAIndicator{getValues(e,t){const r=t.period,a=t.factor,i=t.index,n=e.xData,o=e.yData,s=o?o.length:0,l=[],c=[],d=[],p=[],_=[];let u,h,g,I,m,f,y,x,A,S,D;if(!(s<r)){for(D=0;D<=s;D++)D<s&&(m=getBaseForBand(o[D][2],o[D][1],a),l.push(getPointUB(o[D][1],m)),c.push(getPointLB(o[D][2],m))),D>=r&&(A=n.slice(D-r,D),S=o.slice(D-r,D),y=super.getValues.call(this,{xData:A,yData:l.slice(D-r,D)},{period:r}),x=super.getValues.call(this,{xData:A,yData:c.slice(D-r,D)},{period:r}),I=(f=super.getValues.call(this,{xData:A,yData:S},{period:r,index:i})).xData[0],h=y.yData[0],g=x.yData[0],u=f.yData[0],d.push([I,h,u,g]),p.push(I),_.push([h,u,g]));return{values:d,xData:p,yData:_}}}}ABandsIndicator.defaultOptions=ABandsIndicator_merge(ABandsIndicator_SMAIndicator.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),ABandsIndicator_extend(ABandsIndicator.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),Indicators_MultipleLinesComposition.compose(ABandsIndicator),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("abands",ABandsIndicator);const ABands_ABandsIndicator=null,TrendLineIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend:TrendLineIndicator_extend,merge:TrendLineIndicator_merge,isArray:TrendLineIndicator_isArray}=external_highcharts_src_js_default_default();class TrendLineIndicator extends TrendLineIndicator_SMAIndicator{constructor(){super(...arguments),this.updateAllPoints=!0}getValues(e,t){const r=e.xData,a=e.yData,i=[],n=[],o=[],s=[],l=t.index;let c=0,d=0,p=0,_=0,u=0;for(let e=0;e<r.length;e++)0!==e&&r[e]===r[e-1]||u++,i.push(u);for(let e=0;e<i.length;e++)p+=i[e],_+=TrendLineIndicator_isArray(a[e])?a[e][l]:a[e];var h,g,I=p/i.length,m=_/a.length;for(let e=0;e<i.length;e++){var f=TrendLineIndicator_isArray(a[e])?a[e][l]:a[e];c+=(i[e]-I)*(f-m),d+=Math.pow(i[e]-I,2)}for(let e=0;e<i.length;e++)r[e]!==o[o.length-1]&&(h=r[e],g=m+c/d*(i[e]-I),n.push([h,g]),o.push(h),s.push(g));return{xData:o,yData:s,values:n}}}TrendLineIndicator.defaultOptions=TrendLineIndicator_merge(TrendLineIndicator_SMAIndicator.defaultOptions,{params:{period:void 0,index:3}}),TrendLineIndicator_extend(TrendLineIndicator.prototype,{nameBase:"Trendline",nameComponents:void 0}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("trendline",TrendLineIndicator);const TrendLine_TrendLineIndicator=null,DisparityIndexIndicator_SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{correctFloat:DisparityIndexIndicator_correctFloat,defined:DisparityIndexIndicator_defined,extend:DisparityIndexIndicator_extend,isArray:DisparityIndexIndicator_isArray,merge:DisparityIndexIndicator_merge}=external_highcharts_src_js_default_default();class DisparityIndexIndicator extends DisparityIndexIndicator_SMAIndicator{init(){var e=arguments,t=e[1].params,t=t&&t.average?t.average:void 0;this.averageIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes[t]||DisparityIndexIndicator_SMAIndicator,this.averageIndicator.prototype.init.apply(this,e)}calculateDisparityIndex(e,t){return DisparityIndexIndicator_correctFloat(e-t)/t*100}getValues(e,t){const r=t.index,a=e.xData,i=e.yData,n=i?i.length:0,o=[],s=[],l=[],c=this.averageIndicator,d=DisparityIndexIndicator_isArray(i[0]),p=c.prototype.getValues(e,t),_=p.yData,u=a.indexOf(p.xData[0]);if(_&&0!==_.length&&DisparityIndexIndicator_defined(r)&&!(i.length<=u)){for(let e=u;e<n;e++){var h=this.calculateDisparityIndex(d?i[e][r]:i[e],_[e-u]);o.push([a[e],h]),s.push(a[e]),l.push(h)}return{values:o,xData:s,yData:l}}}}DisparityIndexIndicator.defaultOptions=DisparityIndexIndicator_merge(DisparityIndexIndicator_SMAIndicator.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),DisparityIndexIndicator_extend(DisparityIndexIndicator.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("disparityindex",DisparityIndexIndicator);const DisparityIndex_DisparityIndexIndicator=null;var x=e=>{var t={};return __webpack_require__.d(t,e),t},y=e=>()=>e;const stock_src_js_namespaceObject=x({}),G=external_highcharts_src_js_default_default(),indicators_all_src=(G.MultipleLinesComposition=G.MultipleLinesComposition||Indicators_MultipleLinesComposition,external_highcharts_src_js_default_default());export{indicators_all_src as default};