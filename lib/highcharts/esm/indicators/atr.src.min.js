import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__modules_stock_src_js_b3d80146__ from"../modules/stock.src.js";var __webpack_require__={n:e=>{var _=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(_,{a:_}),_},d:(e,_)=>{for(var r in _)__webpack_require__.o(_,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:_[r]})},o:(e,_)=>Object.prototype.hasOwnProperty.call(e,_)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject),x=e=>{var _={};return __webpack_require__.d(_,e),_},y=e=>()=>e;const stock_src_js_namespaceObject=x({}),external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isArray,merge}=external_highcharts_src_js_default_default();function accumulateAverage(e,_,r,a){_=_[a],r=r[a];e.push([_,r])}function getTR(e,_){var r=e[1]-e[2],a=void 0===_?0:Math.abs(e[1]-_[3]),e=void 0===_?0:Math.abs(e[2]-_[3]);return Math.max(r,a,e)}function populateAverage(e,_,r,a,t,s){return[_[a-1],(s*(t-1)+getTR(r[a-1],r[a-2]))/t]}class ATRIndicator extends SMAIndicator{getValues(e,_){const r=_.period,a=e.xData,t=e.yData,s=t?t.length:0,c=a[0],i=t[0],u=[[c,i]],h=[],n=[],l=[];let d,o,p=0,g=1,f=0;if(!(a.length<=r)&&isArray(t[0])&&4===t[0].length){for(o=1;o<=s;o++)accumulateAverage(u,a,t,o),r<g?(d=populateAverage(u,a,t,o,r,p),p=d[1],h.push(d),n.push(d[0]),l.push(d[1])):(r===g?(p=f/(o-1),h.push([a[o-1],p]),n.push(a[o-1]),l.push(p)):f+=getTR(t[o-1],t[o-2]),g++);return{values:h,xData:n,yData:l}}}}ATRIndicator.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("atr",ATRIndicator);const ATR_ATRIndicator=null,atr_src=external_highcharts_src_js_default_default();export{atr_src as default};