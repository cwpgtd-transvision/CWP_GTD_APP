import*as e from"../highcharts.js";import"../modules/stock.js";var t,a={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let i=e.default;var r=a.n(i);a.d({},{});let o={getArrayExtremes:function(e,a,r){return e.reduce((e,t)=>[Math.min(e[0],t[a]),Math.max(e[1],t[r])],[Number.MAX_VALUE,-Number.MAX_VALUE])}},n=e.default.SeriesRegistry;var s=a.n(n);let{prototype:p}=s().seriesTypes["sma"],{defined:l,error:h,merge:c}=r(),f=(!function(e){let a=["bottomLine"],r=["top","bottom"],i=["top"];function x(e){return"plot"+e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t){let a=[];return(e.pointArrayMap||[]).forEach(e=>{e!==t&&a.push(x(e))}),a}function o(){let a=this,e=a.pointValKey,t=a.linesApiNames,r=a.areaLinesNames,i=a.points,o=a.options,n=a.graph,s={options:{gapSize:o.gapSize}},f=[],d=b(a,e),u=i.length,m;var y,g,A;d.forEach((e,t)=>{for(f[t]=[];u--;)m=i[u],f[t].push({x:m.x,plotX:m.plotX,plotY:m[e],isNull:!l(m[e])});u=i.length}),a.userOptions.fillColor&&r.length&&(y=f[d.indexOf(x(r[0]))],g=1===r.length?i:f[d.indexOf(x(r[1]))],A=a.color,a.points=g,a.nextPoints=y,a.color=a.userOptions.fillColor,a.options=c(i,s),a.graph=a.area,a.fillGraph=!0,p.drawGraph.call(a),a.area=a.graph,delete a.nextPoints,delete a.fillGraph,a.color=A),t.forEach((e,t)=>{f[t]?(a.points=f[t],o[e]?a.options=c(o[e].styles,s):h('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),a.graph=a["graph"+e],p.drawGraph.call(a),a["graph"+e]=a.graph):h('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),a.points=i,a.options=o,a.graph=n,p.drawGraph.call(a)}function n(e){let t,a=[],r;if(e=e||this.points,this.fillGraph&&this.nextPoints){if((t=p.getGraphPath.call(this,this.nextPoints))&&t.length){t[0][0]="L",a=p.getGraphPath.call(this,e);for(let e=(r=t.slice(0,a.length)).length-1;0<=e;e--)a.push(r[e])}}else a=p.getGraphPath.apply(this,arguments);return a}function s(t){let a=[];return(this.pointArrayMap||[]).forEach(e=>{a.push(t[e])}),a}function f(){let e=this.pointArrayMap,r,i;r=b(this),p.translate.apply(this,arguments),this.points.forEach(a=>{e.forEach((e,t)=>{i=a[e],null!==(i=this.dataModify?this.dataModify.modifyValue(i):i)&&(a[r[t]]=this.yAxis.toPixels(i,!0))})})}e.compose=function(e){let t=e.prototype;return t.linesApiNames=t.linesApiNames||a.slice(),t.pointArrayMap=t.pointArrayMap||r.slice(),t.pointValKey=t.pointValKey||"top",t.areaLinesNames=t.areaLinesNames||i.slice(),t.drawGraph=o,t.getGraphPath=n,t.toYData=s,t.translate=f,e}}(t=t||{}),t),u=["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],d=s().seriesTypes["sma"],{merge:m,extend:y}=r();class g extends d{getValues(e,t){let a,r,i,n,s,p,l,h=t.period,f=e.xData,c=e.yData,d=c?c.length:0,u=[],m=[],y=[];if(!(d<h)){for(l=h;l<=d;l++)n=f[l-1],s=c.slice(l-h,l),a=((r=(p=o.getArrayExtremes(s,2,1))[1])+(i=p[0]))/2,u.push([n,r,a,i]),m.push(n),y.push([r,a,i]);return{values:u,xData:m,yData:y}}}}g.defaultOptions=m(d.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:"#00e272",lineWidth:1}},bottomLine:{styles:{lineColor:"#feb56a",lineWidth:1}},dataGrouping:{approximation:"averages"}}),y(g.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),f.compose(g),s().registerSeriesType("pc",g);let A=r();export{A as default};