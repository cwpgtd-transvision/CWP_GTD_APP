import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__modules_stock_src_js_b3d80146__ from"../modules/stock.src.js";var __webpack_require__={n:e=>{var _=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(_,{a:_}),_},d:(e,_)=>{for(var r in _)__webpack_require__.o(_,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:_[r]})},o:(e,_)=>Object.prototype.hasOwnProperty.call(e,_)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject),x=e=>{var _={};return __webpack_require__.d(_,e),_},y=e=>()=>e;const stock_src_js_namespaceObject=x({}),external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],merge=external_highcharts_src_js_default_default()["merge"];class CMFIndicator extends SMAIndicator{constructor(){super(...arguments),this.nameBase="Chaikin Money Flow"}isValid(){const e=this.chart,_=this.options,r=this.linkedParent,s=this.volumeSeries||(this.volumeSeries=e.get(_.params.volumeSeriesID)),t=4===r?.pointArrayMap?.length;function a(e){return e.dataTable.rowCount>=_.params.period}return!!(r&&s&&a(r)&&a(s)&&t)}getValues(e,_){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.getColumn("y"),_.period)}getMoneyFlow(e,_,r,s){const t=_.length,a=[],i=[],c=[],l=[];let n,u,h=-1,o=0,d=0;function p(e,_){var r=e[1],s=e[2],e=e[3];return null!==_&&null!==r&&null!==s&&null!==e&&r!==s?(e-s-(r-e))/(r-s)*_:(h=n,null)}if(0<s&&s<=t){for(n=0;n<s;n++)a[n]=p(_[n],r[n]),o+=r[n],d+=a[n];for(i.push(e[n-1]),c.push(n-h>=s&&0!==o?d/o:null),l.push([i[0],c[0]]);n<t;n++)a[n]=p(_[n],r[n]),o=(o-=r[n-s])+r[n],d=(d-=a[n-s])+a[n],u=[e[n],n-h>=s?d/o:null],i.push(u[0]),c.push(u[1]),l.push([u[0],u[1]])}return{values:l,xData:i,yData:c}}}CMFIndicator.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("cmf",CMFIndicator);const CMF_CMFIndicator=null,cmf_src=external_highcharts_src_js_default_default();export{cmf_src as default};