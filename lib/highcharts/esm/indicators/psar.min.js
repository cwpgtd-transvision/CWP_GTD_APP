import*as e from"../highcharts.js";import"../modules/stock.js";var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a:a}),a},d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let a=e.default;var r=t.n(a);t.d({},{});let i=e.default.SeriesRegistry;var l=t.n(i);let n=l().seriesTypes["sma"],s=r()["merge"];function o(e,t){return parseFloat(e.toFixed(t))}class c extends n{constructor(){super(...arguments),this.nameComponents=void 0}getValues(e,t){let a=e.xData,r=e.yData,l=t.maxAccelerationFactor,i=t.increment,q=t.initialAccelerationFactor,n=t.decimals,s=t.index,c=[],u=[],d=[],m=t.initialAccelerationFactor,p,h=r[0][1],f,x,v,g=1,y,F,M,A,O=r[0][2],b,j,D,P;if(!(s>=r.length)){for(P=0;P<s;P++)h=Math.max(r[P][1],h),O=Math.min(r[P][2],o(O,n));for(p=r[P][1]>O?1:-1,f=h-O,x=(m=t.initialAccelerationFactor)*f,c.push([a[s],O]),u.push(a[s]),d.push(o(O,n)),P=s+1;P<r.length;P++){var k,S,T,W,_,w,C,R,V;y=r[P-1][2],F=r[P-2][2],M=r[P-1][1],A=r[P-2][1],j=r[P][1],D=r[P][2],null!==F&&null!==A&&null!==y&&null!==M&&null!==j&&null!==D&&(k=p,S=g,T=O,W=x,_=F,w=y,C=M,R=A,V=h,O=k===S?1===k?T+W<Math.min(_,w)?T+W:Math.min(_,w):T+W>Math.max(R,C)?T+W:Math.max(R,C):V,S=p,k=h,b=1===S?k<j?j:k:D<k?D:k,_=g,w=O,v=1===_&&w<D||-1===_&&w<j?1:-1,T=p,W=h,R=m,C=q,x=(m=v===T?1==v&&W<b||-1==v&&b<W?R===l?l:o(R+i,2):R:C)*(b-O),c.push([a[P],o(O,n)]),u.push(a[P]),d.push(o(O,n)),g=p,p=v,h=b)}return{values:c,xData:u,yData:d}}}}c.defaultOptions=s(n.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),l().registerSeriesType("psar",c);let u=r();export{u as default};