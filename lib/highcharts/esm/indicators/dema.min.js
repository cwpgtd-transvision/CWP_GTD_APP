import*as e from"../highcharts.js";import"../modules/stock.js";var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let r=e.default;var a=t.n(r);t.d({},{});let s=e.default.SeriesRegistry;var i=t.n(s);let l=i().seriesTypes["ema"],{correctFloat:o,isArray:u,merge:d}=a();class p extends l{getEMA(e,t,r,a,s,i){return super.calculateEma(i||[],e,void 0===s?1:s,this.EMApercent,t,void 0===a?-1:a,r)}getValues(e,t){let r=t.period,a=[],s=2*r,i=e.xData,l=e.yData,p=l?l.length:0,d=[],n=[],c=[],h=0,f=0,g,m,y,v,A=-1,E,M=0;if(this.EMApercent=2/(r+1),!(p<2*r-1)){for(u(l[0])&&(A=t.index||0),M=(h=super.accumulatePeriodPoints(r,A,l))/r,h=0,v=r;v<p+2;v++)v<p+1&&(f=this.getEMA(l,m,M,A,v)[1],a.push(f)),m=f,v<s?h+=f:(v===s&&(M=h/r),f=a[v-r-1],g=this.getEMA([f],y,M)[1],E=[i[v-2],o(2*f-g)],d.push(E),n.push(E[0]),c.push(E[1]),y=g);return{values:d,xData:n,yData:c}}}}p.defaultOptions=d(l.defaultOptions),i().registerSeriesType("dema",p);let n=a();export{n as default};