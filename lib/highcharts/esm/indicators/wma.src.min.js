import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__modules_stock_src_js_b3d80146__ from"../modules/stock.src.js";var __webpack_require__={n:e=>{var _=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(_,{a:_}),_},d:(e,_)=>{for(var r in _)__webpack_require__.o(_,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:_[r]})},o:(e,_)=>Object.prototype.hasOwnProperty.call(e,_)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject),x=e=>{var _={};return __webpack_require__.d(_,e),_},y=e=>()=>e;const stock_src_js_namespaceObject=x({}),external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{isArray,merge}=external_highcharts_src_js_default_default();function accumulateAverage(e,_,r,a,t){_=_[a],r=t<0?r[a]:r[a][t];e.push([_,r])}function weightedSumArray(e,_){_*=(_+1)/2;return e.reduce(function(e,_,r){return[null,e[1]+_[1]*(r+1)]})[1]/_}function populateAverage(e,_,r,a){var t=weightedSumArray(e,e.length),_=_[a-1];return e.shift(),[_,t]}class WMAIndicator extends SMAIndicator{getValues(e,_){const r=_.period,a=e.xData,t=e.yData,s=t?t.length:0,c=a[0],u=[],i=[],n=[];let h=1,l=-1,d,o,p=t[0];if(!(a.length<r)){isArray(t[0])&&(l=_.index,p=t[0][l]);for(var g=[[c,p]];h!==r;)accumulateAverage(g,a,t,h,l),h++;for(d=h;d<s;d++)o=populateAverage(g,a,t,d),u.push(o),i.push(o[0]),n.push(o[1]),accumulateAverage(g,a,t,d,l);return o=populateAverage(g,a,t,d),u.push(o),i.push(o[0]),n.push(o[1]),{values:u,xData:i,yData:n}}}}WMAIndicator.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:3,period:9}}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("wma",WMAIndicator);const WMA_WMAIndicator=null,wma_src=external_highcharts_src_js_default_default();export{wma_src as default};