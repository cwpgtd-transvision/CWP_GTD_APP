import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__modules_stock_src_js_b3d80146__ from"../modules/stock.src.js";var __webpack_require__={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(r,{a:r}),r},d:(e,r)=>{for(var _ in r)__webpack_require__.o(r,_)&&!__webpack_require__.o(e,_)&&Object.defineProperty(e,_,{enumerable:!0,get:r[_]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject),x=e=>{var r={};return __webpack_require__.d(r,e),r},y=e=>()=>e;const stock_src_js_namespaceObject=x({}),external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const SMAIndicator=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["sma"],{extend,merge,error,isArray}=external_highcharts_src_js_default_default();function sumArray(e){return e.reduce(function(e,r){return e+r})}function toFixed(e,r){return parseFloat(e.toFixed(r))}function calculateTypicalPrice(e){return(e[1]+e[2]+e[3])/3}function calculateRawMoneyFlow(e,r){return e*r}class MFIIndicator extends SMAIndicator{getValues(e,r){const _=r.period,a=e.xData,t=e.yData,s=t?t.length:0,c=r.decimals,i=e.chart.get(r.volumeSeriesID),l=i?.getColumn("y")||[],u=[],n=[],o=[],h=[],d=[];let f,p,m,g,y,j,x=!1,I=1;if(i){if(!(a.length<=_)&&isArray(t[0])&&4===t[0].length&&l){for(f=calculateTypicalPrice(t[I]);I<_+1;)p=f,f=calculateTypicalPrice(t[I]),x=f>=p,m=calculateRawMoneyFlow(f,l[I]),h.push(x?m:0),d.push(x?0:m),I++;for(j=I-1;j<s;j++)j>I-1&&(h.shift(),d.shift(),p=f,f=calculateTypicalPrice(t[j]),x=f>p,m=calculateRawMoneyFlow(f,l[j]),h.push(x?m:0),d.push(x?0:m)),g=sumArray(d),y=toFixed(100-100/(1+sumArray(h)/g),c),u.push([a[j],y]),n.push(a[j]),o.push(y);return{values:u,xData:n,yData:o}}}else error("Series "+r.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}MFIIndicator.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),extend(MFIIndicator.prototype,{nameBase:"Money Flow Index"}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("mfi",MFIIndicator);const MFI_MFIIndicator=null,mfi_src=external_highcharts_src_js_default_default();export{mfi_src as default};