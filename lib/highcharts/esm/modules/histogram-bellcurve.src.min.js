import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";var __webpack_require__={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);const external_highcharts_src_js_default_Series_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.Series;var DerivedComposition,external_highcharts_src_js_default_Series_default=__webpack_require__.n(external_highcharts_src_js_default_Series_namespaceObject);const noop=external_highcharts_src_js_default_default()["noop"],{addEvent,defined}=external_highcharts_src_js_default_default(),Series_DerivedComposition=(!function(e){function r(){external_highcharts_src_js_default_Series_default().prototype.init.apply(this,arguments),this.initialised=!1,this.baseSeries=null,this.eventRemovers=[],this.addEvents()}function s(){const e=this.chart,t=this.options.baseSeries,r=defined(t)&&(e.series[t]||e.get(t));this.baseSeries=r||null}function i(){this.eventRemovers.push(addEvent(this.chart,"afterLinkSeries",()=>{this.setBaseSeries(),this.baseSeries&&!this.initialised&&(this.setDerivedData(),this.addBaseSeriesEvents(),this.initialised=!0)}))}function a(){this.eventRemovers.push(addEvent(this.baseSeries,"updatedData",()=>{this.setDerivedData()}),addEvent(this.baseSeries,"destroy",()=>{this.baseSeries=null,this.initialised=!1}))}function n(){this.eventRemovers.forEach(e=>{e()}),external_highcharts_src_js_default_Series_default().prototype.destroy.apply(this,arguments)}e.hasDerivedData=!0,e.setDerivedData=noop,e.compose=function(e){const t=e.prototype;return t.addBaseSeriesEvents=a,t.addEvents=i,t.destroy=n,t.init=r,t.setBaseSeries=s,e},e.init=r,e.setBaseSeries=s,e.addEvents=i,e.addBaseSeriesEvents=a,e.destroy=n}(DerivedComposition=DerivedComposition||{}),DerivedComposition),HistogramSeriesDefaults={binsNumber:"square-root",binWidth:void 0,pointPadding:0,groupPadding:0,grouping:!1,pointPlacement:"between",tooltip:{headerFormat:"",pointFormat:'<span style="font-size: 0.8em">{point.x} - {point.x2}</span><br/><span style="color:{point.color}">‚óè</span> {series.name} <b>{point.y}</b><br/>'}},Histogram_HistogramSeriesDefaults=HistogramSeriesDefaults,external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const ColumnSeries=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["column"],{arrayMax,arrayMin,correctFloat,extend,isNumber,merge}=external_highcharts_src_js_default_default(),binsNumberFormulas={"square-root":function(e){return Math.ceil(Math.sqrt(e.options.data.length))},sturges:function(e){return Math.ceil(Math.log(e.options.data.length)*Math.LOG2E)},rice:function(e){return Math.ceil(2*Math.pow(e.options.data.length,1/3))}};function fitToBinLeftClosed(r){return function(e){let t=1;for(;r[t]<=e;)t++;return r[--t]}}class HistogramSeries extends ColumnSeries{binsNumber(){var e=this.options.binsNumber;const t=binsNumberFormulas[e]||"function"==typeof e&&e;return Math.ceil(t&&t(this.baseSeries)||(isNumber(e)?e:binsNumberFormulas["square-root"](this.baseSeries)))}derivedData(e,t,r){const s=this,i=correctFloat(arrayMax(e)),a=correctFloat(arrayMin(e)),n=[],o={},_=[];let l;for(r=s.binWidth=correctFloat(isNumber(r)?r||1:(i-a)/t),s.options.pointRange=Math.max(r,0),l=a;l<i&&(s.userOptions.binWidth||correctFloat(i-l)>=r||correctFloat(correctFloat(a+n.length*r)-l)<=0);l=correctFloat(l+r))n.push(l),o[l]=0;0!==o[a]&&(n.push(a),o[a]=0);const c=fitToBinLeftClosed(n.map(e=>parseFloat(e)));for(const u of e)o[correctFloat(c(u))]++;for(const h of Object.keys(o))_.push({x:Number(h),y:o[h],x2:correctFloat(Number(h)+r)});return _.sort((e,t)=>e.x-t.x),_[_.length-1].x2=i,_}setDerivedData(){var e=this.baseSeries?.getColumn("y");e?.length?(e=this.derivedData(e,this.binsNumber(),this.options.binWidth),this.setData(e,!1)):this.setData([])}}HistogramSeries.defaultOptions=merge(ColumnSeries.defaultOptions,Histogram_HistogramSeriesDefaults),extend(HistogramSeries.prototype,{hasDerivedData:Series_DerivedComposition.hasDerivedData}),Series_DerivedComposition.compose(HistogramSeries),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("histogram",HistogramSeries);const Histogram_HistogramSeries=null,BellcurveSeriesDefaults={intervals:3,pointsInInterval:3,marker:{enabled:!1}},Bellcurve_BellcurveSeriesDefaults=BellcurveSeriesDefaults,AreaSplineSeries=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["areaspline"],{correctFloat:BellcurveSeries_correctFloat,isNumber:BellcurveSeries_isNumber,merge:BellcurveSeries_merge}=external_highcharts_src_js_default_default();class BellcurveSeries extends AreaSplineSeries{static mean(e){var t=e.length,e=e.reduce(function(e,t){return e+t},0);return 0<t&&e/t}static standardDeviation(e,r){var t=e.length,e=(r=BellcurveSeries_isNumber(r)?r:BellcurveSeries.mean(e),e.reduce((e,t)=>{t-=r;return e+t*t},0));return 1<t&&Math.sqrt(e/(t-1))}static normalDensity(e,t,r){e-=t;return Math.exp(-e*e/(2*r*r))/(r*Math.sqrt(2*Math.PI))}derivedData(t,r){const e=this.options,s=e.intervals,i=e.pointsInInterval,a=s*i*2+1,n=r/i,o=[];let _=t-s*r;for(let e=0;e<a;e++)o.push([_,BellcurveSeries.normalDensity(_,t,r)]),_+=n;return o}setDerivedData(){var e=this;e.baseSeries?.getColumn("y").length&&(e.setMean(),e.setStandardDeviation(),e.setData(e.derivedData(e.mean||0,e.standardDeviation||0),!1,void 0,!1))}setMean(){this.mean=BellcurveSeries_correctFloat(BellcurveSeries.mean(this.baseSeries?.getColumn("y")||[]))}setStandardDeviation(){this.standardDeviation=BellcurveSeries_correctFloat(BellcurveSeries.standardDeviation(this.baseSeries?.getColumn("y")||[],this.mean))}}BellcurveSeries.defaultOptions=BellcurveSeries_merge(AreaSplineSeries.defaultOptions,Bellcurve_BellcurveSeriesDefaults),Series_DerivedComposition.compose(BellcurveSeries),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("bellcurve",BellcurveSeries);const Bellcurve_BellcurveSeries=null,histogram_bellcurve_src=external_highcharts_src_js_default_default();export{histogram_bellcurve_src as default};