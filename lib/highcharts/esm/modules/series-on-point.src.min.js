import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";var __webpack_require__={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},d:(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var ColumnUtils,external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);!function(e){e.setLength=function(e,t,s){return Array.isArray(e)?(e.length=t,e):e[s?"subarray":"slice"](0,t)},e.splice=function(e,t,s,r,i=[]){if(Array.isArray(e))return Array.isArray(i)||(i=Array.from(i)),{removed:e.splice(t,s,...i),array:e};const n=Object.getPrototypeOf(e).constructor;var r=e[r?"subarray":"slice"](t,t+s),o=e.length-s+i.length;const a=new n(o);return a.set(e.subarray(0,t),0),a.set(i,t),a.set(e.subarray(t+s),t+i.length),{removed:r,array:a}}}(ColumnUtils=ColumnUtils||{});const Data_ColumnUtils=ColumnUtils,{setLength,splice}=Data_ColumnUtils,{fireEvent,objectEach,uniqueKey}=external_highcharts_src_js_default_default();class DataTableCore{constructor(e={}){this.autoId=!e.id,this.columns={},this.id=e.id||uniqueKey(),(this.modified=this).rowCount=0,this.versionTag=uniqueKey();let s=0;objectEach(e.columns||{},(e,t)=>{this.columns[t]=e.slice(),s=Math.max(s,e.length)}),this.applyRowCount(s)}applyRowCount(s){this.rowCount=s,objectEach(this.columns,(e,t)=>{e.length!==s&&(this.columns[t]=setLength(e,s))})}deleteRows(r,i=1){if(0<i&&r<this.rowCount){let s=0;objectEach(this.columns,(e,t)=>{this.columns[t]=splice(e,r,i).array,s=e.length}),this.rowCount=s}fireEvent(this,"afterDeleteRows",{rowIndex:r,rowCount:i}),this.versionTag=uniqueKey()}getColumn(e,t){return this.columns[e]}getColumns(e,t){return(e||Object.keys(this.columns)).reduce((e,t)=>(e[t]=this.columns[t],e),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(e=>this.columns[e]?.[t])}setColumn(e,t=[],s=0,r){this.setColumns({[e]:t},s,r)}setColumns(e,t,s){let r=this.rowCount;objectEach(e,(e,t)=>{this.columns[t]=e.slice(),r=e.length}),this.applyRowCount(r),s?.silent||(fireEvent(this,"afterSetColumns"),this.versionTag=uniqueKey())}setRow(e,r=this.rowCount,i,n){const o=this["columns"],a=i?this.rowCount+1:r+1;objectEach(e,(e,t)=>{let s=o[t]||!1!==n?.addColumns&&new Array(a);s&&(i?s=splice(s,r,0,!0,[e]).array:s[r]=e,o[t]=s)}),a>this.rowCount&&this.applyRowCount(a),n?.silent||(fireEvent(this,"afterSetRows"),this.versionTag=uniqueKey())}}const Data_DataTableCore=DataTableCore,external_highcharts_src_js_default_Point_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.Point;var external_highcharts_src_js_default_Point_default=__webpack_require__.n(external_highcharts_src_js_default_Point_namespaceObject),x=e=>{var t={};return __webpack_require__.d(t,e),t},y=e=>()=>e;const external_highcharts_src_js_default_Series_namespaceObject=x({}),external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const external_highcharts_src_js_default_SVGRenderer_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SVGRenderer;var SeriesOnPointComposition,external_highcharts_src_js_default_SVGRenderer_default=__webpack_require__.n(external_highcharts_src_js_default_SVGRenderer_namespaceObject);const composed=external_highcharts_src_js_default_default()["composed"],bubble=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["bubble"],{addEvent,defined,find,isNumber,pushUnique}=external_highcharts_src_js_default_default(),Series_SeriesOnPointComposition=(!function(e){e.compose=function(e,t){var s,r,i,n,o,a;return pushUnique(composed,"SeriesOnPoint")&&({chartGetZData:s,seriesAfterInit:r,seriesAfterRender:i,seriesGetCenter:n,seriesShowOrHide:o,seriesTranslate:a}=_.prototype,e.types.pie.prototype.onPointSupported=!0,addEvent(e,"afterInit",r),addEvent(e,"afterRender",i),addEvent(e,"afterGetCenter",n),addEvent(e,"hide",o),addEvent(e,"show",o),addEvent(e,"translate",a),addEvent(t,"beforeRender",s),addEvent(t,"beforeRedraw",s)),e};class _{constructor(e){this.getColumn=bubble.prototype.getColumn,this.getRadii=bubble.prototype.getRadii,this.getRadius=bubble.prototype.getRadius,this.getPxExtremes=bubble.prototype.getPxExtremes,this.getZExtremes=bubble.prototype.getZExtremes,this.chart=e.chart,this.series=e,this.options=e.options.onPoint}drawConnector(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));var e=this.getConnectorAttributes();e&&this.connector.animate(e)}getConnectorAttributes(){const e=this.series.chart,t=this.options;if(t){var s=t.connectorOptions||{},r=t.position,i=e.get(t.id);if(i instanceof external_highcharts_src_js_default_Point_default()&&r&&defined(i.plotX)&&defined(i.plotY)){const n=defined(r.x)?r.x:i.plotX,o=defined(r.y)?r.y:i.plotY,a=n+(r.offsetX||0),_=o+(r.offsetY||0),h=s.width||1,c=s.stroke||this.series.color,l=s.dashstyle,u={d:external_highcharts_src_js_default_SVGRenderer_default().prototype.crispLine([["M",n,o],["L",a,_]],h),"stroke-width":h};return e.styledMode||(u.stroke=c,u.dashstyle=l),u}}}seriesAfterInit(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new _(this))}seriesAfterRender(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()}seriesGetCenter(e){const t=this.options.onPoint,s=e.positions;t&&((r=this.chart.get(t.id))instanceof external_highcharts_src_js_default_Point_default()&&defined(r.plotX)&&defined(r.plotY)&&(s[0]=r.plotX,s[1]=r.plotY),(r=t.position)&&(defined(r.x)&&(s[0]=r.x),defined(r.y)&&(s[1]=r.y),r.offsetX&&(s[0]+=r.offsetX),r.offsetY&&(s[1]+=r.offsetY)));var r=this.radii&&this.radii[this.index];isNumber(r)&&(s[2]=2*r),e.positions=s}seriesShowOrHide(){const s=this.chart.series;this.points?.forEach(t=>{const e=find(s,e=>{e=((e.onPoint||{}).options||{}).id;return!!e&&e===t.id});e&&e.setVisible(!e.visible,!1)})}seriesTranslate(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)}chartGetZData(){const t=[],s=(this.series.forEach(e=>{e=e.options.onPoint;t.push(e?.z??null)}),new Data_DataTableCore({columns:{z:t}}));this.series.forEach(e=>{e.onPoint&&(e.onPoint.dataTable=e.dataTable=s)})}}e.Additions=_}(SeriesOnPointComposition=SeriesOnPointComposition||{}),SeriesOnPointComposition),G=external_highcharts_src_js_default_default(),series_on_point_src=(Series_SeriesOnPointComposition.compose(G.Series,G.Chart),external_highcharts_src_js_default_default());export{series_on_point_src as default};