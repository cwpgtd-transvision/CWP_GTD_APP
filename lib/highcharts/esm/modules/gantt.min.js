let t,e,i;import*as s from"../highcharts.js";import"./pathfinder.js";import"./static-scale.js";import"./xrange.js";var o,n,r,a,l,h,d,c,p,u={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return u.d(e,{a:e}),e},d:(t,e)=>{for(var i in e)u.o(e,i)&&!u.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};let g=s.default;var x=u.n(g);function f(t,e,i,s){return[["M",t,e+s/2],["L",t+i,e],["L",t,e+s/2],["L",t+i,e+s]]}function m(t,e,i,s){return f(t,e,i/2,s)}function b(t,e,i,s){return[["M",t+i,e],["L",t,e+s/2],["L",t+i,e+s],["Z"]]}function y(t,e,i,s){return b(t,e,i/2,s)}let{defined:v,error:M,merge:k,objectEach:A}=x(),w=x().deg2rad,O=Math.max,E=Math.min,S=class{constructor(t,e,i){this.init(t,e,i)}init(t,e,i){this.fromPoint=t,this.toPoint=e,this.options=i,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder}renderPath(t,e){let i=this.chart,s=i.styledMode,o=this.pathfinder,r={},n=this.graphics&&this.graphics.path;o.group||(o.group=i.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(i.seriesGroup)),o.group.translate(i.plotLeft,i.plotTop),n&&n.renderer||(n=i.renderer.path().add(o.group),s||n.attr({opacity:0})),n.attr(e),r.d=t,s||(r.opacity=1),n.animate(r),this.graphics=this.graphics||{},this.graphics.path=n}addMarker(t,e,i){let s,o,r,n,a,h,l,d=this.fromPoint.series.chart,c=d.pathfinder,p=d.renderer,u="start"===t?this.fromPoint:this.toPoint,g=u.getPathfinderAnchorPoint(e);e.enabled&&((l="start"===t?i[1]:i[i.length-2])&&"M"===l[0]||"L"===l[0])&&(h={x:l[1],y:l[2]},o=u.getRadiansToVector(h,g),s=u.getMarkerVector(o,e.radius,g),e.width&&e.height?(n=e.width,a=e.height):n=a=2*e.radius,this.graphics=this.graphics||{},r={x:s.x-n/2,y:s.y-a/2,width:n,height:a,rotation:-o/w,rotationOriginX:s.x,rotationOriginY:s.y},this.graphics[t]?this.graphics[t].animate(r):(this.graphics[t]=p.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker highcharts-color-"+this.fromPoint.colorIndex).attr(r).add(c.group),p.styledMode||this.graphics[t].attr({fill:e.color||this.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},u.series.options.animation)))}getPath(t){let e=this.pathfinder,i=this.chart,s=e.algorithms[t.type],o=e.chartObstacles;return"function"!=typeof s?(M('"'+t.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(s.requiresObstacles&&!o&&(o=e.chartObstacles=e.getChartObstacles(t),i.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(o)),s(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),k({chartObstacles:o,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:i.plotWidth,yMin:0,yMax:i.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t)))}render(){let t=this.fromPoint,e=t.series,i=e.chart,s=i.pathfinder,o={},r=k(i.options.connectors,e.options.connectors,t.options.connectors,this.options);i.styledMode||(o.stroke=r.lineColor||t.color,o["stroke-width"]=r.lineWidth,r.dashStyle&&(o.dashstyle=r.dashStyle)),o.class="highcharts-point-connecting-path highcharts-color-"+t.colorIndex,v((r=k(o,r)).marker.radius)||(r.marker.radius=E(O(Math.ceil((r.algorithmMargin||8)/2)-1,1),5));var n=this.getPath(r),a=n.path;n.obstacles&&(s.lineObstacles=s.lineObstacles||[],s.lineObstacles=s.lineObstacles.concat(n.obstacles)),this.renderPath(a,o),this.addMarker("start",k(r.marker,r.startMarker),a),this.addMarker("end",k(r.marker,r.endMarker),a)}destroy(){this.graphics&&(A(this.graphics,function(t){t.destroy()}),delete this.graphics)}},P=x()["composed"],{addEvent:B,merge:T,pushUnique:C,wrap:I}=x(),D={color:"#ccd3ff",width:2,label:{format:"%[abdYHM]",formatter:function(t,e){return this.axis.chart.time.dateFormat(e||"",t,!0)},rotation:0,style:{fontSize:"0.7em"}}};function R(){let e=this.options,i=e.currentDateIndicator;if(i){let t="object"==typeof i?T(D,i):T(D);t.value=Date.now(),t.className="highcharts-current-date-indicator",e.plotLines||(e.plotLines=[]),e.plotLines.push(t)}}function L(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}function G(t,e){let i=this.options;return i&&i.className&&-1!==i.className.indexOf("highcharts-current-date-indicator")&&i.label&&"function"==typeof i.label.formatter?(i.value=Date.now(),i.label.formatter.call(this,i.value,i.label.format)):t.call(this,e)}let z=s.default.Chart;var N=u.n(z);let W=x()["defaultOptions"],{isArray:F,merge:H,splat:U}=x();class Y extends N(){init(t,e){let i,s=t.xAxis,o=t.yAxis,r=(t.xAxis=t.yAxis=void 0,H(!0,{chart:{type:"gantt"},title:{text:""},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},t,{isGantt:!0}));t.xAxis=s,t.yAxis=o,r.xAxis=(F(t.xAxis)?t.xAxis:[t.xAxis||{},{}]).map((t,e)=>(1===e&&(i=0),H({grid:{borderColor:W.xAxis?.grid?.borderColor||"#cccccc",enabled:!0},opposite:W.xAxis?.opposite??t.opposite??!0,linkedTo:i},t,{type:"datetime"}))),r.yAxis=U(t.yAxis||{}).map(t=>H({grid:{borderColor:W.yAxis?.grid?.borderColor||"#cccccc",enabled:!0},staticScale:50,reversed:!0,type:t.categories?t.type:"treegrid"},t)),super.init(r,e)}}(o=Y=Y||{}).ganttChart=function(t,e,i){return new o(t,e,i)};let X=Y,V=s.default.Axis;var _=u.n(V);let j=x()["isTouchDevice"],{addEvent:q,merge:Z,pick:$}=x(),K=[];function J(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function Q(){let t,e,i,s=this.legend,o=this.navigator;var r,n;o&&(t=s&&s.options,e=o.xAxis,i=o.yAxis,{scrollbarHeight:r,scrollButtonSize:n}=o,this.inverted?(o.left=o.opposite?this.chartWidth-r-o.height:this.spacing[3]+r,o.top=this.plotTop+n):(o.left=$(e.left,this.plotLeft+n),o.top=o.navigatorOptions.top||this.chartHeight-o.height-r-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&"proximate"!==t.layout&&t.enabled&&!t.floating?s.legendHeight+$(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),e&&i&&(this.inverted?e.options.left=i.options.left=o.left:e.options.top=i.options.top=o.top,e.setAxisSize(),i.setAxisSize()))}function tt(e){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new t(this),$(e.redraw,!0)&&this.redraw(e.animation))}function te(){var e=this.options;(e.navigator.enabled||e.scrollbar.enabled)&&(this.scroller=this.navigator=new t(this))}function ti(){var t=this.options,e=t.navigator,t=t.rangeSelector;if((e&&e.enabled||t&&t.enabled)&&(!j&&"x"===this.zooming.type||j&&"x"===this.zooming.pinchType))return!1}function ts(t){let e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))}function to(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(Z(!0,this.options.navigator,e),Z(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}let tn=function(i,s){if(x().pushUnique(K,i)){let e=i.prototype;t=s,e.callbacks.push(ts),q(i,"afterAddSeries",J),q(i,"afterSetChartSize",Q),q(i,"afterUpdate",tt),q(i,"beforeRender",te),q(i,"beforeShowResetZoom",ti),q(i,"update",to)}},tr=x()["isTouchDevice"],{addEvent:ta,correctFloat:tl,defined:th,isNumber:td,pick:tc}=x();function tp(){this.navigatorAxis||(this.navigatorAxis=new tg(this))}function tu(t){let e,i=this.chart,s=i.options,o=s.navigator,r=this.navigatorAxis,n=i.zooming.pinchType,a=s.rangeSelector,h=i.zooming.type;var l;this.isXAxis&&(o?.enabled||a?.enabled)&&("y"===h&&"zoom"===t.trigger?e=!1:("zoom"===t.trigger&&"xy"===h||tr&&"xy"===n)&&this.options.range&&(l=r.previousZoom,th(t.min)?r.previousZoom=[this.min,this.max]:l&&(t.min=l[0],t.max=l[1],r.previousZoom=void 0))),void 0!==e&&t.preventDefault()}class tg{static compose(t){t.keepProps.includes("navigatorAxis")||(t.keepProps.push("navigatorAxis"),ta(t,"init",tp),ta(t,"setExtremes",tu))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,s){let o=this.axis,r=(o.pointRange||0)/2,n=tc(i,o.translate(t,!0,!o.horiz)),a=tc(s,o.translate(e,!0,!o.horiz));return th(i)||(n=tl(n+r)),th(s)||(a=tl(a-r)),{min:n=td(n)&&td(a)?n:a=void 0,max:a}}}let tx=s.default.Color;var tf=u.n(tx);let tm=s.default.SeriesRegistry;var tb=u.n(tm);let ty=tf()["parse"],tv=tb()["seriesTypes"],tM={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:ty("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===tv.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:tk,isNumber:tA,pick:tw}=x(),tO=x()["relativeLength"],tE={"navigator-handle":function(t,e,i,s,o={}){var i=o.width?o.width/2:i,r=tO(o.borderRadius||0,Math.min(2*i,s));return[["M",-1.5,(s=o.height||s)/2-3.5],["L",-1.5,s/2+4.5],["M",.5,s/2-3.5],["L",.5,s/2+4.5],...(o=-i-1,i=2*i+1,s=s,(r={r:r}).r?[["M",o+(r=r.r||0),.5],["L",o+i-r,.5],["A",r,r,0,0,1,o+i,.5+r],["L",o+i,.5+s-r],["A",r,r,0,0,1,o+i-r,.5+s],["L",o+r,.5+s],["A",r,r,0,0,1,o,.5+s-r],["L",o,.5+r],["A",r,r,0,0,1,o+r,.5],["Z"]]:[["M",o,.5],["L",o+i,.5],["L",o+i,.5+s],["L",o,.5+s],["Z"]])]}},tS=s.default.RendererRegistry;var tP=u.n(tS);let tB=x()["defined"],tT=x()["defaultOptions"],tC=x()["composed"],tI=tP()["getRendererType"],tD={setFixedRange:function(t){var e=this.xAxis[0];tB(e.dataMax)&&tB(e.dataMin)&&t?this.fixedRange=Math.min(t,e.dataMax-e.dataMin):this.fixedRange=t}}["setFixedRange"],{addEvent:tR,extend:tL,pushUnique:tG}=x();function tz(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let tN=function(t,e,i){tg.compose(e),tG(tC,"Navigator")&&(t.prototype.setFixedRange=tD,tL(tI().prototype.symbols,tE),tL(tT,{navigator:tM}),tR(i,"afterUpdate",tz))},tW=x()["composed"],{addEvent:tF,defined:tH,pick:tU,pushUnique:tY}=x(),tX=(!function(t){let i;function d(t){var e=tU(t.options?.min,t.min),i=tU(t.options?.max,t.max);return{axisMin:e,axisMax:i,scrollMin:tH(t.dataMin)?Math.min(e,t.min,t.dataMin,tU(t.threshold,1/0)):e,scrollMax:tH(t.dataMax)?Math.max(i,t.max,t.dataMax,tU(t.threshold,-1/0)):i}}function s(){var t=this.scrollbar,e=t&&!t.options.opposite,e=this.horiz?2:e?3:1;t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=t.size+(t.options.margin||0))}function o(){let l=this;l.options?.scrollbar?.enabled&&(l.options.scrollbar.vertical=!l.horiz,l.options.startOnTick=l.options.endOnTick=!1,l.scrollbar=new i(l.chart.renderer,l.options.scrollbar,l.chart),tF(l.scrollbar,"changed",function(t){let e,i,{axisMin:s,axisMax:o,scrollMin:r,scrollMax:n}=d(l),a=n-r;var h;tH(s)&&tH(o)&&(i=l.horiz&&!l.reversed||!l.horiz&&l.reversed?(e=r+a*this.to,r+a*this.from):(e=r+a*(1-this.from),r+a*(1-this.to)),this.shouldUpdateExtremes(t.DOMType)?(h="mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&void 0,l.setExtremes(i,e,!0,h,t)):this.setRange(this.from,this.to))}))}function r(){let t,e,i,{scrollMin:s,scrollMax:o}=d(this),r=this.scrollbar,n=this.axisTitleMargin+(this.titleOffset||0),a=this.chart.scrollbarsOffsets,h=this.options.margin||0;var l;r&&a&&(t=this.horiz?(this.opposite||(a[1]+=n),r.position(this.left,this.top+this.height+2+a[1]-(this.opposite?h:0),this.width,this.height),this.opposite||(a[1]+=h),1):(this.opposite&&(a[0]+=n),l=r.options.opposite?this.left+this.width+2+a[0]-(this.opposite?0:h):this.opposite?0:h,r.position(l,this.top,this.width,this.height),this.opposite&&(a[0]+=h),0),a[t]+=r.size+(r.options.margin||0),isNaN(s)||isNaN(o)||!tH(this.min)||!tH(this.max)||this.dataMin===this.dataMax?r.setRange(0,1):this.min===this.max?(l=this.pointRange/(this.dataMax+1),e=l*this.min,i=l*(this.max+1),r.setRange(e,i)):(e=(this.min-s)/(o-s),i=(this.max-s)/(o-s),this.horiz&&!this.reversed||!this.horiz&&this.reversed?r.setRange(e,i):r.setRange(1-i,1-e)))}t.compose=function(t,e){tY(tW,"Axis.Scrollbar")&&(i=e,tF(t,"afterGetOffset",s),tF(t,"afterInit",o),tF(t,"afterRender",r))}}(a=a||{}),a),tV={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},t_=x()["defaultOptions"],tj=x()["composed"],{addEvent:tq,correctFloat:tZ,crisp:t$,defined:tK,destroyObjectProperties:tJ,extend:tQ,fireEvent:t0,merge:t1,pick:t2,pushUnique:t3,removeEvent:t5}=x();class t6{static compose(t){tX.compose(t,t6),t3(tj,"Scrollbar")&&tQ(t_,{scrollbar:tV})}static swapXY(t,e){return e&&t.forEach(e=>{var i,s=e.length;for(let t=0;t<s;t+=2)"number"==typeof(i=e[t+1])&&(e[t+1]=e[t+2],e[t+2]=i)}),t}constructor(t,e,i){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(t,e,i)}addEvents(){let t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,s=this.track.element,o=this.mouseDownHandler.bind(this),r=this.mouseMoveHandler.bind(this),n=this.mouseUpHandler.bind(this),a=[[e[t[0]].element,"click",this.buttonToMinClick.bind(this)],[e[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[s,"click",this.trackClick.bind(this)],[i,"mousedown",o],[i.ownerDocument,"mousemove",r],[i.ownerDocument,"mouseup",n],[i,"touchstart",o],[i.ownerDocument,"touchmove",r],[i.ownerDocument,"touchend",n]];a.forEach(function(t){tq.apply(null,t)}),this._events=a}buttonToMaxClick(t){var e=(this.to-this.from)*t2(this.options.step,.2);this.updatePosition(this.from+e,this.to+e),t0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){var e=tZ(this.to-this.from)*t2(this.options.step,.2);this.updatePosition(tZ(this.from-e),tZ(this.to-e)),t0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){var e=this.options,e=e.minWidth>this.calculatedWidth?e.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}}destroy(){let e=this,t=e.chart.scroller;e.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){e[t]&&e[t].destroy&&(e[t]=e[t].destroy())}),t&&e===t.scrollbar&&(t.scrollbar=null,tJ(t.scrollbarButtons))}drawScrollbarButton(i){let s=this.renderer,o=this.scrollbarButtons,r=this.options,n=this.size,a=s.g().add(this.group);if(o.push(a),r.buttonsEnabled){let t=s.rect().addClass("highcharts-scrollbar-button").add(a),e=(this.chart.styledMode||t.attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}),t.attr(t.crisp({x:-.5,y:-.5,width:n,height:n,r:r.buttonBorderRadius},t.strokeWidth())),s.path(t6.swapXY([["M",n/2+(i?-1:1),n/2-3],["L",n/2+(i?-1:1),n/2+3],["L",n/2+(i?2:-2),n/2]],r.vertical)).addClass("highcharts-scrollbar-arrow").add(o[i]));this.chart.styledMode||e.attr({fill:r.buttonArrowColor})}}init(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=t1(tV,t_.scrollbar,e),this.options.margin=t2(this.options.margin,10),this.chart=i,this.size=t2(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){t=this.chart.pointer?.normalize(t)||t,t=this.cursorToScrollbarPosition(t);this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){var e=this.chart.pointer?.normalize(t)||t,i=this.options.vertical?"chartY":"chartX",s=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][i]||(e=this.cursorToScrollbarPosition(e)[i]-this[i],this.hasDragged=!0,this.updatePosition(s[0]+e,s[1]+e),this.hasDragged&&t0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&t0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,e,i,s){let{buttonsEnabled:o,margin:r=0,vertical:n}=this.options,a=this.rendered?"animate":"attr",h=s,l=0;this.group.show(),this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.height=s,this.xOffset=h,this.yOffset=l,n?(this.width=this.yOffset=i=l=this.size,this.xOffset=h=0,this.yOffset=l=o?this.size:0,this.barWidth=s-(o?2*i:0),this.x=t+=r):(this.height=s=this.size,this.xOffset=h=o?this.size:0,this.barWidth=i-(o?2*s:0),this.y=this.y+r),this.group[a]({translateX:t,translateY:this.y}),this.track[a]({width:i,height:s}),this.scrollbarButtons[1][a]({translateX:n?0:i-h,translateY:n?s-l:0})}removeEvents(){this._events.forEach(function(t){t5.apply(null,t)}),this._events.length=0}render(){let t=this.renderer,e=this.options,i=this.size,s=this.chart.styledMode,o=t.g("scrollbar").attr({zIndex:e.zIndex}).hide().add();this.group=o,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:e.trackBorderRadius||0,height:i,width:i}).add(o),s||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth});var r=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-t$(0,r),y:-t$(0,r)}),this.scrollbarGroup=t.g().add(o),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:i-r,width:i-r,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(t6.swapXY([["M",-3,i/4],["L",-3,2*i/3],["M",0,i/4],["L",0,2*i/3],["M",3,i/4],["L",3,2*i/3]],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),s||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-t$(0,this.scrollbarStrokeWidth),-t$(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,e){let i,s,o=this.options,r=o.vertical,n=o.minWidth,a=this.barWidth,h=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";var l,d;tK(a)&&(l=a*Math.min(e,1),i=Math.ceil(a*(t=Math.max(t,0))),this.calculatedWidth=s=tZ(l-i),s<n&&(i=(a-n+s)*t,s=n),l=Math.floor(i+this.xOffset+this.yOffset),d=s/2-.5,this.from=t,this.to=e,r?(this.scrollbarGroup[h]({translateY:l}),this.scrollbar[h]({height:s}),this.scrollbarRifles[h]({translateY:d}),this.scrollbarTop=l,this.scrollbarLeft=0):(this.scrollbarGroup[h]({translateX:l}),this.scrollbar[h]({width:s}),this.scrollbarRifles[h]({translateX:d}),this.scrollbarLeft=l,this.scrollbarTop=0),s<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===o.showFull&&(t<=0&&1<=e?this.group.hide():this.group.show()),this.rendered=!0)}shouldUpdateExtremes(t){return t2(this.options.liveRedraw,x().svg&&!x().isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!tK(t)}trackClick(t){var e=this.chart.pointer?.normalize(t)||t,i=this.to-this.from,s=this.y+this.scrollbarTop,o=this.x+this.scrollbarLeft;this.options.vertical&&e.chartY>s||!this.options.vertical&&e.chartX>o?this.updatePosition(this.from+i,this.to+i):this.updatePosition(this.from-i,this.to-i),t0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,t1(!0,this.options,t),this.chart)}updatePosition(t,e){1<e&&(t=tZ(1-tZ(e-t)),e=1),t<0&&(e=tZ(e-t),t=0),this.from=t,this.to=e}}t6.defaultOptions=tV;let t9=s.default.SVGRenderer;var t8=u.n(t9);let t4=x()["defaultOptions"],t7=x()["isTouchDevice"],{symbols:et}=t8()["prototype"],{addEvent:ee,clamp:ei,correctFloat:es,defined:eo,destroyObjectProperties:en,erase:er,extend:ea,find:el,fireEvent:eh,isArray:ed,isNumber:ec,merge:ep,pick:eu,removeEvent:eg,splat:ex}=x();function ef(t,...e){e=[].filter.call(e,ec);if(e.length)return Math[t].apply(0,e)}class em{static compose(t,e,i){tn(t,em),tN(t,e,i)}constructor(t){this.isDirty=!1,this.scrollbarHeight=0,this.init(t)}drawHandle(t,e,i,s){var o=this.navigatorOptions.handles.height;this.handles[e][s](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-o)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-o/2-1)})}drawOutline(t,e,i,s){let o=this.navigatorOptions.maskInside,r=this.outline.strokeWidth(),n=r/2,a=r%2/2,h=this.scrollButtonSize,l=this.size,d=this.top,c=this.height,p=d-n,u=d+c,g=this.left,x,m;i?(x=d+e+a,e=d+t+a,m=[["M",g+c,d-h-a],["L",g+c,x],["L",g,x],["M",g,e],["L",g+c,e],["L",g+c,d+l+h]],o&&m.push(["M",g+c,x-n],["L",g+c,e+n])):(t+=(g-=h)+h-a,e+=g+h-a,m=[["M",g,p],["L",t,p],["L",t,u],["M",e,u],["L",e,p],["L",g+l+2*h,p]],o&&m.push(["M",t-n,p],["L",e+n,p])),this.outline[s]({d:m})}drawMasks(t,e,i,s){let o,r,n,a,h=this.left,l=this.top,d=this.height;o=i?(n=[h,h,h],a=[l,l+t,l+e],r=[d,d,d],[t,e-t,this.size-e]):(n=[h,h+t,h+e],a=[l,l,l],r=[t,e-t,this.size-e],[d,d,d]),this.shades.forEach((t,e)=>{t[s]({x:n[e],y:a[e],width:r[e],height:o[e]})})}renderElements(){let n=this,a=n.navigatorOptions,t=a.maskInside,h=n.chart,e=h.inverted,l=h.renderer,d={cursor:e?"ns-resize":"ew-resize"},c=n.navigatorGroup??(n.navigatorGroup=l.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!t,t,!t].forEach((t,e)=>{let i=n.shades[e]??(n.shades[e]=l.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(c));h.styledMode||(i.attr({fill:t?a.maskFill:"rgba(0,0,0,0)"}),1===e&&i.css(d))}),n.outline||(n.outline=l.path().addClass("highcharts-navigator-outline").add(c)),h.styledMode||n.outline.attr({"stroke-width":a.outlineWidth,stroke:a.outlineColor}),a.handles?.enabled){let s=a.handles,{height:o,width:r}=s;[0,1].forEach(t=>{var e,i=s.symbols[t];n.handles[t]&&n.handles[t].symbolUrl===i?n.handles[t].isImg||n.handles[t].symbolName===i||(e=et[i].call(et,-r/2-1,0,r,o),n.handles[t].attr({d:e}),n.handles[t].symbolName=i):(n.handles[t]?.destroy(),n.handles[t]=l.symbol(i,-r/2-1,0,r,o,s),n.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(c),n.addMouseEvents()),h.inverted&&n.handles[t].attr({rotation:90,rotationOriginX:Math.floor(-r/2),rotationOriginY:(o+r)/2}),h.styledMode||n.handles[t].attr({fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.lineWidth,width:s.width,height:s.height,x:-r/2-1,y:0}).css(d)})}}update(t,e=!1){let i=this.chart,s=i.options.chart.inverted!==i.scrollbar?.options.vertical;if(ep(!0,i.options.navigator,t),this.navigatorOptions=i.options.navigator||{},this.setOpposite(),eo(t.enabled)||s)return this.destroy(),this.navigatorEnabled=t.enabled||this.navigatorEnabled,this.init(i);var o;this.navigatorEnabled&&(!(this.isDirty=!0)===t.adaptToUpdatedData&&this.baseSeries.forEach(t=>{eg(t,"updatedData",this.updatedDataHandler)},this),t.adaptToUpdatedData&&this.baseSeries.forEach(t=>{t.eventsToUnbind.push(ee(t,"updatedData",this.updatedDataHandler))},this),(t.series||t.baseSeries)&&this.setBaseSeries(void 0,!1),t.height||t.xAxis||t.yAxis)&&(this.height=t.height??this.height,o=this.getXAxisOffsets(),this.xAxis.update({...t.xAxis,offsets:o,[i.inverted?"width":"height"]:this.height,[i.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...t.yAxis,[i.inverted?"width":"height"]:this.height},!1)),e&&i.redraw()}render(t,e,i,s){let o=this.chart,r=this.xAxis,n=r.pointRange||0,a=r.navigatorAxis.fake?o.xAxis[0]:r,h=this.navigatorEnabled,l=this.rendered,d=o.inverted,c=o.xAxis[0].minRange,p=o.xAxis[0].options.maxRange,u=this.scrollButtonSize,g,x,m,f=this.scrollbarHeight,b,v;if(!this.hasDragged||eo(i)){if(this.isDirty&&this.renderElements(),t=es(t-n/2),e=es(e+n/2),!ec(t)||!ec(e)){if(!l)return;i=0,s=eu(r.width,a.width)}this.left=eu(r.left,o.plotLeft+u+(d?o.plotWidth:0));var y=this.size=b=eu(r.len,(d?o.plotHeight:o.plotWidth)-2*u),t=(g=d?f:b+2*u,i=eu(i,r.toPixels(t,!0)),s=eu(s,r.toPixels(e,!0)),ec(i)&&Math.abs(i)!==1/0||(i=0,s=g),r.toValue(i,!0)),e=r.toValue(s,!0),M=Math.abs(es(e-t)),M=(M<c?this.grabbedLeft?i=r.toPixels(e-c-n,!0):this.grabbedRight&&(s=r.toPixels(t+c+n,!0)):eo(p)&&es(M-n)>p&&(this.grabbedLeft?i=r.toPixels(e-p-n,!0):this.grabbedRight&&(s=r.toPixels(t+p+n,!0))),this.zoomedMax=ei(Math.max(i,s),0,y),this.zoomedMin=ei(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,s),0,y),this.range=this.zoomedMax-this.zoomedMin,y=Math.round(this.zoomedMax),Math.round(this.zoomedMin));h&&(this.navigatorGroup.attr({visibility:"inherit"}),v=l&&!this.hasDragged?"animate":"attr",this.drawMasks(M,y,d,v),this.drawOutline(M,y,d,v),this.navigatorOptions.handles.enabled&&(this.drawHandle(M,0,d,v),this.drawHandle(y,1,d,v))),this.scrollbar&&(d?(m=this.top-u,x=this.left-f+(h||!a.opposite?0:(a.titleOffset||0)+a.axisTitleMargin),f=b+2*u):(m=this.top+(h?this.height:-f),x=this.left-u),this.scrollbar.position(x,m,g,f),this.scrollbar.setRange(this.zoomedMin/(b||1),this.zoomedMax/(b||1))),this.rendered=!0,this.isDirty=!1,eh(this,"afterRender")}}addMouseEvents(){let e=this,t=e.chart,i=t.container,s=[],o,r;e.mouseMoveHandler=o=function(t){e.onMouseMove(t)},e.mouseUpHandler=r=function(t){e.onMouseUp(t)},(s=e.getPartsEvents("mousedown")).push(ee(t.renderTo,"mousemove",o),ee(i.ownerDocument,"mouseup",r),ee(t.renderTo,"touchmove",o),ee(i.ownerDocument,"touchend",r)),s.concat(e.getPartsEvents("touchstart")),e.eventsToUnbind=s,e.series&&e.series[0]&&s.push(ee(e.series[0].xAxis,"foundExtremes",function(){t.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(s){let o=this,r=[];return["shades","handles"].forEach(function(i){o[i].forEach(function(t,e){r.push(ee(t.element,s,function(t){o[i+"Mousedown"](t,e)}))})}),r}shadesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let i=this.chart,s=this.xAxis,o=this.zoomedMin,r=this.size,n=this.range,a=this.left,h=t.chartX,l,d,c,p;i.inverted&&(h=t.chartY,a=this.top),1===e?(this.grabbedCenter=h,this.fixedWidth=n,this.dragOffset=h-o):(p=h-a-n/2,0===e?p=Math.max(0,p):2===e&&p+n>=r&&(p=r-n,this.reversedExtremes?(p-=n,d=this.getUnionExtremes().dataMin):l=this.getUnionExtremes().dataMax),p!==o&&(this.fixedWidth=n,eo((c=s.navigatorAxis.toFixedRange(p,p+n,d,l)).min)&&eh(this,"setRange",{min:Math.min(c.min,c.max),max:Math.max(c.min,c.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let i=this.chart,s=i.xAxis[0],o=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=o?s.min:s.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=o?s.max:s.min),i.setFixedRange(void 0)}onMouseMove(t){let e=this,i=e.chart,s=e.navigatorSize,o=e.range,r=e.dragOffset,n=i.inverted,a=e.left,h;t.touches&&0===t.touches[0].pageX||(h=(t=i.pointer?.normalize(t)||t).chartX,n&&(a=e.top,h=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,h-a,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,h-a)):e.grabbedCenter&&(e.hasDragged=!0,h<r?h=r:h>s+r-o&&(h=s+r-o),e.render(0,0,h-r,h-r+o)),e.hasDragged&&e.scrollbar&&eu(e.scrollbar.options.liveRedraw,!t7&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))}onMouseUp(t){let e,i,s,o,r,n,a=this.chart,h=this.xAxis,l=this.scrollbar,d=t.DOMEvent||t,c=a.inverted,p=this.rendered&&!this.hasDragged?"animate":"attr";(!this.hasDragged||l&&l.hasDragged)&&"scrollbar"!==t.trigger||(s=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?o=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(r=this.fixedExtreme),this.zoomedMax===this.size&&(r=this.reversedExtremes?s.dataMin:s.dataMax),0===this.zoomedMin&&(o=this.reversedExtremes?s.dataMax:s.dataMin),eo((n=h.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,o,r)).min)&&eh(this,"setRange",{min:Math.min(n.min,n.max),max:Math.max(n.min,n.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:d}})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ec(this.zoomedMin)&&ec(this.zoomedMax)&&(i=Math.round(this.zoomedMin),e=Math.round(this.zoomedMax),this.shades&&this.drawMasks(i,e,c,p),this.outline&&this.drawOutline(i,e,c,p),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(i,0,c,p),this.drawHandle(e,1,c,p)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){eg(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&eg(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(a){let t=a.options,e=t.navigator||{},i=e.enabled,s=t.scrollbar||{},o=s.enabled,r=i&&e.height||0,n=o&&s.height||0,h=s.buttonsEnabled&&n||0,l=(this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=r,this.scrollbarHeight=n,this.scrollButtonSize=h,this.scrollbarEnabled=o,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=s,this.setOpposite(),this),d=l.baseSeries,c=a.xAxis.length,p=a.yAxis.length,u=d&&d[0]&&d[0].xAxis||a.xAxis[0]||{options:{}};var g;if(a.isDirtyBox=!0,l.navigatorEnabled?(g=this.getXAxisOffsets(),l.xAxis=new(_())(a,ep({breaks:u.options.breaks,ordinal:u.options.ordinal,overscroll:u.options.overscroll},e.xAxis,{type:"datetime",yAxis:e.yAxis?.id,index:c,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:u.options.ordinal?0:u.options.minPadding,maxPadding:u.options.ordinal?0:u.options.maxPadding,zoomEnabled:!1},a.inverted?{offsets:g,width:r}:{offsets:g,height:r}),"xAxis"),l.yAxis=new(_())(a,ep(e.yAxis,{alignTicks:!1,offset:0,index:p,isInternal:!0,reversed:eu(e.yAxis&&e.yAxis.reversed,a.yAxis[0]&&a.yAxis[0].reversed,!1),zoomEnabled:!1},a.inverted?{width:r}:{height:r}),"yAxis"),d||e.series.data?l.updateNavigatorSeries(!1):0===a.series.length&&(l.unbindRedraw=ee(a,"beforeRedraw",function(){0<a.series.length&&!l.series&&(l.setBaseSeries(),l.unbindRedraw())})),l.reversedExtremes=a.inverted&&!l.xAxis.reversed||!a.inverted&&l.xAxis.reversed,l.renderElements(),l.addMouseEvents()):(l.xAxis={chart:a,navigatorAxis:{fake:!0},translate:function(t,e){let i=a.xAxis[0],s=i.getExtremes(),o=i.len-2*h,r=ef("min",i.options.min,s.dataMin),n=ef("max",i.options.max,s.dataMax)-r;return e?t*n/o+r:o*(t-r)/n},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},l.xAxis.navigatorAxis.axis=l.xAxis,l.xAxis.navigatorAxis.toFixedRange=tg.prototype.toFixedRange.bind(l.xAxis.navigatorAxis)),a.options.scrollbar?.enabled){let t=ep(a.options.scrollbar,{vertical:a.inverted});ec(t.margin)||(t.margin=a.inverted?-3:3),a.scrollbar=l.scrollbar=new t6(a.renderer,t,a),ee(l.scrollbar,"changed",function(t){var e=l.size,i=e*this.to,e=e*this.from;l.hasDragged=l.scrollbar.hasDragged,l.render(0,0,e,i),this.shouldUpdateExtremes(t.DOMType)&&setTimeout(function(){l.onMouseUp(t)})})}l.addBaseSeriesEvents(),l.addChartEvents()}setOpposite(){var t=this.navigatorOptions,e=this.navigatorEnabled,i=this.chart;this.opposite=eu(t.opposite,!(e||!i.inverted))}getUnionExtremes(t){let e,i=this.chart.xAxis[0],s=this.chart.time,o=this.xAxis,r=o.options,n=i.options;return e=t&&null===i.dataMin?e:{dataMin:eu(s.parse(r?.min),ef("min",s.parse(n.min),i.dataMin,o.dataMin,o.min)),dataMax:eu(s.parse(r?.max),ef("max",s.parse(n.max),i.dataMax,o.dataMax,o.max))}}setBaseSeries(i,t){let e=this.chart,s=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?el(e.series,t=>!t.options.isInternal).index:0),(e.series||[]).forEach((t,e)=>{t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||s.push(t)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)}updateNavigatorSeries(t,o){let r=this,n=r.chart,a=r.baseSeries,h={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},l=r.series=(r.series||[]).filter(t=>{let e=t.baseSeries;return!(a.indexOf(e)<0&&(e&&(eg(e,"updatedData",r.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))}),d,c,p=r.navigatorOptions.series,u;a&&a.length&&a.forEach(t=>{let e=t.navigatorSeries,i=ea({color:t.color,visible:t.visible},ed(p)?t4.navigator.series:p);var s;e&&!1===r.navigatorOptions.adaptToUpdatedData||(h.name="Navigator "+a.length,u=(d=t.options||{}).navigatorOptions||{},i.dataLabels=ex(i.dataLabels),(c=ep(d,h,i,u)).pointRange=eu(i.pointRange,u.pointRange,t4.plotOptions[c.type||"line"].pointRange),s=u.data||i.data,r.hasNavigatorData=r.hasNavigatorData||!!s,c.data=s||d.data?.slice(0),e&&e.options?e.update(c,o):(t.navigatorSeries=n.initSeries(c),n.setSortedData(),t.navigatorSeries.baseSeries=t,l.push(t.navigatorSeries)))}),(!p.data||a&&a.length)&&!ed(p)||(r.hasNavigatorData=!1,(p=ex(p)).forEach((t,e)=>{h.name="Navigator "+(l.length+1),(c=ep(t4.navigator.series,{color:n.series[e]&&!n.series[e].options.isInternal&&n.series[e].color||n.options.colors[e]||n.options.colors[0]},h,t)).data=t.data,c.data&&(r.hasNavigatorData=!0,l.push(n.initSeries(c)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let e=this,i=e.baseSeries||[];i[0]&&i[0].xAxis&&i[0].eventsToUnbind.push(ee(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),i.forEach(t=>{t.eventsToUnbind.push(ee(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),t.eventsToUnbind.push(ee(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&t.eventsToUnbind.push(ee(t,"updatedData",this.updatedDataHandler)),t.eventsToUnbind.push(ee(t,"remove",function(){i&&er(i,t),this.navigatorSeries&&e.series&&(er(e.series,this.navigatorSeries),eo(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.getColumn("x")[0]??t)},t)}modifyNavigatorAxisExtremes(){let t=this.xAxis;var e;void 0===t.getExtremes||!(e=this.getUnionExtremes(!0))||e.dataMin===t.min&&e.dataMax===t.max||(t.min=e.dataMin,t.max=e.dataMax)}modifyBaseAxisExtremes(){let t,e,i=this.chart.navigator,s=this.getExtremes(),o=s.min,r=s.max,n=s.dataMin,a=s.dataMax,h=r-o,l=i.stickToMin,d=i.stickToMax,c=eu(this.ordinal?.convertOverscroll(this.options.overscroll),0),p=i.series&&i.series[0],u=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(l&&(t=(e=n)+h),d&&(t=a+c,l||(e=Math.max(n,t-h,i.getBaseSeriesMin(p&&p.xData?p.xData[0]:-Number.MAX_VALUE)))),u&&(l||d)&&ec(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){let t=this.chart.navigator,e=this.navigatorSeries,i=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=eu(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.getColumn("x")[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){var e=e.getBaseSeriesMin(t.getColumn("x")[0]),t=t.xAxis,i=t.max,s=t.min,t=t.options.range;return!(!ec(i)||!ec(s))&&(t&&0<i-e?i-e<t:s<=e)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(ee(this.chart,"redraw",function(){let t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),ee(this.chart,"getMargins",function(){let t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this[e=this.inverted?t.opposite?"marginRight":"plotLeft":e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.height+(this.scrollbar?.options.margin||0)+t.scrollbarHeight:0)+(t.navigatorOptions.margin||0)}),ee(em,"setRange",function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(er(this.chart.xAxis,this.xAxis),er(this.chart.axes,this.xAxis)),this.yAxis&&(er(this.chart.yAxis,this.yAxis),er(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{en(t)}),this.baseSeries.forEach(t=>{t.navigatorSeries=void 0}),this.navigatorEnabled=!1}}let eb={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},ey=x()["defaultOptions"],ev=x()["composed"],{addEvent:eM,defined:ek,extend:eA,isNumber:ew,merge:eO,pick:eE,pushUnique:eS}=x(),eP=[];function eB(){function t(t,e){let i=n.toParts(t),s=i.slice();"year"===r?s[0]+=e:s[1]+=e;var o=n.makeTime.apply(n,s),o=n.toParts(o);return"month"===r&&i[1]===o[1]&&1===Math.abs(e)&&(s[0]=i[0],s[1]=i[1],s[2]=0),n.makeTime.apply(n,s)-t}let e,i,s=this.range,r=s.type,o=this.max,n=this.chart.time;ew(s)?(e=o-s,i=s):s&&(e=o+t(o,-(s.count||1)),this.chart&&this.chart.setFixedRange(o-e));var a=eE(this.dataMin,Number.MIN_VALUE);return(e=ew(e)?e:a)<=a&&(e=a,void 0===i&&(i=t(e,s.count)),this.newMax=Math.min(e+i,eE(this.dataMax,Number.MAX_VALUE))),ew(o)?!ew(s)&&s&&s._offsetMin&&(e+=s._offsetMin):e=void 0,e}function eT(){this.rangeSelector?.redrawElements()}function eC(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new e(this))}function eI(){let t=this.rangeSelector;var e;t&&(ew(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick),e=t.options.verticalAlign,t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"top"===e&&(this.extraTopMargin=!0)))}function eD(){let s,o=this.rangeSelector;if(o){let t=this.xAxis[0].getExtremes(),e=this.legend,i=o&&o.options.verticalAlign;ew(t.min)&&o.render(t.min,t.max),e.display&&"top"===i&&i===e.options.verticalAlign&&(s=eO(this.spacingBox),"vertical"===e.options.layout?s.y=this.plotTop:s.y+=o.getHeight(),e.group.placed=!1,e.align(s))}}function eR(){for(let e=0,t=eP.length;e<t;++e){let t=eP[e];if(t[0]===this)return t[1].forEach(t=>t()),void eP.splice(e,1)}}function eL(){let t=this.rangeSelector;var e,i;t?.options?.enabled&&(e=t.getHeight(),i=t.options.verticalAlign,t.options.floating||("bottom"===i?this.marginBottom+=e:"middle"!==i&&(this.plotTop+=e)))}function eG(t){let i=t.options.rangeSelector,s=this.extraBottomMargin,o=this.extraTopMargin,r=this.rangeSelector;i&&i.enabled&&!ek(r)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=r=new e(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,r&&(t=i&&i.verticalAlign||r.options&&r.options.verticalAlign,r.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)),this.extraBottomMargin===s&&this.extraTopMargin===o||(this.isDirtyBox=!0))}let ez=function(i,s,t){if(e=t,eS(ev,"RangeSelector")){let t=s.prototype;i.prototype.minFromRange=eB,eM(s,"afterGetContainer",eC),eM(s,"beforeRender",eI),eM(s,"destroy",eR),eM(s,"getMargins",eL),eM(s,"redraw",eD),eM(s,"update",eG),eM(s,"beforeRedraw",eT),t.callbacks.push(eD),eA(ey,{rangeSelector:eb.rangeSelector}),eA(ey.lang,eb.lang)}},eN=s.default.SVGElement;var eW=u.n(eN);let eF=s.default.Templating;var eH=u.n(eF);(n=l=l||{}).setLength=function(t,e,i){return Array.isArray(t)?(t.length=e,t):t[i?"subarray":"slice"](0,e)},n.splice=function(t,e,i,s,o=[]){if(Array.isArray(t))return Array.isArray(o)||(o=Array.from(o)),{removed:t.splice(e,i,...o),array:t};let r=Object.getPrototypeOf(t).constructor,n=t[s?"subarray":"slice"](e,e+i),a=new r(t.length-i+o.length);return a.set(t.subarray(0,e),0),a.set(o,e),a.set(t.subarray(e+i),e+o.length),{removed:n,array:a}};let{setLength:eU,splice:eY}=l,{fireEvent:eX,objectEach:eV,uniqueKey:e_}=x(),ej=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||e_(),(this.modified=this).rowCount=0,this.versionTag=e_();let i=0;eV(t.columns||{},(t,e)=>{this.columns[e]=t.slice(),i=Math.max(i,t.length)}),this.applyRowCount(i)}applyRowCount(i){this.rowCount=i,eV(this.columns,(t,e)=>{t.length!==i&&(this.columns[e]=eU(t,i))})}deleteRows(s,o=1){if(0<o&&s<this.rowCount){let i=0;eV(this.columns,(t,e)=>{this.columns[e]=eY(t,s,o).array,i=t.length}),this.rowCount=i}eX(this,"afterDeleteRows",{rowIndex:s,rowCount:o}),this.versionTag=e_()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(e,t){return(t||Object.keys(this.columns)).map(t=>this.columns[t]?.[e])}setColumn(t,e=[],i=0,s){this.setColumns({[t]:e},i,s)}setColumns(t,e,i){let s=this.rowCount;eV(t,(t,e)=>{this.columns[e]=t.slice(),s=t.length}),this.applyRowCount(s),i?.silent||(eX(this,"afterSetColumns"),this.versionTag=e_())}setRow(t,s=this.rowCount,o,r){let n=this["columns"],a=o?this.rowCount+1:s+1;eV(t,(t,e)=>{let i=n[e]||!1!==r?.addColumns&&Array(a);i&&(o?i=eY(i,s,0,!0,[t]).array:i[s]=t,n[e]=i)}),a>this.rowCount&&this.applyRowCount(a),r?.silent||(eX(this,"afterSetRows"),this.versionTag=e_())}},{addEvent:eq,correctFloat:eZ,css:e$,defined:eK,error:eJ,isNumber:eQ,pick:e0,timeUnits:e1,isString:e2}=x(),e3=(!function(s){function o(t,e,l,i,s=[],o=0,r){let d={},c=this.options.tickPixelInterval,n=this.chart.time,a=[],h,p,u,g,x,m=0,f=[],b=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!s||s.length<3||void 0===e)return n.getTimeTicks.apply(n,arguments);var v=s.length;for(h=0;h<v;h++){if(x=h&&s[h-1]>l,s[h]<e&&(m=h),h===v-1||s[h+1]-s[h]>5*o||x){if(s[h]>b){for(p=n.getTimeTicks(t,s[m],s[h],i);p.length&&p[0]<=b;)p.shift();p.length&&(b=p[p.length-1]),a.push(f.length),f=f.concat(p)}m=h+1}if(x)break}if(p){if(g=p.info,r&&g.unitRange<=e1.hour){for(m=1,h=f.length-1;m<h;m++)n.dateFormat("%d",f[m])!==n.dateFormat("%d",f[m-1])&&(d[f[m]]="day",u=!0);u&&(d[f[0]]="day"),g.higherRanks=d}g.segmentStarts=a,f.info=g}else eJ(12,!1,this.chart);if(r&&eK(c)){let t=f.length,e=[],i=[],s,o,r,n,a,h=t;for(;h--;)o=this.translate(f[h]),r&&(i[h]=r-o),e[h]=r=o;for(i.sort((t,e)=>t-e),(n=i[Math.floor(i.length/2)])<.6*c&&(n=null),h=f[t-1]>l?t-1:t,r=void 0;h--;)a=Math.abs(r-(o=e[h])),r&&a<.8*c&&(null===n||a<.8*n)?(d[f[h]]&&!d[f[h+1]]?(s=h+1,r=o):s=h,f.splice(s,1)):r=o}return f}function r(t){var e=this.ordinal.positions;if(!e)return t;let i=e.length-1,s;return t<0?t=e[0]:t>i?t=e[i]:(i=Math.floor(t),s=t-i),void 0!==s&&void 0!==e[i]?e[i]+(s?s*(e[i+1]-e[i]):0):t}function n(t){let e=this.ordinal,i=(this.old||this).min,s=(this.old||this).transA,o=e.getExtendedPositions();if(o?.length){var r,n,a=eZ((t-i)*s+this.minPixelPadding),a=eZ(e.getIndexOfPoint(a,o)),h=eZ(a%1);if(0<=a&&a<=o.length-1)return r=o[Math.floor(a)],n=o[Math.ceil(a)],o[Math.floor(a)]+h*(n-r)}return t}function l(t,e){var i=s.Additions.findIndexOf(t,e,!0);return t[i]===e?i:i+(e-t[i])/(t[i+1]-t[i])}function a(){this.ordinal||(this.ordinal=new s.Additions(this))}function h(){var{eventArgs:t,options:e}=this;this.isXAxis&&eK(e.overscroll)&&0!==e.overscroll&&eQ(this.max)&&eQ(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&("pan"!==t?.trigger||this.isInternal)&&"navigator"!==t?.trigger)&&(e=this.ordinal.convertOverscroll(e.overscroll),this.max+=e,!this.isInternal&&eK(this.userMin)&&"mousewheel"!==t?.trigger&&(this.min+=e))}function d(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function c(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function p(x){let m=this.xAxis[0],f=m.ordinal.convertOverscroll(m.options.overscroll),b=x.originalEvent.chartX,t=this.options.chart.panning,v=!1;if("y"!==t?.type&&m.options.ordinal&&m.series.length&&(!x.touches||x.touches.length<=1)){let t,e,i=this.mouseDownX,s=m.getExtremes(),o=s.dataMin,r=s.dataMax,n=s.min,a=s.max,h=this.hoverPoints,l=m.closestPointRange||m.ordinal?.overscrollPointsRange,d=Math.round((i-b)/(m.translationSlope*(m.ordinal.slope||l))),c=m.ordinal.getExtendedPositions(),p={ordinal:{positions:c,extendedOrdinalPositions:c}},u=m.index2val,g=m.val2lin;if(n<=o&&d<=0||r+f<=a&&0<=d)return void x.preventDefault();p.ordinal.positions?1<Math.abs(d)&&(h&&h.forEach(function(t){t.setState()}),e=p.ordinal.positions,r>(e=f?p.ordinal.positions=e.concat(m.ordinal.getOverscrollPositions()):e)[e.length-1]&&e.push(r),this.setFixedRange(a-n),(t=m.navigatorAxis.toFixedRange(void 0,void 0,u.apply(p,[g.apply(p,[n,!0])+d]),u.apply(p,[g.apply(p,[a,!0])+d]))).min>=Math.min(e[0],n)&&t.max<=Math.max(e[e.length-1],a)+f&&m.setExtremes(t.min,t.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,e$(this.container,{cursor:"move"})):v=!0}else v=!0;v||t&&/y/.test(t.type)?f&&eQ(m.dataMax)&&(m.max=m.dataMax+f):x.preventDefault()}function u(){let t=this.xAxis;t?.options.ordinal&&(delete t.ordinal.index,delete t.ordinal.originalOrdinalRange)}function g(t,e){let i,s=this.ordinal,o=s.positions,r=s.slope,n;if(!o)return t;var a=o.length;if(o[0]<=t&&o[a-1]>=t)i=l(o,t);else{if(!(n=s.getExtendedPositions?.())?.length)return t;var a=n.length,h=(r=r||(n[a-1]-n[0])/a,l(n,o[0]));if(t>=n[0]&&t<=n[a-1])i=l(n,t)-h;else{if(!e)return t;i=t<n[0]?-h-(n[0]-t)/r:(t-n[a-1])/r+a-h}}return e?i:r*(i||0)+s.offset}s.compose=function(t,e,i){let s=t.prototype;return s.ordinal2lin||(s.getTimeTicks=o,s.index2val=r,s.lin2val=n,s.val2lin=g,s.ordinal2lin=s.val2lin,eq(t,"afterInit",a),eq(t,"foundExtremes",h),eq(t,"afterSetScale",d),eq(t,"initialAxisTranslation",c),eq(i,"pan",p),eq(i,"touchpan",p),eq(e,"updatedData",u)),t},s.Additions=class{constructor(t){this.index={},this.axis=t}beforeSetTickPositions(){let t=this.axis,e=t.ordinal,i=t.getExtremes(),o=i.min,r=i.max,n=t.brokenAxis?.hasBreaks,s=t.options.ordinal,a=t.options.overscroll&&t.ordinal.convertOverscroll(t.options.overscroll)||0,h,l,d,c,p,u,g,x=[],m=Number.MAX_VALUE,f=!1,b=!1,v=!1;if(s||n){let s=0;if(t.series.forEach(function(t,e){var i=t.getColumn("x",!0);if(l=[],0<e&&"highcharts-navigator-series"!==t.options.id&&1<i.length&&(b=s!==i[1]-i[0]),s=i[1]-i[0],t.boosted&&(v=t.boosted),t.reserveSpace()&&(!1!==t.takeOrdinalPosition||n)&&(h=(x=x.concat(i)).length,x.sort(function(t,e){return t-e}),m=Math.min(m,e0(t.closestPointRange,m)),h)){for(e=0;e<h-1;)x[e]!==x[e+1]&&l.push(x[e+1]),e++;l[0]!==x[0]&&l.unshift(x[0]),x=l}}),t.ordinal.originalOrdinalRange||(t.ordinal.originalOrdinalRange=(x.length-1)*m),b&&v&&(x.pop(),x.shift()),2<(h=x.length)){for(d=x[1]-x[0],g=h-1;g--&&!f;)x[g+1]-x[g]!=d&&(f=!0);!t.options.keepOrdinalPadding&&(x[0]-o>d||r-a-x[h-1]>d)&&(f=!0)}else t.options.overscroll&&(2===h?m=x[1]-x[0]:1===h?(m=a,x=[x[0],x[0]+m]):m=e.overscrollPointsRange);f||t.forceOrdinal?(t.options.overscroll&&(e.overscrollPointsRange=m,x=x.concat(e.getOverscrollPositions())),e.positions=x,c=t.ordinal2lin(Math.max(o,x[0]),!0),p=Math.max(t.ordinal2lin(Math.min(r,x[x.length-1]),!0),1),e.slope=u=(r-o)/(p-c),e.offset=o-c*u):(e.overscrollPointsRange=e0(t.closestPointRange,e.overscrollPointsRange),e.positions=t.ordinal.slope=e.offset=void 0)}t.isOrdinal=s&&f,e.groupIntervalFactor=null}static findIndexOf(t,e,i){let s=0,o=t.length-1,r;for(;s<o;)t[r=Math.ceil((s+o)/2)]<=e?s=r:o=r-1;return t[s]===e||i?s:-1}getExtendedPositions(i=!0){let s=this,t=s.axis,e=t.constructor.prototype,o=t.chart,r=t.series.reduce((t,e)=>{e=e.currentDataGrouping;return t+(e?e.count+e.unitName:"raw")},""),n=i?t.ordinal.convertOverscroll(t.options.overscroll):0,a=t.getExtremes(),h,l,d=s.index;return(d=d||(s.index={}))[r]||((h={series:[],chart:o,forceOrdinal:!1,getExtremes:function(){return{min:a.dataMin,max:a.dataMax+n}},applyGrouping:e.applyGrouping,getGroupPixelWidth:e.getGroupPixelWidth,getTimeTicks:e.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:e.ordinal2lin,getIndexOfPoint:e.getIndexOfPoint,val2lin:e.val2lin}).ordinal.axis=h,t.series.forEach(t=>{var e;!1!==t.takeOrdinalPosition&&(l={xAxis:h,chart:o,groupPixelWidth:t.groupPixelWidth,destroyGroupedData:x().noop,getColumn:t.getColumn,applyGrouping:t.applyGrouping,getProcessedData:t.getProcessedData,reserveSpace:t.reserveSpace,visible:t.visible},e=t.getColumn("x").concat(i?s.getOverscrollPositions():[]),l.dataTable=new ej({columns:{x:e}}),l.options={...t.options,dataGrouping:t.currentDataGrouping?{firstAnchor:t.options.dataGrouping?.firstAnchor,anchor:t.options.dataGrouping?.anchor,lastAnchor:t.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[t.currentDataGrouping.unitName,[t.currentDataGrouping.count]]]}:{enabled:!1}},h.series.push(l),t.processData.apply(l))}),h.applyGrouping({hasExtremesChanged:!0}),l?.closestPointRange!==l?.basePointRange&&l.currentDataGrouping&&(h.forceOrdinal=!0),t.ordinal.beforeSetTickPositions.apply({axis:h}),!t.ordinal.originalOrdinalRange&&h.ordinal.originalOrdinalRange&&(t.ordinal.originalOrdinalRange=h.ordinal.originalOrdinalRange),h.ordinal.positions&&(d[r]=h.ordinal.positions)),d[r]}getGroupIntervalFactor(t,e,i){let s=i.getColumn("x",!0),o=s.length,r=[],n,a,h=this.groupIntervalFactor;if(!h){for(a=0;a<o-1;a++)r[a]=s[a+1]-s[a];r.sort(function(t,e){return t-e}),n=r[Math.floor(o/2)],t=Math.max(t,s[0]),e=Math.min(e,s[o-1]),this.groupIntervalFactor=h=o*n/(e-t)}return h}getIndexOfPoint(t,e){var i=this.axis,s=i.min,o=i.minPixelPadding;return l(e,s)+eZ((t-o)/(i.translationSlope*(this.slope||i.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let t=this.axis,e=this.convertOverscroll(t.options.overscroll),i=this.overscrollPointsRange,s=[],o=t.dataMax;if(eK(i))for(;o<t.dataMax+e;)s.push(o+=i);return s}postProcessTickInterval(t){var e=this.axis,i=this.slope,s=e.closestPointRange;return i&&s?e.options.breaks?s||t:t/(i/s):t}convertOverscroll(i=0){function s(t){return e0(e.originalOrdinalRange,eK(o.dataMax)&&eK(o.dataMin)?o.dataMax-o.dataMin:0)*t}let e=this,o=e.axis;if(e2(i)){let t,e=parseInt(i,10);return(eK(o.min)&&eK(o.max)&&eK(o.dataMin)&&eK(o.dataMax)&&((t=o.max-o.min==o.dataMax-o.dataMin)||(this.originalOrdinalRange=o.max-o.min)),/%$/.test(i))?s(e/100):/px/.test(i)?s((r=Math.min(e,.9*o.len)/o.len)/(t?1-r:1)):0;var r}return i}}}(h=h||{}),h),e5=x()["defaultOptions"],e6=eH()["format"],{addEvent:e9,createElement:e8,css:e4,defined:e7,destroyObjectProperties:it,diffObjects:ie,discardElement:ii,extend:is,fireEvent:io,isNumber:ir,isString:ia,merge:il,objectEach:ih,pick:id,splat:ic}=x();function ip(e){var t=t=>RegExp("%[[a-zA-Z]*"+t).test(e);if(ia(e)?-1!==e.indexOf("%L"):e.fractionalSecondDigits)return"text";var i=ia(e)?["a","A","d","e","w","b","B","m","o","y","Y"].some(t):e.dateStyle||e.day||e.month||e.year,t=ia(e)?["H","k","I","l","M","S"].some(t):e.timeStyle||e.hour||e.minute||e.second;return i&&t?"datetime-local":i?"date":t?"time":"text"}class iu{static compose(t,e){ez(t,e,iu)}constructor(t){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let e=0;return this.buttons.forEach(t=>{t=t.getBBox();t.width>e&&(e=t.width)}),e},this.init(t)}clickButton(t,e){let i=this.chart,s=this.buttonOptions[t],o=i.xAxis[0],r=i.scroller&&i.scroller.getUnionExtremes()||o||{},n=s.type,a=s.dataGrouping,h=r.dataMin,l=r.dataMax,d,c=ir(o?.max)?Math.round(Math.min(o.max,l??o.max)):void 0,p,u=s._range,g,x,m,f=!0;if(null!==h&&null!==l){if(this.setSelected(t),a&&(this.forcedDataGrouping=!0,_().prototype.setDataGrouping.call(o||{chart:this.chart},a,!1),this.frozenStates=s.preserveDataGrouping),"month"===n||"year"===n)o?(x={range:s,max:c,chart:i,dataMin:h,dataMax:l},d=o.minFromRange.call(x),ir(x.newMax)&&(c=x.newMax),f=!1):u=s;else if(u)ir(c)&&(c=Math.min((d=Math.max(c-u,h))+u,l),f=!1);else if("ytd"===n){if(!o)return void(this.deferredYTDClick=t);!o.hasData()||ir(l)&&ir(h)||(h=Number.MAX_VALUE,l=-Number.MAX_VALUE,i.series.forEach(t=>{t=t.getColumn("x");t.length&&(h=Math.min(t[0],h),l=Math.max(t[t.length-1],l))}),e=!1),ir(l)&&ir(h)&&(d=g=(m=this.getYTDExtremes(l,h)).min,c=m.max)}else"all"===n&&o&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),d=h,c=l);if(f&&s._offsetMin&&e7(d)&&(d+=s._offsetMin),s._offsetMax&&e7(c)&&(c+=s._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),o)ir(d)&&ir(c)&&(o.setExtremes(d,c,id(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:s}),i.setFixedRange(s._range));else{p=ic(i.options.xAxis||{})[0];let e=e9(i,"afterCreateAxes",function(){let t=i.xAxis[0];t.range=t.options.range=u,t.min=t.options.min=g});e9(i,"load",function(){let t=i.xAxis[0];i.setFixedRange(s._range),t.options.range=p.range,t.options.min=p.min,e()})}io(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&io(t,"blur"),e&&e.blur&&io(e,"blur")}let i=this,s=e.options.rangeSelector,o=e.options.lang,r=s.buttons,n=s.selected;i.chart=e,i.options=s,i.buttons=[],i.buttonOptions=r.map(t=>(t.type&&o.rangeSelector&&(t.text??(t.text=o.rangeSelector[t.type+"Text"]),t.title??(t.title=o.rangeSelector[t.type+"Title"])),t.text=e6(t.text,{count:t.count||1}),t.title=e6(t.title,{count:t.count||1}),t)),this.eventsToUnbind=[],this.eventsToUnbind.push(e9(e.container,"mousedown",t)),this.eventsToUnbind.push(e9(e,"resize",t)),r.forEach(i.computeButtonRange),void 0!==n&&r[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(e9(e,"load",function(){e.xAxis&&e.xAxis[0]&&e9(e.xAxis[0],"setExtremes",function(t){ir(this.max)&&ir(this.min)&&this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let p=this,t=this.chart,s=this.dropdown,o=this.dropdownLabel,u=t.xAxis[0],g=Math.round(u.max-u.min),x=!u.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||u,m=e.dataMin,f=e.dataMax,i=p.getYTDExtremes(f,m),b=i.min,v=i.max,y=p.selected,M=p.options.allButtonsEnabled,k=Array(p.buttonOptions.length).fill(0),A=ir(y),r=p.buttons,w=!1,E=null;p.buttonOptions.forEach((t,e)=>{let i=t._range,s=t.type,o=t.count||1,r=t._offsetMax-t._offsetMin,n=e===y,a=i>f-m,h=i<u.minRange,l=!1,d=i===g;n&&a&&(w=!0),u.isOrdinal&&u.ordinal?.positions&&i&&g<i?(t=u.ordinal.positions,c=e3.Additions.findIndexOf(t,u.min,!0),t[Math.min(e3.Additions.findIndexOf(t,u.max,!0)+1,t.length-1)]-t[c]>i&&(d=!0)):("month"===s||"year"===s)&&g+36e5>=864e5*{month:28,year:365}[s]*o-r&&g-36e5<=864e5*{month:31,year:366}[s]*o+r?d=!0:"ytd"===s?(d=v-b+r===g,l=!n):"all"===s&&(d=u.max-u.min>=f-m);var t=!M&&!(w&&"all"===s)&&(a||h||x),c=w&&"all"===s||!l&&d||n&&p.frozenStates;t?k[e]=3:!c||A&&e!==y||(E=e)}),null!==E?(k[E]=2,p.setSelected(E),this.dropdown&&(this.dropdown.selectedIndex=E+1)):(p.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),o&&(o.setState(0),o.attr({text:(e5.lang.rangeSelectorZoom||"")+" ▾"})));for(let i=0;i<k.length;i++){let t=k[i],e=r[i];var n;e.state!==t&&(e.setState(t),s)&&(s.options[i+1].disabled=3===t,2===t&&(o&&(o.setState(2),o.attr({text:p.buttonOptions[i].text+" ▾"})),s.selectedIndex=i+1),n=o.getBBox(),e4(s,{width:n.width+"px",height:n.height+"px"}))}}computeButtonRange(t){var e=t.type,i=t.count||1,s={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};s[e]?t._range=s[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=id(t.offsetMin,0),t._offsetMax=id(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){let e="min"===t?this.minInput:this.maxInput,i=this.chart.options.rangeSelector,s=this.chart.time;return e?("text"===e.type&&i.inputDateParser||this.defaultInputDateParser)(e.value,"UTC"===s.timezone,s):0}setInputValue(i,s){let o=this.options,r=this.chart.time,n="min"===i?this.minInput:this.maxInput,a="min"===i?this.minDateBox:this.maxDateBox;if(n){n.setAttribute("type",ip(o.inputDateFormat||"%e %b %Y"));let t=n.getAttribute("data-hc-time"),e=e7(t)?Number(t):void 0;e7(s)&&(i=e,e7(i)&&n.setAttribute("data-hc-time-previous",i),n.setAttribute("data-hc-time",s),e=s),n.value=r.dateFormat(this.inputTypeFormats[n.type]||o.inputEditDateFormat,e),a&&a.attr({text:r.dateFormat(o.inputDateFormat,e)})}}setInputExtremes(i,s,o){let r="min"===i?this.minInput:this.maxInput;if(r){let t=this.inputTypeFormats[r.type],e=this.chart.time;t&&(i=e.dateFormat(t,s),r.min!==i&&(r.min=i),s=e.dateFormat(t,o),r.max!==s&&(r.max=s))}}showInput(t){var e,i,s,o,r,n,a="min"===t?this.minDateBox:this.maxDateBox,t="min"===t?this.minInput:this.maxInput;t&&a&&this.inputGroup&&(e="text"===t.type,{translateX:i=0,translateY:s=0}=this.inputGroup,{x:a=0,width:o=0,height:r=0}=a,n=this.options["inputBoxWidth"],e4(t,{width:e?o+(n?-2:20)+"px":"auto",height:r-2+"px",border:"2px solid silver"}),e&&n?e4(t,{left:i+a+"px",top:s+"px"}):e4(t,{left:Math.min(Math.round(a+i-(t.offsetWidth-o)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:s-(t.offsetHeight-r)/2+"px"}))}hideInput(t){t="min"===t?this.minInput:this.maxInput;t&&e4(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,i){return i?.parse(t)||0}drawInput(e){let{chart:l,div:t,inputGroup:i}=this,d=this,s=l.renderer.style||{},o=l.renderer,r=l.options.rangeSelector,n=e5.lang,c="min"===e;function a(t){let{maxInput:e,minInput:i}=d,s=l.xAxis[0],o=l.scroller?.getUnionExtremes()||s,r=o.dataMin,n=o.dataMax,a=l.xAxis[0].getExtremes()[t],h=d.getInputValue(t);ir(h)&&h!==a&&(c&&e&&ir(r)?h>Number(e.getAttribute("data-hc-time"))?h=void 0:h<r&&(h=r):i&&ir(n)&&(h<Number(i.getAttribute("data-hc-time"))?h=void 0:h>n&&(h=n)),void 0!==h&&s.setExtremes(c?h:s.min,c?s.max:h,void 0,void 0,{trigger:"rangeSelectorInput"}))}let h=n[c?"rangeSelectorFrom":"rangeSelectorTo"]||"",p=o.label(h,0).addClass("highcharts-range-label").attr({padding:2*!!h,height:h?r.inputBoxHeight:0}).add(i),u=o.label("",0).addClass("highcharts-range-input").attr({padding:2,width:r.inputBoxWidth,height:r.inputBoxHeight,"text-align":"center"}).on("click",function(){d.showInput(e),d[e+"Input"].focus()}),g=(l.styledMode||u.attr({stroke:r.inputBoxBorderColor,"stroke-width":1}),u.add(i),e8("input",{name:e,className:"highcharts-range-selector"},void 0,t)),m=(g.setAttribute("type",ip(r.inputDateFormat||"%e %b %Y")),l.styledMode||(p.css(il(s,r.labelStyle)),u.css(il({color:"#333333"},s,r.inputStyle)),e4(g,is({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:s.fontSize,fontFamily:s.fontFamily,top:"-9999em"},r.inputStyle))),g.onfocus=()=>{d.showInput(e)},!(g.onblur=()=>{g===x().doc.activeElement&&a(e),d.hideInput(e),d.setInputValue(e),g.blur()}));return g.onchange=()=>{m||(a(e),d.hideInput(e),g.blur())},g.onkeypress=t=>{13===t.keyCode&&a(e)},g.onkeydown=t=>{m=!0,"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Tab"!==t.key||a(e)},g.onkeyup=()=>{m=!1},{dateBox:u,input:g,label:p}}getPosition(){var t=this.chart,e=t.options.rangeSelector,t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:t+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e){let i=this.chart.time,s=i.toParts(t)[0];return{max:t,min:Math.max(e,i.makeTime(s,0))}}createElements(){let t=this.chart,e=t.renderer,i=t.container,s=t.options,o=s.rangeSelector,r=o.inputEnabled,n=id(s.chart.style?.zIndex,0)+1;!1!==o.enabled&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=e8("div",void 0,{position:"relative",height:0,zIndex:n}),this.buttonOptions.length&&this.renderButtons(),i.parentNode&&i.parentNode.insertBefore(this.div,i),r&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);var t=this.drawInput("min"),t=(this.minDateBox=t.dateBox,this.minLabel=t.label,this.minInput=t.input,this.drawInput("max"));this.maxDateBox=t.dateBox,this.maxLabel=t.label,this.maxInput=t.input}render(e,i){if(!1!==this.options.enabled){let t=this.chart,s=t.options.rangeSelector;if(s.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",e),this.setInputValue("max",i),this.chart.styledMode||(this.maxLabel?.css(s.labelStyle),this.minLabel?.css(s.labelStyle));e=t.scroller&&t.scroller.getUnionExtremes()||t.xAxis[0]||{};if(e7(e.dataMin)&&e7(e.dataMax)&&(i=t.xAxis[0].minRange||0,this.setInputExtremes("min",e.dataMin,Math.min(e.dataMax,this.getInputValue("max"))-i),this.setInputExtremes("max",Math.max(e.dataMin,this.getInputValue("min"))+i,e.dataMax)),this.inputGroup){let i=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(t=>{var e;t&&(e=t.getBBox()["width"],e&&(t.attr({x:i}),i+=e+s.inputSpacing))})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(s.labelStyle),this.alignElements(),this.updateButtonStates()}}renderButtons(){var t;let{chart:e,options:i}=this,s=e5.lang,o=e.renderer,r=il(i.buttonTheme),n=r&&r.states,a=(delete r.width,delete r.states,this.buttonGroup=o.g("range-selector-buttons").add(this.group),this.dropdown=e8("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div)),h=e.userOptions.rangeSelector?.buttonTheme,l=(this.dropdownLabel=o.button("",0,0,()=>{},il(r,{"stroke-width":id(r["stroke-width"],0),width:"auto",paddingLeft:id(i.buttonTheme.paddingLeft,h?.padding,8),paddingRight:id(i.buttonTheme.paddingRight,h?.padding,8)}),n&&n.hover,n&&n.select,n&&n.disabled).hide().add(this.group),e9(a,"touchstart",()=>{a.style.fontSize="16px"}),x().isMS?"mouseover":"mouseenter"),d=x().isMS?"mouseout":"mouseleave";e9(a,l,()=>{io(this.dropdownLabel.element,l)}),e9(a,d,()=>{io(this.dropdownLabel.element,d)}),e9(a,"change",()=>{io(this.buttons[a.selectedIndex-1].element,"click")}),this.zoomText=o.label(s.rangeSelectorZoom||"",0).attr({padding:i.buttonTheme.padding,height:i.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(i.labelStyle),(t=i.buttonTheme)["stroke-width"]??(t["stroke-width"]=0)),e8("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,a),this.createButtons()}createButtons(){let t=this["options"],e=il(t.buttonTheme),i=e&&e.states,s=e.width||28;delete e.width,delete e.states,this.buttonOptions.forEach((t,e)=>{this.createButton(t,e,s,i)})}createButton(s,o,t,e){let{dropdown:i,buttons:r,chart:n,options:a}=this,h=n.renderer,l=il(a.buttonTheme);i?.add(e8("option",{textContent:s.title||s.text}),o+2),r[o]=h.button(s.text??"",0,0,t=>{let e,i=s.events&&s.events.click;!1!==(e=i?i.call(s,t):e)&&this.clickButton(o),this.isActive=!0},l,e&&e.hover,e&&e.select,e&&e.disabled).attr({"text-align":"center",width:t}).add(this.buttonGroup),s.title&&r[o].attr("title",s.title)}alignElements(){let{buttonGroup:h,buttons:l,chart:d,group:c,inputGroup:p,options:u,zoomText:g}=this,t=d.options,s=t.exporting&&!1!==t.exporting.enabled&&t.navigation&&t.navigation.buttonOptions,{buttonPosition:x,inputPosition:m,verticalAlign:f}=u,b=(t,e,i)=>s&&this.titleCollision(d)&&"top"===f&&i&&e.y-t.getBBox().height-12<(s.y||0)+(s.height||0)+d.spacing[0]?-40:0,v=d.plotLeft;if(c&&x&&m){let t=x.x-d.spacing[3];if(h){if(this.positionButtons(),!this.initialButtonGroupWidth){let i=0;g&&(i+=g.getBBox().width+5),l.forEach((t,e)=>{i+=t.width||0,e!==l.length-1&&(i+=u.buttonSpacing)}),this.initialButtonGroupWidth=i}v-=d.spacing[3];var y=b(h,x,"right"===x.align||"right"===m.align);this.alignButtonGroup(y),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),c.placed=h.placed=d.hasLoaded}let e=0,i=(u.inputEnabled&&p&&(e=b(p,m,"right"===x.align||"right"===m.align),"left"===m.align?t=v:"right"===m.align&&(t=-Math.max(d.axisOffset[1],-e)),p.align({y:m.y,width:p.getBBox().width,align:m.align,x:m.x+t-2},!0,d.spacingBox),p.placed=d.hasLoaded),this.handleCollision(e),c.align({verticalAlign:f},!0,d.spacingBox),c.alignAttr.translateY),s=c.getBBox().height+20,o=0;"bottom"===f&&(y=d.legend&&d.legend.options,o=i-(s=s+(y&&"bottom"===y.verticalAlign&&y.enabled&&!y.floating?d.legend.legendHeight+id(y.margin,10):0)-20)-(u.floating?0:u.y)-(d.titleOffset?d.titleOffset[2]:0)-10),"top"===f?(u.floating&&(o=0),d.titleOffset&&d.titleOffset[0]&&(o=d.titleOffset[0]),o+=d.margin[0]-d.spacing[0]||0):"middle"===f&&(m.y===x.y?o=i:(m.y||x.y)&&(m.y<0||x.y<0?o-=Math.min(m.y,x.y):o=i-s)),c.translate(u.x,u.y+Math.floor(o));let{minInput:r,maxInput:n,dropdown:a}=this;u.inputEnabled&&r&&n&&(r.style.marginTop=c.translateY+"px",n.style.marginTop=c.translateY+"px"),a&&(a.style.marginTop=c.translateY+"px")}}redrawElements(){var a,t=this.chart,{inputBoxHeight:e,inputBoxBorderColor:i}=this.options;if(this.maxDateBox?.attr({height:e}),this.minDateBox?.attr({height:e}),t.styledMode||(this.maxDateBox?.attr({stroke:i}),this.minDateBox?.attr({stroke:i})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let i=this.options.buttons??[],e=Math.min(i.length,this.buttonOptions.length),{dropdown:s,options:t}=this,o=il(t.buttonTheme),r=o&&o.states,n=o.width||28;if(i.length<this.buttonOptions.length)for(let e=this.buttonOptions.length-1;e>=i.length;e--){let t=this.buttons.pop();t?.destroy(),this.dropdown?.options.remove(e+1)}for(let t=e-1;0<=t;t--)0!==Object.keys(ie(i[t],this.buttonOptions[t])).length&&(a=i[t],this.buttons[t].destroy(),s?.options.remove(t+1),this.createButton(a,t,n,r),this.computeButtonRange(a));if(i.length>this.buttonOptions.length)for(let t=this.buttonOptions.length;t<i.length;t++)this.createButton(i[t],t,n,r),this.computeButtonRange(i[t]);this.buttonOptions=this.options.buttons??[],e7(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(t,e){let{chart:i,options:s,buttonGroup:o,dropdown:r,dropdownLabel:n}=this,a=s["buttonPosition"],h=i.plotLeft-i.spacing[3],l=a.x-i.spacing[3],d=i.plotLeft;"right"===a.align?(l+=t-h,this.hasVisibleDropdown&&(d=i.chartWidth+t-this.maxButtonWidth()-20)):"center"===a.align&&(l-=h/2,this.hasVisibleDropdown&&(d=i.chartWidth/2-this.maxButtonWidth())),r&&e4(r,{left:d+"px",top:o?.translateY+"px"}),n?.attr({x:d}),o&&o.align({y:a.y,width:id(e,this.initialButtonGroupWidth),align:a.align,x:l},!0,i.spacingBox)}positionButtons(){let{buttons:i,chart:t,options:s,zoomText:e}=this,o=t.hasLoaded?"animate":"attr",r=s["buttonPosition"],n=t.plotLeft,a=n;e&&"hidden"!==e.visibility&&(e[o]({x:id(n+r.x,n)}),a+=r.x+e.getBBox().width+5);for(let t=0,e=this.buttonOptions.length;t<e;++t)"hidden"!==i[t].visibility?(i[t][o]({x:a}),a+=(i[t].width||0)+s.buttonSpacing):i[t][o]({x:n})}handleCollision(t){let{chart:e,buttonGroup:i,inputGroup:s,initialButtonGroupWidth:o}=this,{buttonPosition:r,dropdown:n,inputPosition:a}=this.options,h=()=>{s&&i&&s.attr({translateX:s.alignAttr.translateX+(e.axisOffset[1]>=-t?0:-t),translateY:s.alignAttr.translateY+i.getBBox().height+10})};s&&i?a.align===r.align?(h(),o>e.plotWidth+t-20?this.collapseButtons():this.expandButtons()):o-t+s.getBBox().width>e.plotWidth?"responsive"===n?this.collapseButtons():h():this.expandButtons():i&&"responsive"===n&&(o>e.plotWidth?this.collapseButtons():this.expandButtons()),i&&("always"===n&&this.collapseButtons(),"never"===n&&this.expandButtons()),this.alignButtonGroup(t)}collapseButtons(){let{buttons:t,zoomText:e}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,e.hide(),t.forEach(t=>{t.hide()}),this.showDropdown())}expandButtons(){let{buttons:t,zoomText:e}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),e.show(),t.forEach(t=>{t.show()}),this.positionButtons())}showDropdown(){let{buttonGroup:t,dropdownLabel:e,dropdown:i}=this;t&&i&&(e.show(),e4(i,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){var t=this["dropdown"];t&&(this.dropdownLabel.hide(),e4(t,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let t=this.options,e=this.group,i=t.inputPosition,s=t.buttonPosition,o=t.y,r=s.y,n=i.y,a=0;if(t.height)return t.height;this.alignElements(),a=e?e.getBBox(!0).height+13+o:0;var h=Math.min(n,r);return(n<0&&r<0||0<n&&0<r)&&(a+=Math.abs(h)),a}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t,e=!0){let i=this.chart;if(il(!0,this.options,t),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,i.options.rangeSelector.selected=void 0),e7(t.enabled))return this.destroy(),this.init(i);this.isDirty=!!t.buttons,e&&this.render()}destroy(){let i=this,t=i.minInput,e=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(t=>t()),i.eventsToUnbind=void 0),it(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),ih(i,function(t,e){t&&"chart"!==e&&(t instanceof eW()?t.destroy():t instanceof window.HTMLElement&&ii(t),delete i[e]),t!==iu.prototype[e]&&(i[e]=null)},this),this.buttons=[]}}is(iu.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),u.d({},{}),u.d({},{}),u.d({},{});let{prototype:{pointClass:ig}}=tb().seriesTypes["xrange"];class ix extends ig{static setGanttPointAliases(t,e){t.x=t.start=e.time.parse(t.start??t.x),t.x2=t.end=e.time.parse(t.end??t.x2),t.partialFill=t.completed=t.completed??t.partialFill}applyOptions(t,e){t=super.applyOptions(t,e);return ix.setGanttPointAliases(t,t.series.chart),this.isNull=!this.isValid?.(),t}isValid(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)}}let im=x()["isNumber"],ib=function(e,i){let s=[];for(let t=0;t<e.length;t++){var o,r,n,a,h,l,d=e[t][1],c=e[t][2];"number"==typeof d&&"number"==typeof c&&(0===t?s.push(["M",d,c]):t!==e.length-1&&i?(r=e[t-1],a=e[t+1],r&&a&&(o=r[1],r=r[2],n=a[1],a=a[2],"number"==typeof o&&"number"==typeof n&&"number"==typeof r&&"number"==typeof a&&o!==n&&r!==a&&(h=o<n?1:-1,l=r<a?1:-1,s.push(["L",d-h*Math.min(Math.abs(d-o),i),c-l*Math.min(Math.abs(c-r),i)],["C",d,c,d,c,d+h*Math.min(Math.abs(d-n),i),c+l*Math.min(Math.abs(c-a),i)])))):s.push(["L",d,c]))}return s},iy=x()["pick"],{min:iv,max:iM,abs:ik}=Math;function iA(t,e,i){let s=e-1e-7,o=i||0,r=t.length-1,n,a;for(;o<=r;)if(0<(a=s-t[n=r+o>>1].xMin))o=1+n;else{if(!(a<0))return n;r=n-1}return 0<o?o-1:0}function iw(t,e){let i=iA(t,e.x+1)+1;for(;i--;){var s;if(t[i].xMax>=e.x&&(s=t[i],e.x<=s.xMax&&e.x>=s.xMin&&e.y<=s.yMax&&e.y>=s.yMin))return i}return-1}function iO(e){let i=[];if(e.length){i.push(["M",e[0].start.x,e[0].start.y]);for(let t=0;t<e.length;++t)i.push(["L",e[t].end.x,e[t].end.y])}return i}function iE(t,e){t.yMin=iM(t.yMin,e.yMin),t.yMax=iv(t.yMax,e.yMax),t.xMin=iM(t.xMin,e.xMin),t.xMax=iv(t.xMax,e.xMax)}let iS=function(t,e,i){let s=[],o=i.chartObstacles,r=iw(o,t),n=iw(o,e),a,h=iy(i.startDirectionX,ik(e.x-t.x)>ik(e.y-t.y))?"x":"y",l,d,c,p;function u(t,e,i,s,o){let r={x:t.x,y:t.y};return r[e]=i[s||e]+(o||0),r}function g(t,e,i){var s=ik(e[i]-t[i+"Min"])>ik(e[i]-t[i+"Max"]);return u(e,i,t,i+(s?"Max":"Min"),s?1:-1)}p=-1<n?(a={start:d=g(o[n],e,h),end:e},d):e,-1<r&&(d=g(l=o[r],t,h),s.push({start:t,end:d}),d[h]>=t[h]==d[h]>=p[h]&&(c=t[h="y"===h?"x":"y"]<e[h],s.push({start:d,end:u(d,h,l,h+(c?"Max":"Min"),c?1:-1)}),h="y"===h?"x":"y"));e=s.length?s[s.length-1].end:t,d=u(e,h,p),s.push({start:e,end:d}),t=u(d,h="y"===h?"x":"y",p);return s.push({start:d,end:t}),s.push(a),{path:ib(iO(s),i.radius),obstacles:s}};function iP(t,e,g){let i=iy(g.startDirectionX,ik(e.x-t.x)>ik(e.y-t.y)),s=i?"x":"y",o=[],r=g.obstacleMetrics,x=iv(t.x,e.x)-r.maxWidth-10,m=iM(t.x,e.x)+r.maxWidth+10,f=iv(t.y,e.y)-r.maxHeight-10,b=iM(t.y,e.y)+r.maxHeight+10,n,a,h,v=!1,y=g.chartObstacles,l=iA(y,m),d=iA(y,x);function M(t,e,i){let s,o,r,n,a=t.x<e.x?1:-1,h=(o=t.x<e.x?(s=t,e):(s=e,t),r=t.y<e.y?(n=t,e):(n=e,t),a<0?iv(iA(y,o.x),y.length-1):0);for(;y[h]&&(0<a&&y[h].xMin<=o.x||a<0&&y[h].xMax>=s.x);){if(y[h].xMin<=o.x&&y[h].xMax>=s.x&&y[h].yMin<=r.y&&y[h].yMax>=n.y)return i?{y:t.y,x:t.x<e.x?y[h].xMin-1:y[h].xMax+1,obstacle:y[h]}:{x:t.x,y:t.y<e.y?y[h].yMin-1:y[h].yMax+1,obstacle:y[h]};h+=a}return e}function k(t,e,i,s,o){let r=o.soft,n=o.hard,a=s?"x":"y",h={x:e.x,y:e.y},l={x:e.x,y:e.y},d=t[a+"Max"]>=r[a+"Max"],c=t[a+"Min"]<=r[a+"Min"],p=t[a+"Max"]>=n[a+"Max"],u=t[a+"Min"]<=n[a+"Min"],g=ik(t[a+"Min"]-e[a]),x=ik(t[a+"Max"]-e[a]),m=ik(g-x)<10?e[a]<i[a]:x<g;l[a]=t[a+"Min"],h[a]=t[a+"Max"];o=M(e,l,s)[a]!==l[a],i=M(e,h,s)[a]!==h[a];return m=o?!i||m:!i&&m,m=c?!d||m:!d&&m,m=u?!p||m:!p&&m}for(-1<(l=iw(y=y.slice(d,l+1),e))&&(h=(c=y[l],p=e,u=t,A=iv(c.xMax-p.x,p.x-c.xMin)<iv(c.yMax-p.y,p.y-c.yMin),u=k(c,p,u,A,{soft:g.hardBounds,hard:g.hardBounds}),A?{y:p.y,x:c[u?"xMax":"xMin"]+(u?1:-1)}:{x:p.x,y:c[u?"yMax":"yMin"]+(u?1:-1)}),o.push({end:e,start:h}),e=h);-1<(l=iw(y,e));)a=e[s]-t[s]<0,(h={x:e.x,y:e.y})[s]=y[l][a?s+"Max":s+"Min"]+(a?1:-1),o.push({end:e,start:h}),e=h;var c,p,u,A;return{path:iO(n=(n=function t(e,i,s){let o,r,n,a,h,l,d;if(e.x===i.x&&e.y===i.y)return[];var c=s?"x":"y",p=g.obstacleOptions.margin,u={soft:{xMin:x,xMax:m,yMin:f,yMax:b},hard:g.hardBounds};return-1<(h=iw(y,e))?(a=k(h=y[h],e,i,s,u),iE(h,g.hardBounds),d=s?{y:e.y,x:h[a?"xMax":"xMin"]+(a?1:-1)}:{x:e.x,y:h[a?"yMax":"yMin"]+(a?1:-1)},-1<(l=iw(y,d))&&(iE(l=y[l],g.hardBounds),d[c]=a?iM(h[c+"Max"]-p+1,(l[c+"Min"]+h[c+"Max"])/2):iv(h[c+"Min"]+p-1,(l[c+"Max"]+h[c+"Min"])/2),v=e.x===d.x&&e.y===d.y&&(v&&(d[c]=a?iM(h[c+"Max"],l[c+"Max"])+1:iv(h[c+"Min"],l[c+"Min"])-1),!v)),r=[{start:e,end:d}]):(o=M(e,{x:(s?i:e).x,y:(s?e:i).y},s),r=[{start:e,end:{x:o.x,y:o.y}}],o[s?"x":"y"]!==i[s?"x":"y"]&&(a=k(o.obstacle,o,i,!s,u),iE(o.obstacle,g.hardBounds),n={x:s?o.x:o.obstacle[a?"xMax":"xMin"]+(a?1:-1),y:s?o.obstacle[a?"yMax":"yMin"]+(a?1:-1):o.y},s=!s,r=r.concat(t({x:o.x,y:o.y},n,s)))),r=r.concat(t(r[r.length-1].end,i,!s))}(t,e,i)).concat(o.reverse())),obstacles:n}}iS.requiresObstacles=!0;let iB={connectors:{type:"straight",radius:0,lineWidth:1,marker:{enabled:!(iP.requiresObstacles=!0),align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}},iT=x()["setOptions"],{defined:iC,error:iI,merge:iD}=x();function iR(t){var e=t.shapeArgs;if(e)return{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)};e=t.graphic&&t.graphic.getBBox();return e?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}!function(){function o(t){let e,i,s=iR(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":i="yMin";break;case"bottom":i="yMax"}return{x:e?s[e]:(s.xMin+s.xMax)/2,y:i?s[i]:(s.yMin+s.yMax)/2}}function r(t,e){let i;return!iC(e)&&(i=iR(this))&&(e={x:(i.xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)}function n(t,e,i){let s=2*Math.PI,o=iR(this),r=o.xMax-o.xMin,n=o.yMax-o.yMin,a=Math.atan2(n,r),h=r/2,l=n/2,d=o.xMin+h,c=o.yMin+l,p={x:d,y:c},u=t,g,x=!1,m=1,f=1;for(;u<-Math.PI;)u+=s;for(;u>Math.PI;)u-=s;return g=Math.tan(u),u>-a&&u<=a?(f=-1,x=!0):u>a&&u<=Math.PI-a?f=-1:u>Math.PI-a||u<=-(Math.PI-a)?(m=-1,x=!0):m=-1,x?(p.x+=m*h,p.y+=f*h*g):(p.x+=n/(2*g)*m,p.y+=f*l),i.x!==d&&(p.x=i.x),i.y!==c&&(p.y=i.y),{x:p.x+e*Math.cos(u),y:p.y-e*Math.sin(u)}}(d||(d={})).compose=function(t,e,i){let s=i.prototype;s.getPathfinderAnchorPoint||(t.prototype.callbacks.push(function(t){!1!==t.options.connectors.enabled&&((t.options.pathfinder||t.series.reduce(function(t,e){return e.options&&iD(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder},!1))&&(iD(!0,t.options.connectors=t.options.connectors||{},t.options.pathfinder),iI('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new e(this),this.pathfinder.update(!0))}),s.getMarkerVector=n,s.getPathfinderAnchorPoint=o,s.getRadiansToVector=r,iT(iB))}}();let iL=d,iG=s.default.Point;var iz=u.n(iG);let{addEvent:iN,defined:iW,pick:iF,splat:iH}=x(),iU=Math.max,iY=Math.min;class iX{static compose(t,e){iL.compose(t,iX,e)}constructor(t){this.init(t)}init(t){this.chart=t,this.connections=[],iN(t,"redraw",function(){this.pathfinder.update()})}update(t){let o=this.chart,r=this,n=r.connections;r.connections=[],o.series.forEach(function(t){t.visible&&!t.options.isInternal&&t.points.forEach(function(i){let s,t=i.options,e=(t&&t.dependency&&(t.connect=t.dependency),i.options?.connect?iH(i.options.connect):[]);i.visible&&!1!==i.isInside&&e.forEach(t=>{var e="string"==typeof t?t:t.to;(s=e?o.get(e):s)instanceof iz()&&s.series.visible&&s.visible&&!1!==s.isInside&&r.connections.push(new S(i,s,"string"==typeof t?{}:t))})})});for(let t=0,i,s,e=n.length,o=r.connections.length;t<e;++t){s=!1;let e=n[t];for(i=0;i<o;++i){let t=r.connections[i];if((e.options&&e.options.type)===(t.options&&t.options.type)&&e.fromPoint===t.fromPoint&&e.toPoint===t.toPoint){t.graphics=e.graphics,s=!0;break}}s||e.destroy()}delete this.chartObstacles,delete this.lineObstacles,r.renderConnections(t)}renderConnections(t){t?this.chart.series.forEach(function(e){function t(){let t=e.chart.pathfinder;(t&&t.connections||[]).forEach(function(t){t.fromPoint&&t.fromPoint.series===e&&t.render()}),e.pathfinderRemoveRenderEvent&&(e.pathfinderRemoveRenderEvent(),delete e.pathfinderRemoveRenderEvent)}!1===e.options.animation?t():e.pathfinderRemoveRenderEvent=iN(e,"afterAnimate",t)}):this.connections.forEach(function(t){t.render()})}getChartObstacles(t){let r=this.chart.series,n=iF(t.algorithmMargin,0),a=[],e;for(let o=0,t=r.length;o<t;++o)if(r[o].visible&&!r[o].options.isInternal)for(let t=0,e=r[o].points.length,i,s;t<e;++t)(s=r[o].points[t]).visible&&(i=function(t){var e=t.shapeArgs;if(e)return{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)};e=t.graphic&&t.graphic.getBBox();return e?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}(s))&&a.push({xMin:i.xMin-n,xMax:i.xMax+n,yMin:i.yMin-n,yMax:i.yMax+n});return a=a.sort(function(t,e){return t.xMin-e.xMin}),iW(t.algorithmMargin)||(e=t.algorithmMargin=function(i){let s,o=i.length,r=[];for(let e=0;e<o;++e)for(let t=e+1;t<o;++t)(s=function t(e,i,s){var s=iF(s,10),o=e.yMax+s>i.yMin-s&&e.yMin-s<i.yMax+s,r=e.xMax+s>i.xMin-s&&e.xMin-s<i.xMax+s,n=o?e.xMin>i.xMax?e.xMin-i.xMax:i.xMin-e.xMax:1/0,a=r?e.yMin>i.yMax?e.yMin-i.yMax:i.yMin-e.yMax:1/0;return r&&o?s?t(e,i,Math.floor(s/2)):1/0:iY(n,a)}(i[e],i[t]))<80&&r.push(s);return r.push(80),iU(Math.floor(r.sort(function(t,e){return t-e})[Math.floor(r.length/10)]/2-1),1)}(a),a.forEach(function(t){t.xMin-=e,t.xMax+=e,t.yMin-=e,t.yMax+=e})),a}getObstacleMetrics(t){let e=0,i=0,s,o,r=t.length;for(;r--;)s=t[r].xMax-t[r].xMin,o=t[r].yMax-t[r].yMin,e<s&&(e=s),i<o&&(i=o);return{maxHeight:i,maxWidth:e}}getAlgorithmStartDirection(t){var e="left"!==t.align&&"right"!==t.align,t="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return e?!!t&&void 0:!!t||void 0}}iX.prototype.algorithms={fastAvoid:iP,straight:function(t,e){return{path:[["M",t.x,t.y],["L",e.x,e.y]],obstacles:[{start:t,end:e}]}},simpleConnect:iS};let{addEvent:iV,defined:i_,isNumber:ij,pick:iq}=x();function iZ(){var t=this.chart.options.chart;!this.horiz&&ij(this.options.staticScale)&&(!t.height||t.scrollablePlotArea&&t.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}function i$(){if("adjustHeight"!==this.redrawTrigger){for(var s of this.axes||[]){let i=s.chart,t=!!i.initiatedScale&&i.options.animation,e=s.options.staticScale;var o,r;s.staticScale&&i_(s.min)&&(o=iq(s.brokenAxis&&s.brokenAxis.unitLength,s.max+s.tickInterval-s.min)*e,r=(o=Math.max(o,e))-i.plotHeight,!i.scrollablePixelsY&&1<=Math.abs(r)&&(i.plotHeight=o,i.redrawTrigger="adjustHeight",i.setSize(void 0,i.chartHeight+r,t)),s.series.forEach(function(t){let e=t.sharedClipKey&&i.sharedClips[t.sharedClipKey];e&&e.attr(i.inverted?{width:i.plotHeight}:{height:i.plotHeight})}))}this.initiatedScale=!0}this.redrawTrigger=null}let iK={compose:function(t,e){let i=e.prototype;i.adjustHeight||(iV(t,"afterSetOptions",iZ),i.adjustHeight=i$,iV(e,"render",i.adjustHeight))}},iJ=s.default.StackItem;var iQ=u.n(iJ);let{addEvent:i0,find:i1,fireEvent:i2,isArray:i3,isNumber:i5,pick:i6}=x(),i9=(!function(t){function s(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function o(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function r(){let s=this.brokenAxis;if(s?.hasBreaks){let e=this.tickPositions,t=this.tickPositions.info,i=[];for(let t=0;t<e.length;t++)s.isInAnyBreak(e[t])||i.push(e[t]);this.tickPositions=i,this.tickPositions.info=t}}function n(){this.brokenAxis||(this.brokenAxis=new u(this))}function a(){let{isDirty:t,options:{connectNulls:s},points:o,xAxis:r,yAxis:n}=this;if(t){let i=o.length;for(;i--;){let t=o[i],e=(null!==t.y||!1!==s)&&(r?.brokenAxis?.isInAnyBreak(t.x,!0)||n?.brokenAxis?.isInAnyBreak(t.y,!0));t.visible=!e&&!1!==t.options.visible}}}function h(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,i6(this.pointArrayMap,["y"]))}function l(s,t){let o,r,n,a=this,h=a.points;if(s?.brokenAxis?.hasBreaks){let i=s.brokenAxis;t.forEach(function(t){o=i?.breakArray||[],r=s.isXAxis?s.min:i6(a.options.threshold,s.min);let e=s?.options?.breaks?.filter(function(e){let i=!0;for(let t=0;t<o.length;t++){var s=o[t];if(s.from===e.from&&s.to===e.to){i=!1;break}}return i});h.forEach(function(i){n=i6(i["stack"+t.toUpperCase()],i[t]),o.forEach(function(e){if(i5(r)&&i5(n)){let t="";r<e.from&&n>e.to||r>e.from&&n<e.from?t="pointBreak":(r<e.from&&n>e.from&&n<e.to||r>e.from&&n>e.to&&n<e.from)&&(t="pointInBreak"),t&&i2(s,t,{point:i,brk:e})}}),e?.forEach(function(t){i2(s,"pointOutsideOfBreak",{point:i,brk:t})})})})}}function d(){let t=this.currentDataGrouping,i=t?.gapSize,s=this.points.slice(),o=this.yAxis,r=this.options.gapSize,n=s.length-1;if(r&&0<n){let t,e;for("value"!==this.options.gapUnit&&(r*=this.basePointRange),i&&i>r&&i>=this.basePointRange&&(r=i);n--;){var a;e&&!1!==e.visible||(e=s[n+1]),t=s[n],!1!==e.visible&&!1!==t.visible&&(e.x-t.x>r&&(a=(t.x+e.x)/2,s.splice(n+1,0,{isNull:!0,x:a}),o.stacking&&this.options.stacking&&((o.stacking.stacks[this.stackKey][a]=new(iQ())(o,o.options.stackLabels,!1,a,this.stack)).total=0)),e=t)}}return this.getGraphPath(s)}t.compose=function(e,i){if(!e.keepProps.includes("brokenAxis")){e.keepProps.push("brokenAxis"),i0(e,"init",n),i0(e,"afterInit",s),i0(e,"afterSetTickPositions",r),i0(e,"afterSetOptions",o);let t=i.prototype;t.drawBreaks=l,t.gappedPath=d,i0(i,"afterGeneratePoints",a),i0(i,"afterRender",h)}return e};class u{static isInBreak(t,e){var i=t.repeat||1/0,s=t.from,o=t.to-t.from,s=s<=e?(e-s)%i:i-(s-e)%i;return t.inclusive?s<=o:s<o&&0!=s}static lin2Val(t){var e=this.brokenAxis?.breakArray;if(!e||!i5(t))return t;let i=t,s,o;for(o=0;o<e.length&&!((s=e[o]).from>=i);o++)(s.to<i||u.isInBreak(s,i))&&(i+=s.len);return i}static val2Lin(t){var e=this.brokenAxis?.breakArray;if(!e||!i5(t))return t;let i=t,s,o;for(o=0;o<e.length;o++)if((s=e[o]).to<=t)i-=s.len;else{if(s.from>=t)break;if(u.isInBreak(s,t)){i-=t-s.from;break}}return i}constructor(t){this.hasBreaks=!1,this.axis=t}findBreakAt(e,t){return i1(t,function(t){return t.from<e&&e<t.to})}isInAnyBreak(t,e){let i=this.axis,s=i.options.breaks||[],o=s.length,r,n,a;if(o&&i5(t)){for(;o--;)u.isInBreak(s[o],t)&&(r=!0,n=n||i6(s[o].showPoints,!i.isXAxis));a=r&&e?r&&!n:r}return a}setBreaks(t,e){let c=this,p=c.axis,i=p.chart.time,s=i3(t)&&!!t.length&&!!Object.keys(t[0]).length;p.isDirty=c.hasBreaks!==s,c.hasBreaks=s,t?.forEach(t=>{t.from=i.parse(t.from)||0,t.to=i.parse(t.to)||0}),t!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=t),p.forceRedraw=!0,p.series.forEach(function(t){t.isDirty=!0}),s||p.val2lin!==u.val2Lin||(delete p.val2lin,delete p.lin2val),s&&(p.userOptions.ordinal=!1,p.lin2val=u.lin2Val,p.val2lin=u.val2Lin,p.setExtremes=function(i,s,t,e,o){if(c.hasBreaks){let t,e=this.options.breaks||[];for(;t=c.findBreakAt(i,e);)i=t.to;for(;t=c.findBreakAt(s,e);)s=t.from;s<i&&(s=i)}p.constructor.prototype.setExtremes.call(this,i,s,t,e,o)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks){let t=p.options.breaks||[],e=[],i=[],s=i6(p.pointRangePadding,0),o=0,r,n,a=p.userMin||p.min,h=p.userMax||p.max,l,d;t.forEach(function(t){n=t.repeat||1/0,i5(a)&&i5(h)&&(u.isInBreak(t,a)&&(a+=t.to%n-a%n),u.isInBreak(t,h)&&(h-=h%n-t.from%n))}),t.forEach(function(t){if(l=t.from,n=t.repeat||1/0,i5(a)&&i5(h)){for(;l-n>a;)l-=n;for(;l<a;)l+=n;for(d=l;d<h;d+=n)e.push({value:d,move:"in"}),e.push({value:d+t.to-t.from,move:"out",size:t.breakSize})}}),e.sort(function(t,e){return t.value===e.value?("in"!==t.move)-("in"!==e.move):t.value-e.value}),r=0,l=a,e.forEach(function(t){1===(r+="in"===t.move?1:-1)&&"in"===t.move&&(l=t.value),0===r&&i5(l)&&(i.push({from:l,to:t.value,len:t.value-l-(t.size||0)}),o+=t.value-l-(t.size||0))}),c.breakArray=i,i5(a)&&i5(h)&&i5(p.min)&&(c.unitLength=h-a-o+s,i2(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:c.unitLength&&(p.transA*=(h-p.min+s)/c.unitLength),s&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=a,p.max=h)}}),i6(e,!0)&&p.chart.redraw()}}t.Additions=u}(c=c||{}),c),i8=x()["dateFormats"],{addEvent:i4,defined:i7,erase:st,find:se,isArray:si,isNumber:ss,merge:so,pick:sn,timeUnits:sr,wrap:sa}=x();function sl(t){return x().isObject(t,!0)}function sh(r,t){let n={width:0,height:0};return t.forEach(function(t){let e=r[t],i,s=0,o;sl(e)&&(i=(o=sl(e.label)?e.label:{}).getBBox?o.getBBox().height:0,o.textStr&&!ss(o.textPxLength)&&(o.textPxLength=o.getBBox().width),s=ss(o.textPxLength)?Math.round(o.textPxLength):0,o.textStr&&(s=Math.round(o.getBBox().width)),n.height=Math.max(i,n.height),n.width=Math.max(s,n.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,n.width+=this.options.labels.indentation*(t-1)),n}function sd(t){var e=this["grid"],i=3===this.side;if(i||t.apply(this),!e?.isColumn){let t=e?.columns||[];(t=i?t.slice().reverse():t).forEach(t=>{t.getOffset()})}i&&t.apply(this)}function sc(f){if(!0===(this.options.grid||{}).enabled){let{axisTitle:t,height:e,horiz:i,left:s,offset:o,opposite:r,options:n,top:a,width:h}=this,l=this.tickSize(),d=t?.getBBox().width,c=n.title.x,u=n.title.y,g=sn(n.title.margin,i?5:10),x=t?this.chart.renderer.fontMetrics(t).f:0,m=(i?a+e:s)+(i?1:-1)*(r?-1:1)*(l?l[0]/2:0)+(this.side===p.bottom?x:0);f.titlePosition.x=i?s-(d||0)/2-g+c:m+(r?h:0)+o+c,f.titlePosition.y=i?m-(r?e:0)+(r?x:-x)/2+o+u:a-g+u}}function sp(){var{chart:o,options:{grid:r={}},userOptions:n}=this;if(r.enabled){var e=this;let t=e.options;t.labels.align=sn(t.labels.align,"center"),e.categories||(t.showLastLabel=!1),e.labelRotation=0,t.labels.rotation=0,t.minTickInterval=1}if(r.columns){let i=this.grid.columns=[],s=this.grid.columnIndex=0;for(;++s<r.columns.length;){let t=so(n,r.columns[s],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),e=new(_())(this.chart,t,"yAxis");e.grid.isColumn=!0,e.grid.columnIndex=s,st(o.axes,e),st(o[this.coll]||[],e),i.push(e)}}}function su(){let{axisTitle:t,grid:e,options:o}=this;if(!0===(o.grid||{}).enabled){var n=this.min||0,a=this.max||0,r=this.ticks[this.tickPositions[0]];if(t&&!this.chart.styledMode&&r?.slotWidth&&!this.options.title.style.width&&t.css({width:r.slotWidth+"px"}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid?.isOuterAxis()&&this.axisLine){var h,r=o.lineWidth;if(r){let t=this.getLinePath(r),e=t[0],i=t[1],s=(this.tickSize("tick")||[1])[0]*(this.side===p.top||this.side===p.left?-1:1);"M"===e[0]&&"L"===i[0]&&(this.horiz?(e[2]+=s,i[2]+=s):(e[1]+=s,i[1]+=s)),!this.horiz&&this.chart.marginRight&&(r=["L",this.left,e[2]||0],r=[e,r],h=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],h=[["M",i[1]||0,this.toPixels(a+this.tickmarkOffset)],h],this.grid.upperBorder||n%1==0||(this.grid.upperBorder=this.grid.renderBorder(r)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:o.lineColor,"stroke-width":o.lineWidth}),this.grid.upperBorder.animate({d:r})),this.grid.lowerBorder||a%1==0||(this.grid.lowerBorder=this.grid.renderBorder(h)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:o.lineColor,"stroke-width":o.lineWidth}),this.grid.lowerBorder.animate({d:h}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:o.lineColor,"stroke-width":o.lineWidth}),this.grid.axisLineExtra.animate({d:t})):this.grid.axisLineExtra=this.grid.renderBorder(t),this.axisLine[this.showAxis?"show":"hide"]()}}if((e?.columns||[]).forEach(t=>t.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent?.scrollbar)&&this.tickPositions.length){let t,e,i=this.tickmarkOffset,s=this.tickPositions[this.tickPositions.length-1],o=this.tickPositions[0];for(;(t=this.hiddenLabels.pop())&&t.element;)t.show();for(;(e=this.hiddenMarks.pop())&&e.element;)e.show();(t=this.ticks[o].label)&&(i<n-o?this.hiddenLabels.push(t.hide()):t.show()),(t=this.ticks[s].label)&&(i<s-a?this.hiddenLabels.push(t.hide()):t.show());let r=this.ticks[s].mark;r&&s-a<i&&0<s-a&&this.ticks[s].isLast&&this.hiddenMarks.push(r.hide())}}}function sg(){let t=this.tickPositions?.info,e=this.options,i=e.grid||{},s=this.userOptions.labels||{};i.enabled&&(this.horiz?(this.series.forEach(t=>{t.options.pointRange=0}),t&&e.dateTimeLabelFormats&&e.labels&&!i7(s.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(e.labels.align="left",i7(s.x)||(e.labels.x=3))):"treegrid"!==this.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function sx(t){let l,e=this.options,i=t.userOptions,s=e&&sl(e.grid)?e.grid:{};!0===s.enabled&&(l=so(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(i7(i.linkedTo)&&!i7(i.tickPixelInterval)&&(l.tickPixelInterval=350),i7(i.tickPixelInterval)||!i7(i.linkedTo)||i7(i.tickPositioner)||i7(i.tickInterval)||i7(i.units)||(l.tickPositioner=function(o,r){var n=this.linkedParent?.tickPositions?.info;if(n){let e=l.units||[],i,t=1,s="year";for(let t=0;t<e.length;t++){var a=e[t];if(a&&a[0]===n.unitName){i=t;break}}var h=ss(i)&&e[i+1],h=(h?(s=h[0]||"year",h=h[1],t=h?.[0]||1):"year"===n.unitName&&(t=10*n.count),sr[s]);return this.tickInterval=h*t,this.chart.time.getTimeTicks({unitRange:h,count:t,unitName:s},o,r,this.options.startOfWeek)}})),so(!0,this.options,l),this.horiz&&(e.minPadding=sn(i.minPadding,0),e.maxPadding=sn(i.maxPadding,0)),ss(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=s.borderWidth))}function sf(t){var t=t.userOptions?.grid||{},e=t.columns;t.enabled&&e&&so(!0,this.options,e[0])}function sm(){(this.grid.columns||[]).forEach(t=>t.setScale())}function sb(t){var e,{horiz:i,maxLabelDimensions:s,options:{grid:o={}}}=this;o.enabled&&s&&(e=2*this.options.labels.distance,i=i?o.cellHeight||e+s.height:e+s.width,si(t.tickSize)?t.tickSize[0]=i:t.tickSize=[i,0])}function sy(){this.axes.forEach(t=>{(t.grid?.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function sv(e){let t=this["grid"];(t.columns||[]).forEach(t=>t.destroy(e.keepEvents)),t.columns=void 0}function sM(t){let e=t.userOptions||{},i=e.grid||{};i.enabled&&i7(i.borderColor)&&(e.tickColor=e.lineColor=i.borderColor),this.grid||(this.grid=new sE(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function sk(o){let r=this.label,n=this.axis,a=n.reversed,h=n.chart,t=n.options.grid||{},l=n.options.labels,d=l.align,c=p[n.side],e=o.tickmarkOffset,i=n.tickPositions,u=this.pos-e,g=ss(i[o.index+1])?i[o.index+1]-e:(n.max||0)+e,s=n.tickSize("tick"),x=s?s[0]:0,m=s?s[1]/2:0;if(!0===t.enabled){let t,e,i,s;var f,b;"top"===c?e=(t=n.top+n.offset)-x:"bottom"===c?t=(e=h.chartHeight-n.bottom+n.offset)+x:(t=n.top+n.len-(n.translate(a?g:u)||0),e=n.top+n.len-(n.translate(a?u:g)||0)),"right"===c?s=(i=h.chartWidth-n.right+n.offset)+x:"left"===c?i=(s=n.left+n.offset)-x:(i=Math.round(n.left+(n.translate(a?g:u)||0))-m,s=Math.min(Math.round(n.left+(n.translate(a?u:g)||0))-m,n.left+n.len)),this.slotWidth=s-i,o.pos.x="left"===d?i:"right"===d?s:i+(s-i)/2,o.pos.y=e+(t-e)/2,r&&(f=h.renderer.fontMetrics(r),b=r.getBBox().height,l.useHTML?o.pos.y+=f.b+-b/2:(b=Math.round(b/f.h),o.pos.y+=(f.b-(f.h-f.f))/2+-((b-1)*f.h)/2)),o.pos.x+=n.horiz&&l.x||0}}function sA(n){let{axis:a,value:h}=n;if(a.options.grid?.enabled){let t,e=a.tickPositions,i=(a.linkedParent||a).series[0],s=h===e[0],o=h===e[e.length-1],r=i&&se(i.options.data,function(t){return t[a.isXAxis?"x":"y"]===h});r&&i.is("gantt")&&(t=so(r),x().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(t,a.chart)),n.isFirst=s,n.isLast=o,n.point=t}}function sw(){let t=this.options,e=t.grid||{},i=this.categories,s=this.tickPositions,o=s[0],r=s[1],n=s[s.length-1],a=s[s.length-2],h=this.linkedParent?.min,l=this.linkedParent?.max,d=h||this.min,c=l||this.max,p=this.tickInterval,u=ss(d)&&o+p<=d&&d<r,g=ss(d)&&o<d&&d<o+p,x=ss(c)&&c<n&&n-p<c,m=ss(c)&&c<=n-p&&a<c;!0!==e.enabled||i||!this.isXAxis&&!this.isLinked||(!g&&!u||t.startOnTick||(s[0]=d),!x&&!m||t.endOnTick||(s[s.length-1]=c))}function sO(t){var{options:{grid:e={}}}=this;return!0===e.enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}(r=p=p||{})[r.top=0]="top",r[r.right=1]="right",r[r.bottom=2]="bottom",r[r.left=3]="left";class sE{constructor(t){this.axis=t}isOuterAxis(){let i=this.axis,t=i.chart,e=i.grid.columnIndex,s=i.linkedParent?.grid.columns||i.grid.columns||[],o=e?i.linkedParent:i,r=-1,n=0;return 3===i.side&&!t.inverted&&s.length?!i.linkedParent:((t[i.coll]||[]).forEach((t,e)=>{t.side!==i.side||t.options.isInternal||(n=e,t===o&&(r=e))}),n===r&&(!ss(e)||s.length===e))}renderBorder(t){let e=this.axis,i=e.chart.renderer,s=e.options,o=i.path(t).addClass("highcharts-axis-line").add(e.axisGroup);return i.styledMode||o.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),o}}i8.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},i8.W=function(t){let e=this.toParts(t),i=(e[7]+6)%7,s=e.slice(0);s[2]=e[2]-i+3;t=this.toParts(this.makeTime(s[0],0,1));return 4!==t[7]&&(e[1]=0,e[2]=1+(11-t[7])%7),(1+Math.floor((this.makeTime(s[0],s[1],s[2])-this.makeTime(t[0],t[1],t[2]))/6048e5)).toString()};let{extend:sS,isNumber:sP,pick:sB}=x();function sT(s,t,o,e,r,n){let i=n&&n.after,a=n&&n.before,h={data:e,depth:o-1,id:s,level:o,parent:t||""},l=0,d=0,c,p;"function"==typeof a&&a(h,n);t=(r[s]||[]).map(t=>{var e=sT(t.id,s,o+1,t,r,n),i=t.start||NaN,t=!0===t.milestone?i:t.end||NaN;return c=!sP(c)||i<c?i:c,p=!sP(p)||t>p?t:p,l=l+1+e.descendants,d=Math.max(e.height+1,d),e});return e&&(e.start=sB(e.start,c),e.end=sB(e.end,p)),sS(h,{children:t,descendants:l,height:d}),"function"==typeof i&&i(h,n),h}let sC={getNode:sT,getTree:function(t,e){return sT("",null,1,null,function(){let o=[],i=t.reduce((t,e)=>{var{parent:i="",id:s}=e;return void 0===t[i]&&(t[i]=[]),t[i].push(e),s&&o.push(s),t},{});return Object.keys(i).forEach(t=>{var e;""!==t&&-1===o.indexOf(t)&&(e=i[t].map(function(t){let{...e}=t;return e}),i[""].push(...e),delete i[t])}),i}(),e)}},{addEvent:sI,removeEvent:sD,isObject:sR,isNumber:sL,pick:sG,wrap:sz}=x();function sN(){this.treeGrid||(this.treeGrid=new sH(this))}function sW(t,e,i,s,o,r,n,a,h){let l,d=sG(this.options?.labels,r),c=this.pos,p=this.axis,u="treegrid"===p.type,g=t.apply(this,[e,i,s,o,d,n,a,h]);return u&&({width:r=0,padding:t=5*!p.linkedParent}=d&&sR(d.symbol,!0)?d.symbol:{},e=d&&sL(d.indentation)?d.indentation:0,l=(p.treeGrid.mapOfPosToGridNode?.[c])?.depth||1,g.x+=r+2*t+(l-1)*e),g}function sF(t){let p,{pos:e,axis:i,label:u,treeGrid:s,options:o}=this,r=s?.labelIcon,n=u?.element,{treeGrid:a,options:h,chart:l,tickPositions:d}=i,c=a.mapOfPosToGridNode,g=sG(o?.labels,h?.labels),x=g&&sR(g.symbol,!0)?g.symbol:{},m=c?.[e],{descendants:f,depth:b}=m||{},v=m&&f&&0<f,y="treegrid"===i.type&&n,M=-1<d.indexOf(e),k="highcharts-treegrid-node-",A=k+"level-",w=l.styledMode;if(y&&m&&u.removeClass(RegExp(A+".*")).addClass(A+b),t.apply(this,Array.prototype.slice.call(arguments,1)),y&&v){p=a.isCollapsed(m);{var E=this,O={color:!w&&u.styles.color||"",collapsed:p,group:u.parentGroup,options:x,renderer:u.renderer,show:M,xy:u.xy};let t=E.treeGrid,e=!t.labelIcon,i=O.renderer,s=O.xy,o=O.options,r=o.width||0,n=o.height||0,a=o.padding??E.axis.linkedParent?0:5,h={x:s.x-r/2-a,y:s.y-n/2},l=O.collapsed?90:180,d=O.show&&sL(h.y),c=t.labelIcon;c||(t.labelIcon=c=i.path(i.symbols[o.type](o.x||0,o.y||0,r,n)).addClass("highcharts-label-icon").add(O.group)),c[d?"show":"hide"](),i.styledMode||c.attr({cursor:"pointer",fill:sG(O.color,"#666666"),"stroke-width":1,stroke:o.lineColor,strokeWidth:o.lineWidth||0}),c[e?"attr":"animate"]({translateX:h.x,translateY:h.y,rotation:l})}u.addClass(k+(p?"collapsed":"expanded")).removeClass(k+(p?"expanded":"collapsed")),w||u.css({cursor:"pointer"}),[u,r].forEach(t=>{t&&!t.attachedTreeGridEvents&&(sI(t.element,"mouseover",function(){u.addClass("highcharts-treegrid-node-active"),u.renderer.styledMode||u.css({textDecoration:"underline"})}),sI(t.element,"mouseout",function(){var t=sR(g.style)?g.style:{};u.removeClass("highcharts-treegrid-node-active"),u.renderer.styledMode||u.css({textDecoration:t.textDecoration||"none"})}),sI(t.element,"click",function(){s.toggleCollapse()}),t.attachedTreeGridEvents=!0)})}else r&&(sD(n),u?.css({cursor:"default"}),r.destroy())}class sH{static compose(t){let e=t.prototype;e.toggleCollapse||(sI(t,"init",sN),sz(e,"getLabelPosition",sW),sz(e,"renderLabel",sF),e.collapse=function(t){this.treeGrid.collapse(t)},e.expand=function(t){this.treeGrid.expand(t)},e.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})}constructor(t){this.tick=t}collapse(t){let e=this.tick,i=e.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=e.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.collapse(o),s.setBreaks(o,sG(t,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(t){let{pos:e,axis:i}=this.tick,{treeGrid:s,brokenAxis:o}=i,r=s.mapOfPosToGridNode;var n;o&&r&&(n=r[e],n=s.expand(n),o.setBreaks(n,sG(t,!0)))}toggleCollapse(t){let e=this.tick,i=e.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=e.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.toggleCollapse(o),s.setBreaks(o,sG(t,!0)))}}let{extend:sU,isArray:sY,isNumber:sX,isObject:sV,merge:s_,pick:sj,relativeLength:sq}=x(),sZ={getLevelOptions:function(t){let r,e,i,n,s,o,a={};if(sV(t))for(n=sX(t.from)?t.from:1,o=t.levels,e={},r=sV(t.defaults)?t.defaults:{},sY(o)&&(e=o.reduce((t,e)=>{let i,s,o;return sV(e)&&sX(e.level)&&(s=sj((o=s_({},e)).levelIsConstant,r.levelIsConstant),delete o.levelIsConstant,delete o.level,sV(t[i=e.level+(s?0:n-1)])?s_(!0,t[i],o):t[i]=o),t},{})),s=sX(t.to)?t.to:1,i=0;i<=s;i++)a[i]=s_({},r,sV(e[i])?e[i]:{});return a}}["getLevelOptions"],{addEvent:s$,isArray:sK,splat:sJ,find:sQ,fireEvent:s0,isObject:s1,isString:s2,merge:s3,pick:s5,removeEvent:s6,wrap:s9}=x();function s8(t,e){let i=t.collapseEnd||0,s=t.collapseStart||0;return e<=i&&(s-=.5),{from:s,to:i,showPoints:!1}}function s4(t,e,i){let a=[],o=[],h={},l=e||!1,d={},c=-1,s=sC.getTree(t,{after:function(t){let e=d[t.pos],i=0,s=0;e.children.forEach(function(t){s+=(t.descendants||0)+1,i=Math.max((t.height||0)+1,i)}),e.descendants=s,e.height=i,e.collapsed&&o.push(e)},before:function(t){let e,i,s=s1(t.data,!0)?t.data:{},o=s2(s.name)?s.name:"",r=h[t.parent],n=s1(r,!0)?d[r.pos]:null;l&&s1(n,!0)&&(e=sQ(n.children,function(t){return t.name===o}))?(i=e.pos,e.nodes.push(t)):i=c++,d[i]||(d[i]=e={depth:n?n.depth+1:0,name:o,id:s.id,nodes:[t],children:[],pos:i},-1!==i&&a.push(o),s1(n,!0)&&n.children.push(e)),s2(t.id)&&(h[t.id]=t),e&&!0===s.collapsed&&(e.collapsed=!0),t.pos=i}});return{categories:a,mapOfIdToNode:h,mapOfPosToGridNode:d=function(t,a){let h=function(t,i,e){let s=t.nodes,o=i+(-1===i?0:a-1),r=(o-i)/2,n=i+r;return s.forEach(function(t){let e=t.data;s1(e,!0)&&(e.y=i+(e.seriesIndex||0),delete e.seriesIndex),t.pos=n}),(e[n]=t).pos=n,t.tickmarkOffset=.5+r,t.collapseStart=o+.5,t.children.forEach(function(t){h(t,o+1,e),o=(t.collapseEnd||0)-.5}),t.collapseEnd=o+.5,e};return h(t[-1],-1,{})}(d,i),collapsedNodes:o,tree:s}}function s7(d){let c=d.target;c.axes.filter(t=>"treegrid"===t.type).forEach(function(t){let e=t.options||{},i=e.labels,n=t.uniqueNames,s=c.time.parse(e.max),o=!t.treeGrid.mapOfPosToGridNode||t.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty}),a=0,h,l;if(o){let r=[];if(h=t.series.reduce(function(e,i){let t=i.options.data||[],s=t[0],o=Array.isArray(s)&&!s.find(t=>"object"==typeof t);return r.push(o),i.visible&&(t.forEach(function(t){(o||i.options.keys?.length)&&(t=i.pointClass.prototype.optionsToObject.call({series:i},t),i.pointClass.setGanttPointAliases(t,c)),s1(t,!0)&&(t.seriesIndex=a,e.push(t))}),!0===n&&a++),e},[]),s&&h.length<s)for(let t=h.length;t<=s;t++)h.push({name:t+"​"});t.categories=(l=s4(h,n||!1,!0===n?a:1)).categories,t.treeGrid.mapOfPosToGridNode=l.mapOfPosToGridNode,t.hasNames=!0,t.treeGrid.tree=l.tree,t.series.forEach(function(t,e){var i=(t.options.data||[]).map(function(i){return(r[e]||sK(i)&&t.options.keys&&t.options.keys.length)&&h.forEach(function(t){let e=sJ(i);0<=e.indexOf(t.x||0)&&0<=e.indexOf(t.x2||0)&&(i=t)}),s1(i,!0)?s3(i):i});t.visible&&t.setData(i,!1)}),t.treeGrid.mapOptionsToLevel=sZ({defaults:i,from:1,levels:i?.levels,to:t.treeGrid.tree?.height}),"beforeRender"===d.type&&(t.treeGrid.collapsedNodes=l.collapsedNodes)}})}function ot(t,e){let s=this.treeGrid.mapOptionsToLevel||{},o="treegrid"===this.type,r=this.ticks,n=r[e],a,h,l;o&&this.treeGrid.mapOfPosToGridNode?((a=s[(l=this.treeGrid.mapOfPosToGridNode[e]).depth])&&(h={labels:a}),!n&&i?r[e]=n=new i(this,e,void 0,void 0,{category:l.name,tickmarkOffset:l.tickmarkOffset,options:h}):(n.parameters.category=l.name,n.options=h,n.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function oe(t,e,i,s){let o=this,r="treegrid"===i.type;o.treeGrid||(o.treeGrid=new oo(o)),r&&(s$(e,"beforeRender",s7),s$(e,"beforeRedraw",s7),s$(e,"addSeries",function(t){t.options.data&&(t=s4(t.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(t.collapsedNodes))}),s$(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(e){var t=o.treeGrid.collapse(e);o.brokenAxis&&(o.brokenAxis.setBreaks(t,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(t=>e.collapseStart!==t.collapseStart||e.collapseEnd!==t.collapseEnd)))})}),s$(o,"afterBreaks",function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)}),i=s3({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},i,{reversed:!0})),t.apply(o,[e,i,s]),r&&(o.hasNames=!0,o.options.showLastLabel=!0)}function oi(t){let e=this.options,i=this.chart.time,s="number"==typeof e.linkedTo?this.chart[this.coll]?.[e.linkedTo]:void 0;var o;"treegrid"===this.type?(this.min=this.userMin??i.parse(e.min)??this.dataMin,this.max=this.userMax??i.parse(e.max)??this.dataMax,s0(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],s&&(o=s.getExtremes(),this.min=s5(o.min,o.dataMin),this.max=s5(o.max,o.dataMax),this.tickPositions=s.tickPositions),this.linkedParent=s):t.apply(this,Array.prototype.slice.call(arguments,1))}function os(t){let i=this;"treegrid"===this.type&&i.visible&&i.tickPositions.forEach(function(t){let e=i.ticks[t];e.label?.attachedTreeGridEvents&&(s6(e.label.element),e.label.attachedTreeGridEvents=!1)}),t.apply(i,Array.prototype.slice.call(arguments,1))}class oo{static compose(e,t,s,o){var r,n;if(!e.keepProps.includes("treeGrid")){let t=e.prototype;e.keepProps.push("treeGrid"),s9(t,"generateTick",ot),s9(t,"init",oe),s9(t,"setTickInterval",oi),s9(t,"redraw",os),t.utils={getNode:sC.getNode},i=i||o}return t=t,n=o,(r=e).keepProps.includes("grid")||(r.keepProps.push("grid"),r.prototype.getMaxLabelDimensions=sh,sa(r.prototype,"unsquish",sO),sa(r.prototype,"getOffset",sd),i4(r,"init",sM),i4(r,"afterGetTitlePosition",sc),i4(r,"afterInit",sp),i4(r,"afterRender",su),i4(r,"afterSetAxisTranslation",sg),i4(r,"afterSetOptions",sx),i4(r,"afterSetOptions",sf),i4(r,"afterSetScale",sm),i4(r,"afterTickSize",sb),i4(r,"trimTicks",sw),i4(r,"destroy",sv),i4(t,"afterSetChartSize",sy),i4(n,"afterGetLabelPosition",sk),i4(n,"labelFormat",sA)),i9.compose(e,s),sH.compose(o),e}constructor(t){this.axis=t}setCollapsedStatus(o){let t=this.axis,r=t.chart;t.series.forEach(function(i){var s=i.options.data;if(o.id&&s){let t=r.get(o.id),e=s[i.data.indexOf(t)];t&&e&&(t.collapsed=o.collapsed,e.collapsed=o.collapsed)}})}collapse(t){let e=this.axis,i=e.options.breaks||[],s=s8(t,e.max);return i.push(s),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i}expand(t){let e=this.axis,i=e.options.breaks||[],s=s8(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])}getTickPositions(){let i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(t,e){e=+e;return e>=s&&e<=o&&!i.brokenAxis?.isInAnyBreak(e)&&t.push(e),t},[])}isCollapsed(t){let e=this.axis,i=e.options.breaks||[],s=s8(t,e.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}let{series:on,seriesTypes:{xrange:or}}=tb(),{extend:oa,isNumber:ol,merge:oh}=x();class od extends or{static compose(t,e,i,s){or.compose(t),e&&(iK.compose(t,e),i&&(iX.compose(e,i.prototype.pointClass),s&&oo.compose(t,e,i,s)))}drawPoint(t,e){let i=this.options,s=this.chart.renderer,o=t.shapeArgs,r=t.plotY,n=t.selected&&"select",a=i.stacking&&!i.borderRadius,h=t.graphic,l;t.options.milestone?ol(r)&&null!==t.y&&!1!==t.visible?(l=s.symbols.diamond(o.x||0,o.y||0,o.width||0,o.height||0),h?h[e]({d:l}):t.graphic=h=s.path(l).addClass(t.getClassName(),!0).add(t.group||this.group),this.chart.styledMode||t.graphic.attr(this.pointAttribs(t,n)).shadow(i.shadow,null,a)):h&&(t.graphic=h.destroy()):super.drawPoint(t,e)}translatePoint(t){var e,i;super.translatePoint(t),t.options.milestone&&(i=(e=t.shapeArgs).height||0,t.shapeArgs={x:(e.x||0)-i/2,y:e.y,width:i,height:i})}}od.defaultOptions=oh(or.defaultOptions,{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){let t=this.series,e=t.xAxis,i=t.tooltipOptions.dateTimeLabelFormats,s=e.options.startOfWeek,o=t.tooltipOptions,r=this.options.milestone,n=o.xDateFormat,a="<b>"+(this.name||this.yCategory)+"</b>";if(o.pointFormat)return this.tooltipFormatter(o.pointFormat);!n&&im(this.start)&&(n=t.chart.time.getDateFormat(e.closestPointRange,this.start,s,i||{}));var h=t.chart.time.dateFormat(n,this.start),l=t.chart.time.dateFormat(n,this.end);return a=a+"<br/>"+(r?h+"<br/>":"Start: "+h+"<br/>End: "+l+"<br/>")}},connectors:{type:"simpleConnect",animation:{reversed:!0},radius:0,startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}),oa(od.prototype,{pointArrayMap:["start","end","y"],pointClass:ix,setData:on.prototype.setData}),tb().registerSeriesType("gantt",od);let oc=x(),op=(oc.Connection=oc.Connection||S,oc.GanttChart=oc.GanttChart||X,oc.Navigator=oc.Navigator||em,oc.RangeSelector=oc.RangeSelector||iu,oc.Scrollbar=oc.Scrollbar||t6,oc.ganttChart=oc.GanttChart.ganttChart,function(t){let e=t.prototype.symbols;e.arrow=f,e["arrow-filled"]=b,e["arrow-filled-half"]=y,e["arrow-half"]=m,e["triangle-left"]=b,e["triangle-left-half"]=y}(oc.SVGRenderer),function(t,e){C(P,"CurrentDateIndication")&&(B(t,"afterSetOptions",R),B(e,"render",L),I(e.prototype,"getLabelText",G))}(oc.Axis,oc.PlotLineOrBand),od.compose(oc.Axis,oc.Chart,oc.Series,oc.Tick),oc.Navigator.compose(oc.Chart,oc.Axis,oc.Series),oc.RangeSelector.compose(oc.Axis,oc.Chart),oc.Scrollbar.compose(oc.Axis),x());export{op as default};