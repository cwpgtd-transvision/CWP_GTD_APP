let t;import*as e from"../highcharts.js";var i,s,a={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},d:(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};let r=e.default;var o=a.n(r);let n={cluster:{enabled:!1,allowOverlap:!0,animation:{duration:500},drillToCluster:!0,minimumClusterSize:2,layoutAlgorithm:{gridSize:50,distance:40,kmeansThreshold:100},marker:{symbol:"cluster",radius:15,lineWidth:0,lineColor:"#ffffff"},dataLabels:{enabled:!0,format:"{point.clusterPointsAmount}",verticalAlign:"middle",align:"center",style:{color:"contrast"},inside:!0}},tooltip:{clusterFormat:"<span>Clustered points: {point.clusterPointsAmount}</span><br/>"}},{setLength:l,splice:p}=((i=s=s||{}).setLength=function(t,e,i){return Array.isArray(t)?(t.length=e,t):t[i?"subarray":"slice"](0,e)},i.splice=function(t,e,i,s,a=[]){if(Array.isArray(t))return Array.isArray(a)||(a=Array.from(a)),{removed:t.splice(e,i,...a),array:t};let r=Object.getPrototypeOf(t).constructor,o=t[s?"subarray":"slice"](e,e+i),n=new r(t.length-i+a.length);return n.set(t.subarray(0,e),0),n.set(a,e),n.set(t.subarray(e+i),e+a.length),{removed:o,array:n}},s),{fireEvent:u,objectEach:h,uniqueKey:d}=o(),c=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||d(),(this.modified=this).rowCount=0,this.versionTag=d();let i=0;h(t.columns||{},(t,e)=>{this.columns[e]=t.slice(),i=Math.max(i,t.length)}),this.applyRowCount(i)}applyRowCount(i){this.rowCount=i,h(this.columns,(t,e)=>{t.length!==i&&(this.columns[e]=l(t,i))})}deleteRows(s,a=1){if(0<a&&s<this.rowCount){let i=0;h(this.columns,(t,e)=>{this.columns[e]=p(t,s,a).array,i=t.length}),this.rowCount=i}u(this,"afterDeleteRows",{rowIndex:s,rowCount:a}),this.versionTag=d()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(e,t){return(t||Object.keys(this.columns)).map(t=>this.columns[t]?.[e])}setColumn(t,e=[],i=0,s){this.setColumns({[t]:e},i,s)}setColumns(t,e,i){let s=this.rowCount;h(t,(t,e)=>{this.columns[e]=t.slice(),s=t.length}),this.applyRowCount(s),i?.silent||(u(this,"afterSetColumns"),this.versionTag=d())}setRow(t,s=this.rowCount,a,r){let o=this["columns"],n=a?this.rowCount+1:s+1;h(t,(t,e)=>{let i=o[e]||!1!==r?.addColumns&&Array(n);i&&(a?i=p(i,s,0,!0,[t]).array:i[s]=t,o[e]=i)}),n>this.rowCount&&this.applyRowCount(n),r?.silent||(u(this,"afterSetRows"),this.versionTag=d())}},m=o()["animObject"],f=n["cluster"],{addEvent:g,defined:x,error:y,isArray:C,isFunction:k,isObject:I,isNumber:M,merge:b,objectEach:S,relativeLength:A,syncTimeout:w}=o(),P={grid:function(t,e,i,s){let a,r,o,n,l,p={},u=this.getGridOffset(),h=this.getScaledGridSize(s);for(l=0;l<t.length;l++){var d=Q(this,{x:t[l],y:e[l]});a=d.x-u.plotLeft,r=d.y-u.plotTop,o=Math.floor(a/h),p[n=Math.floor(r/h)+":"+o]??(p[n]=[]),p[n].push({dataIndex:i[l],x:t[l],y:e[l]})}return p},kmeans:function(e,i,s,t){let a=[],r=[],o={},n=t.processedDistance||f.layoutAlgorithm.distance,l=t.iterations,p=0,u=!0,h,d,c,m=[];t.processedGridSize=t.processedDistance;var g,x=this.markerClusterAlgorithms?this.markerClusterAlgorithms.grid.call(this,e,i,s,t):{};for(g in x)1<x[g].length&&(c=T(x[g]),a.push({posX:c.x,posY:c.y,oldX:0,oldY:0,startPointsLen:x[g].length,points:[]}));for(;u;){for(var y of a)y.points.length=0;for(let t=r.length=0;t<e.length;t++)h=e[t],d=i[t],((m=this.getClusterDistancesFromPoint(a,h,d)).length&&m[0].distance<n?a[m[0].clusterIndex].points:r).push({x:h,y:d,dataIndex:s[t]});for(let t=0;t<a.length;t++)1===a[t].points.length&&(m=this.getClusterDistancesFromPoint(a,a[t].points[0].x,a[t].points[0].y))[1].distance<n&&(a[m[1].clusterIndex].points.push(a[t].points[0]),a[m[0].clusterIndex].points.length=0);u=!1;for(let t=0;t<a.length;t++)c=T(a[t].points),a[t].oldX=a[t].posX,a[t].oldY=a[t].posY,a[t].posX=c.x,a[t].posY=c.y,(a[t].posX>a[t].oldX+1||a[t].posX<a[t].oldX-1||a[t].posY>a[t].oldY+1||a[t].posY<a[t].oldY-1)&&(u=!0);l&&(u=p<l-1),p++}for(let t=0,e=a.length;t<e;++t)o["cluster"+t]=a[t].points;for(let t=0,e=r.length;t<e;++t)o["noise"+t]=[r[t]];return o},optimizedKmeans:function(t,e,i,s){let a=s.processedDistance||f.layoutAlgorithm.gridSize,r=this.getRealExtremes(),o=(this.options.cluster||{}).marker,n,l={},p,u;if(!this.markerClusterInfo||this.initMaxX&&this.initMaxX<r.maxX||this.initMinX&&this.initMinX>r.minX||this.initMaxY&&this.initMaxY<r.maxY||this.initMinY&&this.initMinY>r.minY)this.initMaxX=r.maxX,this.initMinX=r.minX,this.initMaxY=r.maxY,this.initMinY=r.minY,l=this.markerClusterAlgorithms?this.markerClusterAlgorithms.kmeans.call(this,t,e,i,s):{},this.baseClusters=null;else{for(var h of(this.baseClusters??(this.baseClusters={clusters:this.markerClusterInfo.clusters,noise:this.markerClusterInfo.noise}),this.baseClusters.clusters)){for(var d of(h.pointsOutside=[],h.pointsInside=[],h.data)){var c=Q(this,d),m=Q(this,h);n=Math.sqrt(Math.pow(c.x-m.x,2)+Math.pow(c.y-m.y,2)),p=0<=a-(u=(h.clusterZone?.marker?.radius?h.clusterZone.marker:o?.radius?o:f.marker).radius)?a-u:u,u+p<n&&x(h.pointsOutside)?h.pointsOutside.push(d):x(h.pointsInside)&&h.pointsInside.push(d)}h.pointsInside.length&&(l[h.id]=h.pointsInside);let t=0;for(var g of h.pointsOutside)l[h.id+"_noise"+t++]=[g]}for(var y of this.baseClusters.noise)l[y.id]=y.data}return l}},X,Y=[],L=0;function z(t,e,i){t.attr({opacity:e}).animate({opacity:1},i)}function D(t,e,i,s){for(var a of(O(t,s,i,!0,!0),e))a.point?.destroy?.()}function O(t,e,i,s,a){t.point&&(s&&t.point.graphic&&(t.point.graphic.show(),z(t.point.graphic,e,i)),a&&t.point.dataLabel&&(t.point.dataLabel.show(),z(t.point.dataLabel,e,i)))}function T(e){let i=e.length,s=0,a=0;for(let t=0;t<i;t++)s+=e[t].x,a+=e[t].y;return{x:s/i,y:a/i}}function v(t,e){let i=[];return i.length=e,t.clusters.forEach(function(t){t.data.forEach(function(t){i[t.dataIndex]=t})}),t.noise.forEach(function(t){i[t.data[0].dataIndex]=t.data[0]}),i}function R(){return Math.random().toString(36).substring(2,7)+"-"+L++}function V(t,e,i){t.point&&(e&&t.point.graphic&&t.point.graphic.hide(),i&&t.point.dataLabel&&t.point.dataLabel.hide())}function E(t){(t.point||t.target).firePointEvent("drillToCluster",t,function(a){let t=a.point||a.target,e=t.series,{xAxis:r,yAxis:o,chart:n}=e,{inverted:l,mapView:i,pointer:p}=n;if(e.options.cluster?.drillToCluster&&t.clusteredData){var a=t.clusteredData.map(t=>t.x).sort((t,e)=>t-e),s=t.clusteredData.map(t=>t.y).sort((t,e)=>t-e),u=a[0],a=a[a.length-1],h=s[0],s=s[s.length-1],d=Math.abs(.1*(a-u)),c=Math.abs(.1*(s-h)),m=Math.min(u,a)-d,u=Math.max(u,a)+d,a=Math.min(h,s)-c,d=Math.max(h,s)+c;if(i)i.fitToBounds({x1:m,x2:u,y1:a,y2:d});else if(r&&o){let t=r.toPixels(m),e=r.toPixels(u),i=o.toPixels(a),s=o.toPixels(d);l&&([t,e,i,s]=[i,s,t,e]),t>e&&([t,e]=[e,t]),i>s&&([i,s]=[s,i]),p&&(p.zoomX=!0,p.zoomY=!0),n.transform({from:{x:t,y:i,width:e-t,height:s-i}})}}})}function j(t,e){let{chart:i,xAxis:s,yAxis:a}=t;return i.mapView?i.mapView.pixelsToProjectedUnits(e):{x:s?s.toValue(e.x):0,y:a?a.toValue(e.y):0}}function G(t){let e=this.chart,i=e.mapView,s=m(this.options.cluster?.animation),a=s.duration||500,r=this.markerClusterInfo?.pointsState,o=r?.newState,n=r?.oldState,l=[],p,u,h,d,c,f,g=!1,x=!1;var y;n&&o&&(y=Q(this,u=o[t.stateId]),c=y.x-(i?0:e.plotLeft),f=y.y-(i?0:e.plotTop),1===u.parentsId.length?(p=n[o?.[t.stateId].parentsId[0]],u.point?.graphic&&p.point?.plotX&&p.point.plotY&&(p.point.plotX!==u.point.plotX||p.point.plotY!==u.point.plotY)&&(h=u.point.graphic.getBBox(),d=u.point.graphic?.isImg?0:h.width/2,u.point.graphic.attr({x:p.point.plotX-d,y:p.point.plotY-d}),u.point.graphic.animate({x:c-(u.point.graphic.radius||0),y:f-(u.point.graphic.radius||0)},s,function(){x=!0,p.point?.destroy?.()}),u.point.dataLabel?.alignAttr&&p.point.dataLabel?.alignAttr&&(u.point.dataLabel.attr({x:p.point.dataLabel.alignAttr.x,y:p.point.dataLabel.alignAttr.y}),u.point.dataLabel.animate({x:u.point.dataLabel.alignAttr.x,y:u.point.dataLabel.alignAttr.y},s)))):0===u.parentsId.length?(V(u,!0,!0),w(function(){O(u,.1,s,!0,!0)},a/2)):(V(u,!0,!0),u.parentsId.forEach(function(t){n?.[t]&&(p=n[t],l.push(p),p.point?.graphic&&(g=!0,p.point.graphic.show(),p.point.graphic.animate({x:c-(p.point.graphic.radius||0),y:f-(p.point.graphic.radius||0),opacity:.4},s,function(){x=!0,D(u,l,s,.7)}),p.point.dataLabel&&-9999!==p.point.dataLabel.y&&u.point?.dataLabel?.alignAttr&&(p.point.dataLabel.show(),p.point.dataLabel.animate({x:u.point.dataLabel.alignAttr.x,y:u.point.dataLabel.alignAttr.y,opacity:.4},s))))}),w(function(){x||D(u,l,s,.85)},a),g||w(function(){D(u,l,s,.1)},a/2)))}function F(){this.markerClusterSeriesData?.forEach(t=>{t?.destroy?.()}),this.markerClusterSeriesData=null}function W(){let t,e,i,s,a,r,o,n,l,p,u,h,d,m,y,C=this,I=C["chart"],b=I.mapView,S=C.getColumn("x"),v=C.getColumn("y"),w=C.options.cluster,Y=C.getRealExtremes(),P=[],L=[],z=[];if(b&&C.is("mappoint")&&S&&v&&C.options.data?.forEach((t,e)=>{t=C.projectPoint(t);t&&(S[e]=t.x,v[e]=t.y)}),w?.enabled&&S?.length&&v?.length&&!I.polar){u=w.layoutAlgorithm.type,(m=w.layoutAlgorithm).processedGridSize=A(m.gridSize||f.layoutAlgorithm.gridSize,I.plotWidth),m.processedDistance=A(m.distance||f.layoutAlgorithm.distance,I.plotWidth),s=m.kmeansThreshold||f.layoutAlgorithm.kmeansThreshold;var D=m.processedGridSize/2,O=j(C,{x:0,y:0}),D=j(C,{x:D,y:D});a=Math.abs(O.x-D.x),r=Math.abs(O.y-D.y);for(let t=0;t<S.length;t++)C.dataMaxX||(x(n)&&x(o)&&x(p)&&x(l)?M(v[t])&&M(p)&&M(l)&&(n=Math.max(S[t],n),o=Math.min(S[t],o),p=Math.max(v[t]||p,p),l=Math.min(v[t]||l,l)):(n=o=S[t],p=l=v[t])),S[t]>=Y.minX-a&&S[t]<=Y.maxX+a&&(v[t]||Y.minY)>=Y.minY-r&&(v[t]||Y.maxY)<=Y.maxY+r&&(P.push(S[t]),L.push(v[t]),z.push(t));if(x(n)&&x(o)&&M(p)&&M(l)&&(C.dataMaxX=n,C.dataMinX=o,C.dataMaxY=p,C.dataMinY=l),h=(d=(k(u)?u:C.markerClusterAlgorithms?u&&C.markerClusterAlgorithms[u]?C.markerClusterAlgorithms[u]:P.length<s?C.markerClusterAlgorithms.kmeans:C.markerClusterAlgorithms.grid:()=>!1).call(this,P,L,z,m))?C.getClusteredData(d,w):d,w.animation&&C.markerClusterInfo?.pointsState?.oldState){var T,V=C.markerClusterInfo.pointsState.oldState;for(T of Object.keys(V))V[T].point?.destroy?.();t=C.markerClusterInfo.pointsState.newState}else t={};e=S.length,i=C.markerClusterInfo,h&&(C.dataTable.modified=new c({columns:{x:h.groupedXData,y:h.groupedYData}}),C.hasGroupedData=!0,C.markerClusterInfo=h,C.groupMap=h.groupMap),X.apply(this),h&&C.markerClusterInfo&&(C.markerClusterInfo.clusters?.forEach(t=>{(y=C.points[t.index]).isCluster=!0,y.clusteredData=t.data,y.clusterPointsAmount=t.data.length,t.point=y,g(y,"click",E)}),C.markerClusterInfo.noise?.forEach(t=>{t.point=C.points[t.index]}),w.animation&&C.markerClusterInfo&&(C.markerClusterInfo.pointsState={oldState:t,newState:C.getPointsState(h,i,e)}),w.animation?this.hideClusteredData():this.destroyClusteredData(),this.markerClusterSeriesData=this.hasGroupedData?this.points:null)}else X.apply(this)}function Z(e,i,s){let a=[];for(let t=0;t<e.length;t++){var r=Q(this,{x:i,y:s}),o=Q(this,{x:e[t].posX,y:e[t].posY}),r=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2));a.push({clusterIndex:t,distance:r})}return a.sort((t,e)=>t.distance-e.distance)}function _(e,i){let s=this.options.data,a=[],r=[],t=[],o=[],n=[],l=Math.max(2,i.minimumClusterSize||2),p=0,u,h,d,c,m,g,x,M,S,v,A,w;if(k(i.layoutAlgorithm.type)&&!this.isValidGroupedDataObject(e))return y("Highcharts marker-clusters module: The custom algorithm result is not valid!",!1,this.chart),!1;for(var Y in e)if(e[Y].length>=l){if(d=e[Y],u=R(),m=d.length,i.zones)for(let t=0;t<i.zones.length;t++)m>=i.zones[t].from&&m<=i.zones[t].to&&((A=i.zones[t]).zoneIndex=t,v=i.zones[t].marker,w=i.zones[t].className);S=T(d),x="grid"!==i.layoutAlgorithm.type||i.allowOverlap?{x:S.x,y:S.y}:(g=this.options.marker||{},this.preventClusterCollisions({x:S.x,y:S.y,key:Y,groupedData:e,gridSize:this.getScaledGridSize(i.layoutAlgorithm),defaultRadius:g.radius||3+(g.lineWidth||0),clusterRadius:v&&v.radius?v.radius:(i.marker||{}).radius||f.marker.radius}));for(let t=0;t<m;t++)d[t].parentStateId=u;if(t.push({x:x.x,y:x.y,id:Y,stateId:u,index:p,data:d,clusterZone:A,clusterZoneClassName:w}),a.push(x.x),r.push(x.y),n.push({options:{formatPrefix:"cluster",dataLabels:i.dataLabels,marker:b(i.marker,{states:i.states},v||{})}}),s?.length)for(let t=0;t<m;t++)I(s[d[t].dataIndex])&&(d[t].options=s[d[t].dataIndex]);p++,v=null}else for(let t=0;t<e[Y].length;t++)h=e[Y][t],u=R(),c=s?.[h.dataIndex],a.push(h.x),r.push(h.y),h.parentStateId=u,o.push({x:h.x,y:h.y,id:Y,stateId:u,index:p,data:e[Y]}),M=c&&"object"==typeof c&&!C(c)?b(c,{x:h.x,y:h.y}):{userOptions:c,x:h.x,y:h.y},n.push({options:M}),p++;return{clusters:t,noise:o,groupedXData:a,groupedYData:r,groupMap:n}}function B(){let{chart:t,xAxis:e,yAxis:i}=this;return{plotLeft:e&&this.dataMinX&&this.dataMaxX?e.reversed?e.toPixels(this.dataMaxX):e.toPixels(this.dataMinX):t.plotLeft,plotTop:i&&this.dataMinY&&this.dataMaxY?i.reversed?i.toPixels(this.dataMinY):i.toPixels(this.dataMaxY):t.plotTop}}function H(t,e,i){let s,a,r=e?v(e,i):[],o=v(t,i),n={};Y=[],t.clusters.forEach(t=>{n[t.stateId]={x:t.x,y:t.y,id:t.stateId,point:t.point,parentsId:[]}}),t.noise.forEach(t=>{n[t.stateId]={x:t.x,y:t.y,id:t.stateId,point:t.point,parentsId:[]}});for(let t=0;t<o.length;t++)s=o[t],a=r[t],s?.parentStateId&&a?.parentStateId&&-1===n[s.parentStateId]?.parentsId.indexOf(a.parentStateId)&&(n[s.parentStateId].parentsId.push(a.parentStateId),-1===Y.indexOf(a.parentStateId)&&Y.push(a.parentStateId));return n}function q(){var t=this.chart,e=t.mapView?0:t.plotLeft,i=j(this,{x:e,y:t.mapView?0:t.plotTop}),e=j(this,{x:e+t.plotWidth,y:e+t.plotHeight}),t=i.x,s=e.x,i=i.y,e=e.y;return{minX:Math.min(t,s),maxX:Math.max(t,s),minY:Math.min(i,e),maxY:Math.max(i,e)}}function N(t){let e=this.xAxis,i=this.chart.mapView,s=t.processedGridSize||f.layoutAlgorithm.gridSize,a=!0,r=1,o=1;this.gridValueSize||(i?this.gridValueSize=s/i.getScale():this.gridValueSize=Math.abs(e.toValue(s)-e.toValue(0)));for(var n=+(s/(i?this.gridValueSize*i.getScale():e.toPixels(this.gridValueSize)-e.toPixels(0))).toFixed(14);a&&1!=n;){var l=Math.pow(2,r);.75<n&&n<1.25?a=!1:1/l<=n&&n<1/l*2?(a=!1,o=l):n<=l&&l/2<n&&(a=!1,o=1/l),r++}return s/o/n}function U(){let t=this.markerClusterSeriesData,e=this.markerClusterInfo?.pointsState?.oldState,i=Y.map(t=>e?.[t].point?.id||"");t?.forEach(t=>{t&&-1!==i.indexOf(t.id)?(t.graphic&&t.graphic.hide(),t.dataLabel&&t.dataLabel.hide()):t?.destroy?.()})}function K(t){let i=!1;return!!I(t)&&(S(t,e=>{if(i=!0,C(e)&&e.length){for(let t=0;t<e.length;t++)if(!I(e[t])||!e[t].x||!e[t].y)return void(i=!1)}else i=!1}),i)}function J(e){let[i,s]=e.key.split(":").map(parseFloat),a=e.gridSize,t=e.groupedData,r=e.defaultRadius,o=e.clusterRadius,n=s*a,l=i*a,p=Q(this,e),u=[],h=this.options.cluster?.marker,d=this.options.cluster?.zones,c=this.getGridOffset(),m=p.x,g=p.y,y,C=0,I,k,M,b,S,v,A,w,Y,X,P,L;m-=c.plotLeft,g-=c.plotTop;for(let t=1;t<5;t++)for(A=0,M=t%2?-1:1,b=t<3?-1:1,S=Math.floor((m+M*o)/a),L=[(v=Math.floor((g+b*o)/a))+":"+S,v+":"+s,i+":"+S];A<L.length;A++)-1===u.indexOf(L[A])&&L[A]!==e.key&&u.push(L[A]);for(var z of u)if(t[z]){t[z].posX||(X=T(t[z]),t[z].posX=X.x,t[z].posY=X.y);var D=Q(this,{x:t[z].posX||0,y:t[z].posY||0});if(I=D.x-c.plotLeft,k=D.y-c.plotTop,[Y,w]=z.split(":").map(parseFloat),d){y=t[z].length;for(let t=0;t<d.length;t++)y>=d[t].from&&y<=d[t].to&&(C=x(d[t].marker?.radius)?d[t].marker.radius||0:(h?.radius?h:f.marker).radius)}1<t[z].length&&0===C&&h?.radius?C=h.radius:1===t[z].length&&(C=r),P=o+C,C=0,w!==s&&Math.abs(m-I)<P&&(m=w-s<0?n+o:n+a-o),Y!==i&&Math.abs(g-k)<P&&(g=Y-i<0?l+o:l+a-o)}var O=j(this,{x:m+c.plotLeft,y:g+c.plotTop});return t[e.key].posX=O.x,t[e.key].posY=O.y,O}function Q(t,e){let{chart:i,xAxis:s,yAxis:a}=t;return i.mapView?i.mapView.projectedUnitsToPixels(e):{x:s?s.toPixels(e.x):0,y:a?a.toPixels(e.y):0}}let $={compose:function(t,e){let i=e.prototype;i.markerClusterAlgorithms||(X=i.generatePoints,i.markerClusterAlgorithms=P,i.animateClusterPoint=G,i.destroyClusteredData=F,i.generatePoints=W,i.getClusterDistancesFromPoint=Z,i.getClusteredData=_,i.getGridOffset=B,i.getPointsState=H,i.getRealExtremes=q,i.getScaledGridSize=N,i.hideClusteredData=U,i.isValidGroupedDataObject=K,i.preventClusterCollisions=J,g(e,"destroy",i.destroyClusteredData),t.plotOptions&&(t.plotOptions.series=b(t.plotOptions.series,n)))}},tt=o()["animObject"],te=o()["defaultOptions"],ti=o()["composed"],{addEvent:ts,defined:ta,error:tr,isFunction:to,merge:tn,pushUnique:tl,syncTimeout:tp}=o();function tu(){let t=this.chart,e=0;for(var i of t.series)i.markerClusterInfo&&(e=tt((i.options.cluster||{}).animation).duration||0);tp(()=>{t.tooltip&&t.tooltip.destroy()},e)}function th(){for(var t of this.series||[])if(t.markerClusterInfo){var e=t.options.cluster,i=((t.markerClusterInfo||{}).pointsState||{}).oldState;if((e||{}).animation&&t.markerClusterInfo&&0===(t.chart.pointer?.pinchDown||[]).length&&"pan"!==((t.xAxis||{}).eventArgs||{}).trigger&&i&&Object.keys(i).length){for(var s of t.markerClusterInfo.clusters)t.animateClusterPoint(s);for(var a of t.markerClusterInfo.noise)t.animateClusterPoint(a)}}}function td(t){let e=(((t.point||t.target).series.options.cluster||{}).events||{}).drillToCluster;to(e)&&e.call(this,t)}function tc(){if(this.dataGroup)return tr("Highcharts marker-clusters module: Running `Point.update` when point belongs to clustered series is not supported.",!1,this.series.chart),!1}function tm(){var t=(this.options.cluster||{}).drillToCluster;if(this.markerClusterInfo&&this.markerClusterInfo.clusters)for(var e of this.markerClusterInfo.clusters)e.point&&e.point.graphic&&(e.point.graphic.addClass("highcharts-cluster-point"),t&&e.point&&(e.point.graphic.css({cursor:"pointer"}),e.point.dataLabel&&e.point.dataLabel.css({cursor:"pointer"})),ta(e.clusterZone)&&e.point.graphic.addClass(e.clusterZoneClassName||"highcharts-cluster-zone-"+e.clusterZone.zoneIndex))}function tf(e,i,s,a){var s=s/2,a=a/2,r=t.arc(e+s,i+a,s-4,a-4,{start:.5*Math.PI,end:2.5*Math.PI,open:!1}),o=t.arc(e+s,i+a,s-3,a-3,{start:.5*Math.PI,end:2.5*Math.PI,innerR:s-2,open:!1});return t.arc(e+s,i+a,s-1,a-1,{start:.5*Math.PI,end:2.5*Math.PI,innerR:s,open:!1}).concat(o,r)}(te.plotOptions||{}).series=tn((te.plotOptions||{}).series,n);let tg=o(),tx=(function(t,e,i,s){var a,r;tl(ti,"MarkerClusters")&&(a=s.prototype.pointClass,r=s.types["scatter"],ts(t,"setExtremes",tu),ts(e,"render",th),ts(a,"drillToCluster",td),ts(a,"update",tc),ts(s,"afterRender",tm),r&&$.compose(i,r))}(tg.Axis,tg.Chart,tg.defaultOptions,tg.Series),function(e){(t=e.prototype.symbols).cluster=tf}(tg.SVGRenderer),o());export{tx as default};