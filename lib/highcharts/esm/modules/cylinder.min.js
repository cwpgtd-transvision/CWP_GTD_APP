import*as t from"../highcharts.js";import"../highcharts-3d.js";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};let n=t.default;var s=e.n(n);let r=s()["deg2rad"],o=s()["pick"];function i(t,e,s,n){let i=e.options.chart.options3d,p=o(n,!!s&&e.inverted),h={x:e.plotWidth/2,y:e.plotHeight/2,z:i.depth/2,vd:o(i.depth,1)*o(i.viewDistance,0)},a=e.scale3d||1,y=r*i.beta*(p?-1:1),u=r*i.alpha*(p?-1:1),c={cosA:Math.cos(u),cosB:Math.cos(-y),sinA:Math.sin(u),sinB:Math.sin(-y)};return s||(h.x+=e.plotLeft,h.y+=e.plotTop),t.map(function(t){var e,r;e=(p?t.y:t.x)-h.x,r=(p?t.x:t.y)-h.y,t=(t.z||0)-h.z;let s={x:c.cosB*e-c.sinB*t,y:-c.sinA*c.sinB*e+c.cosA*r-c.cosB*c.sinA*t,z:c.cosA*c.sinB*e+c.sinA*r+c.cosA*c.cosB*t},n=l(s,h,h.vd);return n.x=n.x*a+h.x,n.y=n.y*a+h.y,n.z=s.z*a+h.z,{x:p?n.y:n.x,y:p?n.x:n.y,z:n.z}})}function l(t,e,r){e=0<r&&r<Number.POSITIVE_INFINITY?r/(t.z+e.z+r):1;return{x:t.x*e,y:t.y*e}}function p(t){let e=0,r,s;for(r=0;r<t.length;r++)s=(r+1)%t.length,e+=t[r].x*t[s].y-t[s].x*t[r].y;return e/2}let h=t.default.Color;var a=e.n(h);let y=t.default.RendererRegistry;var c=e.n(y);let u=a()["parse"],d=c().getRendererType().prototype["Element3D"],x=class extends d{constructor(){super(...arguments),this.parts=["top","bottom","front","back"],this.pathType="cylinder"}fillSetter(t){return this.singleSetterForParts("fill",null,{front:t,back:t,top:u(t).brighten(.1).get(),bottom:u(t).brighten(-.1).get()}),this.color=this.fill=t,this}},{charts:f,deg2rad:z}=s(),g={perspective:i}["perspective"],{extend:C,pick:M}=s();function m(t){return!t.some(t=>"C"===t[0])}function b(t){return this.element3d("cylinder",t)}function v(t){var e=f[this.chartIndex],r=this.cuboidPath(t),s=!r.isTop,n=!r.isFront,o=this.getCylinderEnd(e,t),e=this.getCylinderEnd(e,t,!0);return{front:this.getCylinderFront(o,e),back:this.getCylinderBack(o,e),top:o,bottom:e,zIndexes:{top:3*!!s,bottom:3*!s,front:n?2:1,back:n?1:2,group:r.zIndexes.group}}}function T(e){let r=[["M",e[0].x,e[0].y]],s=e.length-2;for(let t=1;t<s;t+=3)r.push(["C",e[t].x,e[t].y,e[t+1].x,e[t+1].y,e[t+2].x,e[t+2].y]);return r}function B(t,e){let r=[];var s,n;return m(t)?(s=t[0],n=t[2],"M"===s[0]&&"L"===n[0]&&(r.push(["M",n[1],n[2]]),r.push(t[3]),r.push(["L",s[1],s[2]]))):("C"===t[2][0]&&r.push(["M",t[2][5],t[2][6]]),r.push(t[3],t[4])),m(e)?"M"===(n=e[0])[0]&&(r.push(["L",n[1],n[2]]),r.push(e[3]),r.push(e[2])):(s=e[2],t=e[3],n=e[4],"C"===s[0]&&"C"===t[0]&&"C"===n[0]&&(r.push(["L",n[5],n[6]]),r.push(["C",n[3],n[4],n[1],n[2],t[5],t[6]]),r.push(["C",t[3],t[4],t[1],t[2],s[5],s[6]]))),r.push(["Z"]),r}function A(t,e,r){var s,n,o,{width:i=0,height:p=0,alphaCorrection:h=0}=e,l=M(e.depth,i,0),a=Math.min(i,l)/2,h=z*(t.options.chart.options3d.beta-90+h),r=(e.y||0)+(r?p:0),p=.5519*a,y=i/2+(e.x||0),u=l/2+(e.z||0),i=[{x:0,y:r,z:a},{x:p,y:r,z:a},{x:a,y:r,z:p},{x:a,y:r,z:0},{x:a,y:r,z:-p},{x:p,y:r,z:-a},{x:0,y:r,z:-a},{x:-p,y:r,z:-a},{x:-a,y:r,z:-p},{x:-a,y:r,z:0},{x:-a,y:r,z:p},{x:-p,y:r,z:a},{x:0,y:r,z:a}],c=Math.cos(h),d=Math.sin(h);for(o of i)s=o.x,n=o.z,o.x=s*c-n*d+y,o.z=n*c+s*d+u;l=g(i,t,!0);return Math.abs(l[3].y-l[9].y)<2.5&&Math.abs(l[0].y-l[6].y)<2.5?this.toLinePath([l[0],l[3],l[6],l[9]],!0):this.getCurvedPath(l)}function P(t,e){let r=t.slice(0,3);var s;return m(e)?"M"===(t=e[0])[0]&&(r.push(e[2]),r.push(e[1]),r.push(["L",t[1],t[2]])):(t=e[0],s=e[1],e=e[2],"M"===t[0]&&"C"===s[0]&&"C"===e[0]&&(r.push(["L",e[5],e[6]]),r.push(["C",e[3],e[4],e[1],e[2],s[5],s[6]]),r.push(["C",s[3],s[4],s[1],s[2],t[1],t[2]]))),r.push(["Z"]),r}let I=t.default.SeriesRegistry;var L=e.n(I);let{prototype:{pointClass:k}}=L().seriesTypes["column"],w=s()["extend"];class D extends k{}w(D.prototype,{shapeType:"cylinder"});let E=L().seriesTypes["column"],{extend:O,merge:F}=s();class R extends E{}R.compose=function(t){let e=t.prototype;e.cylinder||(e.Element3D.types.cylinder=x,C(e,{cylinder:b,cylinderPath:v,getCurvedPath:T,getCylinderBack:B,getCylinderEnd:A,getCylinderFront:P}))},R.defaultOptions=F(E.defaultOptions,{}),O(R.prototype,{pointClass:D}),L().registerSeriesType("cylinder",R),e.d({},{}),R.compose(c().getRendererType());let S=s();export{S as default};