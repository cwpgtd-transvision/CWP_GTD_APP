let e;import*as t from"../highcharts.js";var i,s,o,r={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},d:(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let n=t.default;var l=r.n(n);let a=t.default.StackItem;var d=r.n(a);let{addEvent:h,find:c,fireEvent:p,isArray:f,isNumber:u,pick:m}=l(),g=(!function(e){function s(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function r(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function o(){let s=this.brokenAxis;if(s?.hasBreaks){let t=this.tickPositions,e=this.tickPositions.info,i=[];for(let e=0;e<t.length;e++)s.isInAnyBreak(t[e])||i.push(t[e]);this.tickPositions=i,this.tickPositions.info=e}}function n(){this.brokenAxis||(this.brokenAxis=new x(this))}function a(){let{isDirty:e,options:{connectNulls:s},points:r,xAxis:o,yAxis:n}=this;if(e){let i=r.length;for(;i--;){let e=r[i],t=(null!==e.y||!1!==s)&&(o?.brokenAxis?.isInAnyBreak(e.x,!0)||n?.brokenAxis?.isInAnyBreak(e.y,!0));e.visible=!t&&!1!==e.options.visible}}}function l(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,m(this.pointArrayMap,["y"]))}function k(s,e){let r,o,n,a=this,l=a.points;if(s?.brokenAxis?.hasBreaks){let i=s.brokenAxis;e.forEach(function(e){r=i?.breakArray||[],o=s.isXAxis?s.min:m(a.options.threshold,s.min);let t=s?.options?.breaks?.filter(function(t){let i=!0;for(let e=0;e<r.length;e++){var s=r[e];if(s.from===t.from&&s.to===t.to){i=!1;break}}return i});l.forEach(function(i){n=m(i["stack"+e.toUpperCase()],i[e]),r.forEach(function(t){if(u(o)&&u(n)){let e="";o<t.from&&n>t.to||o>t.from&&n<t.from?e="pointBreak":(o<t.from&&n>t.from&&n<t.to||o>t.from&&n>t.to&&n<t.from)&&(e="pointInBreak"),e&&p(s,e,{point:i,brk:t})}}),t?.forEach(function(e){p(s,"pointOutsideOfBreak",{point:i,brk:e})})})})}}function g(){let e=this.currentDataGrouping,i=e?.gapSize,s=this.points.slice(),r=this.yAxis,o=this.options.gapSize,n=s.length-1;if(o&&0<n){let e,t;for("value"!==this.options.gapUnit&&(o*=this.basePointRange),i&&i>o&&i>=this.basePointRange&&(o=i);n--;){var a;t&&!1!==t.visible||(t=s[n+1]),e=s[n],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>o&&(a=(e.x+t.x)/2,s.splice(n+1,0,{isNull:!0,x:a}),r.stacking&&this.options.stacking&&((r.stacking.stacks[this.stackKey][a]=new(d())(r,r.options.stackLabels,!1,a,this.stack)).total=0)),t=e)}}return this.getGraphPath(s)}e.compose=function(t,i){if(!t.keepProps.includes("brokenAxis")){t.keepProps.push("brokenAxis"),h(t,"init",n),h(t,"afterInit",s),h(t,"afterSetTickPositions",o),h(t,"afterSetOptions",r);let e=i.prototype;e.drawBreaks=k,e.gappedPath=g,h(i,"afterGeneratePoints",a),h(i,"afterRender",l)}return t};class x{static isInBreak(e,t){var i=e.repeat||1/0,s=e.from,r=e.to-e.from,s=s<=t?(t-s)%i:i-(s-t)%i;return e.inclusive?s<=r:s<r&&0!=s}static lin2Val(e){var t=this.brokenAxis?.breakArray;if(!t||!u(e))return e;let i=e,s,r;for(r=0;r<t.length&&!((s=t[r]).from>=i);r++)(s.to<i||x.isInBreak(s,i))&&(i+=s.len);return i}static val2Lin(e){var t=this.brokenAxis?.breakArray;if(!t||!u(e))return e;let i=e,s,r;for(r=0;r<t.length;r++)if((s=t[r]).to<=e)i-=s.len;else{if(s.from>=e)break;if(x.isInBreak(s,e)){i-=e-s.from;break}}return i}constructor(e){this.hasBreaks=!1,this.axis=e}findBreakAt(t,e){return c(e,function(e){return e.from<t&&t<e.to})}isInAnyBreak(e,t){let i=this.axis,s=i.options.breaks||[],r=s.length,o,n,a;if(r&&u(e)){for(;r--;)x.isInBreak(s[r],e)&&(o=!0,n=n||m(s[r].showPoints,!i.isXAxis));a=o&&t?o&&!n:o}return a}setBreaks(e,t){let c=this,k=c.axis,i=k.chart.time,s=f(e)&&!!e.length&&!!Object.keys(e[0]).length;k.isDirty=c.hasBreaks!==s,c.hasBreaks=s,e?.forEach(e=>{e.from=i.parse(e.from)||0,e.to=i.parse(e.to)||0}),e!==k.options.breaks&&(k.options.breaks=k.userOptions.breaks=e),k.forceRedraw=!0,k.series.forEach(function(e){e.isDirty=!0}),s||k.val2lin!==x.val2Lin||(delete k.val2lin,delete k.lin2val),s&&(k.userOptions.ordinal=!1,k.lin2val=x.lin2Val,k.val2lin=x.val2Lin,k.setExtremes=function(i,s,e,t,r){if(c.hasBreaks){let e,t=this.options.breaks||[];for(;e=c.findBreakAt(i,t);)i=e.to;for(;e=c.findBreakAt(s,t);)s=e.from;s<i&&(s=i)}k.constructor.prototype.setExtremes.call(this,i,s,e,t,r)},k.setAxisTranslation=function(){if(k.constructor.prototype.setAxisTranslation.call(this),c.unitLength=void 0,c.hasBreaks){let e=k.options.breaks||[],t=[],i=[],s=m(k.pointRangePadding,0),r=0,o,n,a=k.userMin||k.min,l=k.userMax||k.max,d,h;e.forEach(function(e){n=e.repeat||1/0,u(a)&&u(l)&&(x.isInBreak(e,a)&&(a+=e.to%n-a%n),x.isInBreak(e,l)&&(l-=l%n-e.from%n))}),e.forEach(function(e){if(d=e.from,n=e.repeat||1/0,u(a)&&u(l)){for(;d-n>a;)d-=n;for(;d<a;)d+=n;for(h=d;h<l;h+=n)t.push({value:h,move:"in"}),t.push({value:h+e.to-e.from,move:"out",size:e.breakSize})}}),t.sort(function(e,t){return e.value===t.value?("in"!==e.move)-("in"!==t.move):e.value-t.value}),o=0,d=a,t.forEach(function(e){1===(o+="in"===e.move?1:-1)&&"in"===e.move&&(d=e.value),0===o&&u(d)&&(i.push({from:d,to:e.value,len:e.value-d-(e.size||0)}),r+=e.value-d-(e.size||0))}),c.breakArray=i,u(a)&&u(l)&&u(k.min)&&(c.unitLength=l-a-r+s,p(k,"afterBreaks"),k.staticScale?k.transA=k.staticScale:c.unitLength&&(k.transA*=(l-k.min+s)/c.unitLength),s&&(k.minPixelPadding=k.transA*(k.minPointOffset||0)),k.min=a,k.max=l)}}),m(t,!0)&&k.chart.redraw()}}e.Additions=x}(s=s||{}),s),k=t.default.Axis;var x=r.n(k);let b=l()["dateFormats"],{addEvent:y,defined:v,erase:P,find:G,isArray:A,isNumber:O,merge:B,pick:T,timeUnits:I,wrap:E}=l();function w(e){return l().isObject(e,!0)}function N(o,e){let n={width:0,height:0};return e.forEach(function(e){let t=o[e],i,s=0,r;w(t)&&(i=(r=w(t.label)?t.label:{}).getBBox?r.getBBox().height:0,r.textStr&&!O(r.textPxLength)&&(r.textPxLength=r.getBBox().width),s=O(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(s=Math.round(r.getBBox().width)),n.height=Math.max(i,n.height),n.width=Math.max(s,n.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(e=this.treeGrid.mapOfPosToGridNode[-1].height||0,n.width+=this.options.labels.indentation*(e-1)),n}function L(e){var t=this["grid"],i=3===this.side;if(i||e.apply(this),!t?.isColumn){let e=t?.columns||[];(e=i?e.slice().reverse():e).forEach(e=>{e.getOffset()})}i&&e.apply(this)}function C(g){if(!0===(this.options.grid||{}).enabled){let{axisTitle:e,height:t,horiz:i,left:s,offset:r,opposite:n,options:a,top:l,width:d}=this,h=this.tickSize(),c=e?.getBBox().width,p=a.title.x,f=a.title.y,u=T(a.title.margin,i?5:10),m=e?this.chart.renderer.fontMetrics(e).f:0,k=(i?l+t:s)+(i?1:-1)*(n?-1:1)*(h?h[0]/2:0)+(this.side===o.bottom?m:0);g.titlePosition.x=i?s-(c||0)/2-u+p:k+(n?d:0)+r+p,g.titlePosition.y=i?k-(n?t:0)+(n?m:-m)/2+r+f:l-u+f}}function M(){var{chart:r,options:{grid:o={}},userOptions:n}=this;if(o.enabled){var t=this;let e=t.options;e.labels.align=T(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.labelRotation=0,e.labels.rotation=0,e.minTickInterval=1}if(o.columns){let i=this.grid.columns=[],s=this.grid.columnIndex=0;for(;++s<o.columns.length;){let e=B(n,o.columns[s],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),t=new(x())(this.chart,e,"yAxis");t.grid.isColumn=!0,t.grid.columnIndex=s,P(r.axes,t),P(r[this.coll]||[],t),i.push(t)}}}function S(){let{axisTitle:e,grid:t,options:r}=this;if(!0===(r.grid||{}).enabled){var n=this.min||0,a=this.max||0,l=this.ticks[this.tickPositions[0]];if(e&&!this.chart.styledMode&&l?.slotWidth&&!this.options.title.style.width&&e.css({width:l.slotWidth+"px"}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid?.isOuterAxis()&&this.axisLine){var d,l=r.lineWidth;if(l){let e=this.getLinePath(l),t=e[0],i=e[1],s=(this.tickSize("tick")||[1])[0]*(this.side===o.top||this.side===o.left?-1:1);"M"===t[0]&&"L"===i[0]&&(this.horiz?(t[2]+=s,i[2]+=s):(t[1]+=s,i[1]+=s)),!this.horiz&&this.chart.marginRight&&(l=["L",this.left,t[2]||0],l=[t,l],d=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],d=[["M",i[1]||0,this.toPixels(a+this.tickmarkOffset)],d],this.grid.upperBorder||n%1==0||(this.grid.upperBorder=this.grid.renderBorder(l)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.upperBorder.animate({d:l})),this.grid.lowerBorder||a%1==0||(this.grid.lowerBorder=this.grid.renderBorder(d)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.lowerBorder.animate({d:d}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:r.lineColor,"stroke-width":r.lineWidth}),this.grid.axisLineExtra.animate({d:e})):this.grid.axisLineExtra=this.grid.renderBorder(e),this.axisLine[this.showAxis?"show":"hide"]()}}if((t?.columns||[]).forEach(e=>e.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent?.scrollbar)&&this.tickPositions.length){let e,t,i=this.tickmarkOffset,s=this.tickPositions[this.tickPositions.length-1],r=this.tickPositions[0];for(;(e=this.hiddenLabels.pop())&&e.element;)e.show();for(;(t=this.hiddenMarks.pop())&&t.element;)t.show();(e=this.ticks[r].label)&&(i<n-r?this.hiddenLabels.push(e.hide()):e.show()),(e=this.ticks[s].label)&&(i<s-a?this.hiddenLabels.push(e.hide()):e.show());let o=this.ticks[s].mark;o&&s-a<i&&0<s-a&&this.ticks[s].isLast&&this.hiddenMarks.push(o.hide())}}}function W(){let e=this.tickPositions?.info,t=this.options,i=t.grid||{},s=this.userOptions.labels||{};i.enabled&&(this.horiz?(this.series.forEach(e=>{e.options.pointRange=0}),e&&t.dateTimeLabelFormats&&t.labels&&!v(s.align)&&(!1===t.dateTimeLabelFormats[e.unitName].range||1<e.count)&&(t.labels.align="left",v(s.x)||(t.labels.x=3))):"treegrid"!==this.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function z(e){let d,t=this.options,i=e.userOptions,s=t&&w(t.grid)?t.grid:{};!0===s.enabled&&(d=B(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(v(i.linkedTo)&&!v(i.tickPixelInterval)&&(d.tickPixelInterval=350),v(i.tickPixelInterval)||!v(i.linkedTo)||v(i.tickPositioner)||v(i.tickInterval)||v(i.units)||(d.tickPositioner=function(r,o){var n=this.linkedParent?.tickPositions?.info;if(n){let t=d.units||[],i,e=1,s="year";for(let e=0;e<t.length;e++){var a=t[e];if(a&&a[0]===n.unitName){i=e;break}}var l=O(i)&&t[i+1],l=(l?(s=l[0]||"year",l=l[1],e=l?.[0]||1):"year"===n.unitName&&(e=10*n.count),I[s]);return this.tickInterval=l*e,this.chart.time.getTimeTicks({unitRange:l,count:e,unitName:s},r,o,this.options.startOfWeek)}})),B(!0,this.options,d),this.horiz&&(t.minPadding=T(i.minPadding,0),t.maxPadding=T(i.maxPadding,0)),O(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=s.borderWidth))}function R(e){var e=e.userOptions?.grid||{},t=e.columns;e.enabled&&t&&B(!0,this.options,t[0])}function D(){(this.grid.columns||[]).forEach(e=>e.setScale())}function j(e){var t,{horiz:i,maxLabelDimensions:s,options:{grid:r={}}}=this;r.enabled&&s&&(t=2*this.options.labels.distance,i=i?r.cellHeight||t+s.height:t+s.width,A(e.tickSize)?e.tickSize[0]=i:e.tickSize=[i,0])}function F(){this.axes.forEach(e=>{(e.grid?.columns||[]).forEach(e=>{e.setAxisSize(),e.setAxisTranslation()})})}function H(t){let e=this["grid"];(e.columns||[]).forEach(e=>e.destroy(t.keepEvents)),e.columns=void 0}function X(e){let t=e.userOptions||{},i=t.grid||{};i.enabled&&v(i.borderColor)&&(t.tickColor=t.lineColor=i.borderColor),this.grid||(this.grid=new $(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function q(r){let n=this.label,a=this.axis,l=a.reversed,d=a.chart,e=a.options.grid||{},h=a.options.labels,c=h.align,p=o[a.side],t=r.tickmarkOffset,i=a.tickPositions,f=this.pos-t,u=O(i[r.index+1])?i[r.index+1]-t:(a.max||0)+t,s=a.tickSize("tick"),m=s?s[0]:0,k=s?s[1]/2:0;if(!0===e.enabled){let e,t,i,s;var g,x;"top"===p?t=(e=a.top+a.offset)-m:"bottom"===p?e=(t=d.chartHeight-a.bottom+a.offset)+m:(e=a.top+a.len-(a.translate(l?u:f)||0),t=a.top+a.len-(a.translate(l?f:u)||0)),"right"===p?s=(i=d.chartWidth-a.right+a.offset)+m:"left"===p?i=(s=a.left+a.offset)-m:(i=Math.round(a.left+(a.translate(l?u:f)||0))-k,s=Math.min(Math.round(a.left+(a.translate(l?f:u)||0))-k,a.left+a.len)),this.slotWidth=s-i,r.pos.x="left"===c?i:"right"===c?s:i+(s-i)/2,r.pos.y=t+(e-t)/2,n&&(g=d.renderer.fontMetrics(n),x=n.getBBox().height,h.useHTML?r.pos.y+=g.b+-x/2:(x=Math.round(x/g.h),r.pos.y+=(g.b-(g.h-g.f))/2+-((x-1)*g.h)/2)),r.pos.x+=a.horiz&&h.x||0}}function V(n){let{axis:a,value:d}=n;if(a.options.grid?.enabled){let e,t=a.tickPositions,i=(a.linkedParent||a).series[0],s=d===t[0],r=d===t[t.length-1],o=i&&G(i.options.data,function(e){return e[a.isXAxis?"x":"y"]===d});o&&i.is("gantt")&&(e=B(o),l().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(e,a.chart)),n.isFirst=s,n.isLast=r,n.point=e}}function _(){let e=this.options,t=e.grid||{},i=this.categories,s=this.tickPositions,r=s[0],o=s[1],n=s[s.length-1],a=s[s.length-2],l=this.linkedParent?.min,d=this.linkedParent?.max,h=l||this.min,c=d||this.max,p=this.tickInterval,f=O(h)&&r+p<=h&&h<o,u=O(h)&&r<h&&h<r+p,m=O(c)&&c<n&&n-p<c,k=O(c)&&c<=n-p&&a<c;!0!==t.enabled||i||!this.isXAxis&&!this.isLinked||(!u&&!f||e.startOnTick||(s[0]=h),!m&&!k||e.endOnTick||(s[s.length-1]=c))}function U(e){var{options:{grid:t={}}}=this;return!0===t.enabled&&this.categories?this.tickInterval:e.apply(this,Array.prototype.slice.call(arguments,1))}(i=o=o||{})[i.top=0]="top",i[i.right=1]="right",i[i.bottom=2]="bottom",i[i.left=3]="left";class ${constructor(e){this.axis=e}isOuterAxis(){let i=this.axis,e=i.chart,t=i.grid.columnIndex,s=i.linkedParent?.grid.columns||i.grid.columns||[],r=t?i.linkedParent:i,o=-1,n=0;return 3===i.side&&!e.inverted&&s.length?!i.linkedParent:((e[i.coll]||[]).forEach((e,t)=>{e.side!==i.side||e.options.isInternal||(n=t,e===r&&(o=t))}),n===o&&(!O(t)||s.length===t))}renderBorder(e){let t=this.axis,i=t.chart.renderer,s=t.options,r=i.path(e).addClass("highcharts-axis-line").add(t.axisGroup);return i.styledMode||r.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),r}}b.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},b.W=function(e){let t=this.toParts(e),i=(t[7]+6)%7,s=t.slice(0);s[2]=t[2]-i+3;e=this.toParts(this.makeTime(s[0],0,1));return 4!==e[7]&&(t[1]=0,t[2]=1+(11-e[7])%7),(1+Math.floor((this.makeTime(s[0],s[1],s[2])-this.makeTime(e[0],e[1],e[2]))/6048e5)).toString()};let{extend:K,isNumber:Y,pick:J}=l();function Q(s,e,r,t,o,n){let i=n&&n.after,a=n&&n.before,l={data:t,depth:r-1,id:s,level:r,parent:e||""},d=0,h=0,c,p;"function"==typeof a&&a(l,n);e=(o[s]||[]).map(e=>{var t=Q(e.id,s,r+1,e,o,n),i=e.start||NaN,e=!0===e.milestone?i:e.end||NaN;return c=!Y(c)||i<c?i:c,p=!Y(p)||e>p?e:p,d=d+1+t.descendants,h=Math.max(t.height+1,h),t});return t&&(t.start=J(t.start,c),t.end=J(t.end,p)),K(l,{children:e,descendants:d,height:h}),"function"==typeof i&&i(l,n),l}let Z={getNode:Q,getTree:function(e,t){return Q("",null,1,null,function(){let r=[],i=e.reduce((e,t)=>{var{parent:i="",id:s}=t;return void 0===e[i]&&(e[i]=[]),e[i].push(t),s&&r.push(s),e},{});return Object.keys(i).forEach(e=>{var t;""!==e&&-1===r.indexOf(e)&&(t=i[e].map(function(e){let{...t}=e;return t}),i[""].push(...t),delete i[e])}),i}(),t)}},{addEvent:ee,removeEvent:et,isObject:ei,isNumber:es,pick:eo,wrap:er}=l();function en(){this.treeGrid||(this.treeGrid=new ed(this))}function el(e,t,i,s,r,o,n,a,l){let d,h=eo(this.options?.labels,o),c=this.pos,p=this.axis,f="treegrid"===p.type,u=e.apply(this,[t,i,s,r,h,n,a,l]);return f&&({width:o=0,padding:e=5*!p.linkedParent}=h&&ei(h.symbol,!0)?h.symbol:{},t=h&&es(h.indentation)?h.indentation:0,d=(p.treeGrid.mapOfPosToGridNode?.[c])?.depth||1,u.x+=o+2*e+(d-1)*t),u}function ea(e){let p,{pos:t,axis:i,label:f,treeGrid:s,options:r}=this,o=s?.labelIcon,n=f?.element,{treeGrid:a,options:l,chart:d,tickPositions:h}=i,c=a.mapOfPosToGridNode,u=eo(r?.labels,l?.labels),m=u&&ei(u.symbol,!0)?u.symbol:{},k=c?.[t],{descendants:g,depth:x}=k||{},b=k&&g&&0<g,y="treegrid"===i.type&&n,v=-1<h.indexOf(t),P="highcharts-treegrid-node-",O=P+"level-",A=d.styledMode;if(y&&k&&f.removeClass(RegExp(O+".*")).addClass(O+x),e.apply(this,Array.prototype.slice.call(arguments,1)),y&&b){p=a.isCollapsed(k);{var G=this,B={color:!A&&f.styles.color||"",collapsed:p,group:f.parentGroup,options:m,renderer:f.renderer,show:v,xy:f.xy};let e=G.treeGrid,t=!e.labelIcon,i=B.renderer,s=B.xy,r=B.options,o=r.width||0,n=r.height||0,a=r.padding??G.axis.linkedParent?0:5,l={x:s.x-o/2-a,y:s.y-n/2},d=B.collapsed?90:180,h=B.show&&es(l.y),c=e.labelIcon;c||(e.labelIcon=c=i.path(i.symbols[r.type](r.x||0,r.y||0,o,n)).addClass("highcharts-label-icon").add(B.group)),c[h?"show":"hide"](),i.styledMode||c.attr({cursor:"pointer",fill:eo(B.color,"#666666"),"stroke-width":1,stroke:r.lineColor,strokeWidth:r.lineWidth||0}),c[t?"attr":"animate"]({translateX:l.x,translateY:l.y,rotation:d})}f.addClass(P+(p?"collapsed":"expanded")).removeClass(P+(p?"expanded":"collapsed")),A||f.css({cursor:"pointer"}),[f,o].forEach(e=>{e&&!e.attachedTreeGridEvents&&(ee(e.element,"mouseover",function(){f.addClass("highcharts-treegrid-node-active"),f.renderer.styledMode||f.css({textDecoration:"underline"})}),ee(e.element,"mouseout",function(){var e=ei(u.style)?u.style:{};f.removeClass("highcharts-treegrid-node-active"),f.renderer.styledMode||f.css({textDecoration:e.textDecoration||"none"})}),ee(e.element,"click",function(){s.toggleCollapse()}),e.attachedTreeGridEvents=!0)})}else o&&(et(n),f?.css({cursor:"default"}),o.destroy())}class ed{static compose(e){let t=e.prototype;t.toggleCollapse||(ee(e,"init",en),er(t,"getLabelPosition",el),er(t,"renderLabel",ea),t.collapse=function(e){this.treeGrid.collapse(e)},t.expand=function(e){this.treeGrid.expand(e)},t.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var r;s&&i.treeGrid.mapOfPosToGridNode&&(r=t.pos,r=i.treeGrid.mapOfPosToGridNode[r],r=i.treeGrid.collapse(r),s.setBreaks(r,eo(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){let{pos:t,axis:i}=this.tick,{treeGrid:s,brokenAxis:r}=i,o=s.mapOfPosToGridNode;var n;r&&o&&(n=o[t],n=s.expand(n),r.setBreaks(n,eo(e,!0)))}toggleCollapse(e){let t=this.tick,i=t.axis,s=i.brokenAxis;var r;s&&i.treeGrid.mapOfPosToGridNode&&(r=t.pos,r=i.treeGrid.mapOfPosToGridNode[r],r=i.treeGrid.toggleCollapse(r),s.setBreaks(r,eo(e,!0)))}}let eh=t.default.Color;var ec=r.n(eh);let{extend:ep,isArray:ef,isNumber:eu,isObject:em,merge:eg,pick:ek,relativeLength:ex}=l(),eb={getLevelOptions:function(e){let o,t,i,n,s,r,a={};if(em(e))for(n=eu(e.from)?e.from:1,r=e.levels,t={},o=em(e.defaults)?e.defaults:{},ef(r)&&(t=r.reduce((e,t)=>{let i,s,r;return em(t)&&eu(t.level)&&(s=ek((r=eg({},t)).levelIsConstant,o.levelIsConstant),delete r.levelIsConstant,delete r.level,em(e[i=t.level+(s?0:n-1)])?eg(!0,e[i],r):e[i]=r),e},{})),s=eu(e.to)?e.to:1,i=0;i<=s;i++)a[i]=eg({},o,em(t[i])?t[i]:{});return a}}["getLevelOptions"],{addEvent:ey,isArray:ev,splat:eP,find:eG,fireEvent:eA,isObject:eO,isString:eB,merge:eT,pick:eI,removeEvent:eE,wrap:ew}=l();function eN(e,t){let i=e.collapseEnd||0,s=e.collapseStart||0;return t<=i&&(s-=.5),{from:s,to:i,showPoints:!1}}function eL(e,t,i){let a=[],r=[],l={},d=t||!1,h={},c=-1,s=Z.getTree(e,{after:function(e){let t=h[e.pos],i=0,s=0;t.children.forEach(function(e){s+=(e.descendants||0)+1,i=Math.max((e.height||0)+1,i)}),t.descendants=s,t.height=i,t.collapsed&&r.push(t)},before:function(e){let t,i,s=eO(e.data,!0)?e.data:{},r=eB(s.name)?s.name:"",o=l[e.parent],n=eO(o,!0)?h[o.pos]:null;d&&eO(n,!0)&&(t=eG(n.children,function(e){return e.name===r}))?(i=t.pos,t.nodes.push(e)):i=c++,h[i]||(h[i]=t={depth:n?n.depth+1:0,name:r,id:s.id,nodes:[e],children:[],pos:i},-1!==i&&a.push(r),eO(n,!0)&&n.children.push(t)),eB(e.id)&&(l[e.id]=e),t&&!0===s.collapsed&&(t.collapsed=!0),e.pos=i}});return{categories:a,mapOfIdToNode:l,mapOfPosToGridNode:h=function(e,a){let l=function(e,i,t){let s=e.nodes,r=i+(-1===i?0:a-1),o=(r-i)/2,n=i+o;return s.forEach(function(e){let t=e.data;eO(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=n}),(t[n]=e).pos=n,e.tickmarkOffset=.5+o,e.collapseStart=r+.5,e.children.forEach(function(e){l(e,r+1,t),r=(e.collapseEnd||0)-.5}),e.collapseEnd=r+.5,t};return l(e[-1],-1,{})}(h,i),collapsedNodes:r,tree:s}}function eC(h){let c=h.target;c.axes.filter(e=>"treegrid"===e.type).forEach(function(e){let t=e.options||{},i=t.labels,n=e.uniqueNames,s=c.time.parse(t.max),r=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty}),a=0,l,d;if(r){let o=[];if(l=e.series.reduce(function(t,i){let e=i.options.data||[],s=e[0],r=Array.isArray(s)&&!s.find(e=>"object"==typeof e);return o.push(r),i.visible&&(e.forEach(function(e){(r||i.options.keys?.length)&&(e=i.pointClass.prototype.optionsToObject.call({series:i},e),i.pointClass.setGanttPointAliases(e,c)),eO(e,!0)&&(e.seriesIndex=a,t.push(e))}),!0===n&&a++),t},[]),s&&l.length<s)for(let e=l.length;e<=s;e++)l.push({name:e+"​"});e.categories=(d=eL(l,n||!1,!0===n?a:1)).categories,e.treeGrid.mapOfPosToGridNode=d.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=d.tree,e.series.forEach(function(e,t){var i=(e.options.data||[]).map(function(i){return(o[t]||ev(i)&&e.options.keys&&e.options.keys.length)&&l.forEach(function(e){let t=eP(i);0<=t.indexOf(e.x||0)&&0<=t.indexOf(e.x2||0)&&(i=e)}),eO(i,!0)?eT(i):i});e.visible&&e.setData(i,!1)}),e.treeGrid.mapOptionsToLevel=eb({defaults:i,from:1,levels:i?.levels,to:e.treeGrid.tree?.height}),"beforeRender"===h.type&&(e.treeGrid.collapsedNodes=d.collapsedNodes)}})}function eM(t,i){let s=this.treeGrid.mapOptionsToLevel||{},r="treegrid"===this.type,o=this.ticks,n=o[i],a,l,d;r&&this.treeGrid.mapOfPosToGridNode?((a=s[(d=this.treeGrid.mapOfPosToGridNode[i]).depth])&&(l={labels:a}),!n&&e?o[i]=n=new e(this,i,void 0,void 0,{category:d.name,tickmarkOffset:d.tickmarkOffset,options:l}):(n.parameters.category=d.name,n.options=l,n.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function eS(e,t,i,s){let r=this,o="treegrid"===i.type;r.treeGrid||(r.treeGrid=new eR(r)),o&&(ey(t,"beforeRender",eC),ey(t,"beforeRedraw",eC),ey(t,"addSeries",function(e){e.options.data&&(e=eL(e.options.data,i.uniqueNames||!1,1),r.treeGrid.collapsedNodes=(r.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),ey(r,"foundExtremes",function(){r.treeGrid.collapsedNodes&&r.treeGrid.collapsedNodes.forEach(function(t){var e=r.treeGrid.collapse(t);r.brokenAxis&&(r.brokenAxis.setBreaks(e,!1),r.treeGrid.collapsedNodes&&(r.treeGrid.collapsedNodes=r.treeGrid.collapsedNodes.filter(e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd)))})}),ey(r,"afterBreaks",function(){"yAxis"===r.coll&&!r.staticScale&&r.chart.options.chart.height&&(r.isDirty=!0)}),i=eT({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},i,{reversed:!0})),e.apply(r,[t,i,s]),o&&(r.hasNames=!0,r.options.showLastLabel=!0)}function eW(e){let t=this.options,i=this.chart.time,s="number"==typeof t.linkedTo?this.chart[this.coll]?.[t.linkedTo]:void 0;var r;"treegrid"===this.type?(this.min=this.userMin??i.parse(t.min)??this.dataMin,this.max=this.userMax??i.parse(t.max)??this.dataMax,eA(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],s&&(r=s.getExtremes(),this.min=eI(r.min,r.dataMin),this.max=eI(r.max,r.dataMax),this.tickPositions=s.tickPositions),this.linkedParent=s):e.apply(this,Array.prototype.slice.call(arguments,1))}function ez(e){let i=this;"treegrid"===this.type&&i.visible&&i.tickPositions.forEach(function(e){let t=i.ticks[e];t.label?.attachedTreeGridEvents&&(eE(t.label.element),t.label.attachedTreeGridEvents=!1)}),e.apply(i,Array.prototype.slice.call(arguments,1))}class eR{static compose(i,t,s,r){var o,n;if(!i.keepProps.includes("treeGrid")){let t=i.prototype;i.keepProps.push("treeGrid"),ew(t,"generateTick",eM),ew(t,"init",eS),ew(t,"setTickInterval",eW),ew(t,"redraw",ez),t.utils={getNode:Z.getNode},e=e||r}return t=t,n=r,(o=i).keepProps.includes("grid")||(o.keepProps.push("grid"),o.prototype.getMaxLabelDimensions=N,E(o.prototype,"unsquish",U),E(o.prototype,"getOffset",L),y(o,"init",X),y(o,"afterGetTitlePosition",C),y(o,"afterInit",M),y(o,"afterRender",S),y(o,"afterSetAxisTranslation",W),y(o,"afterSetOptions",z),y(o,"afterSetOptions",R),y(o,"afterSetScale",D),y(o,"afterTickSize",j),y(o,"trimTicks",_),y(o,"destroy",H),y(t,"afterSetChartSize",F),y(n,"afterGetLabelPosition",q),y(n,"labelFormat",V)),g.compose(i,s),ed.compose(r),i}constructor(e){this.axis=e}setCollapsedStatus(r){let e=this.axis,o=e.chart;e.series.forEach(function(i){var s=i.options.data;if(r.id&&s){let e=o.get(r.id),t=s[i.data.indexOf(e)];e&&t&&(e.collapsed=r.collapsed,t.collapsed=r.collapsed)}})}collapse(e){let t=this.axis,i=t.options.breaks||[],s=eN(e,t.max);return i.push(s),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){let t=this.axis,i=t.options.breaks||[],s=eN(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===s.to&&t.from===s.from||e.push(t),e},[])}getTickPositions(){let i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,r=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){t=+t;return t>=s&&t<=r&&!i.brokenAxis?.isInAnyBreak(t)&&e.push(t),e},[])}isCollapsed(e){let t=this.axis,i=t.options.breaks||[],s=eN(e,t.max);return i.some(function(e){return e.from===s.from&&e.to===s.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}let eD=l(),ej=(eR.compose(eD.Axis,eD.Chart,eD.Series,eD.Tick),l());export{ej as default};