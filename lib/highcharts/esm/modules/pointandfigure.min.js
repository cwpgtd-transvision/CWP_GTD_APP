import*as t from"../highcharts.js";import"./stock.js";var e,r={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},d:(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let s=t.default;var o=r.n(s);r.d({},{});let i=t.default.SeriesRegistry;var a=r.n(i);let{scatter:{prototype:{pointClass:l}}}=a()["seriesTypes"],n=class extends l{resolveMarker(){var e=this.series.options;this.marker=this.options.marker=this.upTrend?e.markerUp:e.marker,this.color=this.options.marker.lineColor}resolveColor(){super.resolveColor(),this.resolveMarker()}getClassName(){return super.getClassName.call(this)+(this.upTrend?" highcharts-point-up":" highcharts-point-down")}},p=t.default.RendererRegistry;var h=r.n(p);let u=[];function d(e,t,r,s){return[["M",e,t],["L",e+r,t+s],["M",e+r,t],["L",e,t+s],["Z"]]}(e=e||{}).compose=function(e){-1===u.indexOf(e)&&(u.push(e),e.prototype.symbols.cross=d);e=h().getRendererType();u.indexOf(e)&&u.push(e)};let c=e,f=o()["composed"],{scatter:m,column:{prototype:g}}=a().seriesTypes,{extend:y,merge:b,pushUnique:x,isNumber:k,relativeLength:C}=o();class M extends m{constructor(){super(...arguments),this.allowDG=!1}static compose(e){x(f,"pointandfigure")&&c.compose(e)}init(){super.init.apply(this,arguments),this.pnfDataGroups=[]}getProcessedData(){let s;if(!this.pnfDataGroups)return{modified:this.dataTable.modified,cropped:!1,cropStart:0,closestPointRange:1};let e=this.dataTable.modified,t=this.options,o=this.getColumn("x",!0),r=this.getColumn("y",!0),i=t.boxSize,n=k(i)?i:C(i,r[0]),l=this.pnfDataGroups,a=n*t.reversalAmount;function p(e,t,r){let s=l[l.length-1],o=t?1:-1,i=Math.floor(o*(e-r)/n);for(let e=1;e<=i;e++){var a=r+n*e*o;s.y.push(a)}}if(this.calculatedBoxSize=n,this.isDirtyData||0===l.length){for(let e=this.pnfDataGroups.length=0;e<r.length;e++){var h=o[e],u=r[e],d=r[0];if(u-d>=n){s=!0,l.push({x:h,y:[u],upTrend:s});break}if(d-u>=n){s=!1,l.push({x:h,y:[u],upTrend:s});break}}r.forEach((e,t)=>{var t=o[t],r=(r=l[l.length-1].y)[r.length-1];s&&(e-r>=n&&p(e,s,r),r-e>=a&&(s=!1,l.push({x:t,y:[],upTrend:s}),p(e,s,r))),s||(r-e>=n&&p(e,s,r),e-r>=a&&(s=!0,l.push({x:t,y:[],upTrend:s}),p(e,s,r)))})}let c=[],m=[],f=[];return l.forEach(e=>{let t=e.x,r=e.upTrend;e.y.forEach(e=>{m.push(t),f.push(e),c.push({x:t,y:e,upTrend:r})})}),e.setColumn("x",m),e.setColumn("y",f),this.pnfDataGroups=l,this.processedData=c,{modified:e,cropped:!1,cropStart:0,closestPointRange:1}}markerAttribs(e){let t=this.options,r={},s=e.pos();return r.width=this.markerWidth,r.height=this.markerHeight,s&&r.width&&r.height&&(r.x=s[0]-Math.round(r.width)/2,r.y=s[1]-Math.round(r.height)/2),t.crisp&&r.x&&(r.x=Math.floor(r.x)),r}translate(){var e=this.getColumnMetrics(),t=this.calculatedBoxSize;this.markerWidth=e.width+e.paddedWidth+e.offset,this.markerHeight=this.yAxis.toPixels(0)-this.yAxis.toPixels(t),super.translate()}}M.defaultOptions=b(m.defaultOptions,{boxSize:"1%",reversalAmount:3,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Close: {point.y:.2f}<br/>',headerFormat:""},turboThreshold:0,groupPadding:.2,pointPadding:.1,pointRange:null,dataGrouping:{enabled:!1},markerUp:{symbol:"cross",lineColor:"#00FF00",lineWidth:2},marker:{symbol:"circle",fillColor:"transparent",lineColor:"#FF0000",lineWidth:2},legendSymbol:"lineMarker"}),y(M.prototype,{takeOrdinalPosition:!0,pnfDataGroups:[],getColumnMetrics:g.getColumnMetrics,pointClass:n,sorted:!0}),a().registerSeriesType("pointandfigure",M);let v=o(),D=(M.compose(v.Renderer),o());export{D as default};