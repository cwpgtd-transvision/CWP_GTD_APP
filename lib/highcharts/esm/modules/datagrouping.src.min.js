import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";var __webpack_require__={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},d:(t,e)=>{for(var i in e)__webpack_require__.o(e,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var ColumnUtils,DateTimeAxis,external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);const ApproximationRegistry={},DataGrouping_ApproximationRegistry=ApproximationRegistry,{arrayMax,arrayMin,correctFloat,extend,isNumber}=external_highcharts_src_js_default_default();function average(t){var e=t.length;let i=sum(t);return i=isNumber(i)&&e?correctFloat(i/e):i}function averages(){const e=[];return[].forEach.call(arguments,function(t){e.push(average(t))}),void 0===e[0]?void 0:e}function ApproximationDefaults_close(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0}function high(t){return t.length?arrayMax(t):t.hasNulls?null:void 0}function hlc(t,e,i){if(t=DataGrouping_ApproximationRegistry.high(t),e=DataGrouping_ApproximationRegistry.low(e),i=DataGrouping_ApproximationRegistry.close(i),isNumber(t)||isNumber(e)||isNumber(i))return[t,e,i]}function low(t){return t.length?arrayMin(t):t.hasNulls?null:void 0}function ohlc(t,e,i,a){if(t=DataGrouping_ApproximationRegistry.open(t),e=DataGrouping_ApproximationRegistry.high(e),i=DataGrouping_ApproximationRegistry.low(i),a=DataGrouping_ApproximationRegistry.close(a),isNumber(t)||isNumber(e)||isNumber(i)||isNumber(a))return[t,e,i,a]}function ApproximationDefaults_open(t){return t.length?t[0]:t.hasNulls?null:void 0}function range(t,e){return t=DataGrouping_ApproximationRegistry.low(t),e=DataGrouping_ApproximationRegistry.high(e),isNumber(t)||isNumber(e)?[t,e]:null===t&&null===e?null:void 0}function sum(t){let e=t.length,i;if(!e&&t.hasNulls)i=null;else if(e)for(i=0;e--;)i+=t[e];return i}const ApproximationDefaults={average:average,averages:averages,close:ApproximationDefaults_close,high:high,hlc:hlc,low:low,ohlc:ohlc,open:ApproximationDefaults_open,range:range,sum:sum},DataGrouping_ApproximationDefaults=(extend(DataGrouping_ApproximationRegistry,ApproximationDefaults),ApproximationDefaults),common={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],DataGroupingDefaults={common:common,seriesSpecific:seriesSpecific,units:units},DataGrouping_DataGroupingDefaults=DataGroupingDefaults,{addEvent,extend:DataGroupingAxisComposition_extend,merge,pick}=external_highcharts_src_js_default_default();let AxisConstructor;function applyGrouping(e){const i=this,t=i.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!e.hasExtremesChanged)})}function compose(t){var e=(AxisConstructor=t).prototype;e.applyGrouping||(addEvent(t,"afterSetScale",onAfterSetScale),addEvent(t,"postProcessData",applyGrouping),DataGroupingAxisComposition_extend(e,{applyGrouping:applyGrouping,getGroupPixelWidth:getGroupPixelWidth,setDataGrouping:setDataGrouping}))}function getGroupPixelWidth(){var t=this.series;let e=t.length,i=0,a=!1,o,r;for(;e--;)(r=t[e].options.dataGrouping)&&(i=Math.max(i,pick(r.groupPixelWidth,DataGrouping_DataGroupingDefaults.common.groupPixelWidth)),o=(t[e].dataTable.modified||t[e].dataTable).rowCount,(t[e].groupPixelWidth||o>this.chart.plotSizeX/i||o&&r.forced)&&(a=!0));return a?i:0}function onAfterSetScale(){this.series.forEach(function(t){t.hasProcessed=!1})}function setDataGrouping(e,t){let i;if(t=pick(t,!0),e=e||{forced:!1,units:null},this instanceof AxisConstructor)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:e},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof e?e:merge(e,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}const DataGroupingAxisComposition={compose:compose},DataGrouping_DataGroupingAxisComposition=DataGroupingAxisComposition,Data_ColumnUtils=(!function(t){t.setLength=function(t,e,i){return Array.isArray(t)?(t.length=e,t):t[i?"subarray":"slice"](0,e)},t.splice=function(t,e,i,a,o=[]){if(Array.isArray(t))return Array.isArray(o)||(o=Array.from(o)),{removed:t.splice(e,i,...o),array:t};const r=Object.getPrototypeOf(t).constructor;var a=t[a?"subarray":"slice"](e,e+i),n=t.length-i+o.length;const s=new r(n);return s.set(t.subarray(0,e),0),s.set(o,e),s.set(t.subarray(e+i),e+o.length),{removed:a,array:s}}}(ColumnUtils=ColumnUtils||{}),ColumnUtils),{setLength,splice}=Data_ColumnUtils,{fireEvent,objectEach,uniqueKey}=external_highcharts_src_js_default_default();class DataTableCore{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||uniqueKey(),(this.modified=this).rowCount=0,this.versionTag=uniqueKey();let i=0;objectEach(t.columns||{},(t,e)=>{this.columns[e]=t.slice(),i=Math.max(i,t.length)}),this.applyRowCount(i)}applyRowCount(i){this.rowCount=i,objectEach(this.columns,(t,e)=>{t.length!==i&&(this.columns[e]=setLength(t,i))})}deleteRows(a,o=1){if(0<o&&a<this.rowCount){let i=0;objectEach(this.columns,(t,e)=>{this.columns[e]=splice(t,a,o).array,i=t.length}),this.rowCount=i}fireEvent(this,"afterDeleteRows",{rowIndex:a,rowCount:o}),this.versionTag=uniqueKey()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(e,t){return(t||Object.keys(this.columns)).map(t=>this.columns[t]?.[e])}setColumn(t,e=[],i=0,a){this.setColumns({[t]:e},i,a)}setColumns(t,e,i){let a=this.rowCount;objectEach(t,(t,e)=>{this.columns[e]=t.slice(),a=t.length}),this.applyRowCount(a),i?.silent||(fireEvent(this,"afterSetColumns"),this.versionTag=uniqueKey())}setRow(t,a=this.rowCount,o,r){const n=this["columns"],s=o?this.rowCount+1:a+1;objectEach(t,(t,e)=>{let i=n[e]||!1!==r?.addColumns&&new Array(s);i&&(o?i=splice(i,a,0,!0,[t]).array:i[a]=t,n[e]=i)}),s>this.rowCount&&this.applyRowCount(s),r?.silent||(fireEvent(this,"afterSetRows"),this.versionTag=uniqueKey())}}const Data_DataTableCore=DataTableCore,{addEvent:DateTimeAxis_addEvent,getMagnitude,normalizeTickInterval,timeUnits}=external_highcharts_src_js_default_default(),Axis_DateTimeAxis=(!function(t){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function a(){"datetime"!==this.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new e(this))}t.compose=function(t){if(!t.keepProps.includes("dateTime")){t.keepProps.push("dateTime");const e=t.prototype;e.getTimeTicks=i,DateTimeAxis_addEvent(t,"afterSetType",a)}return t};class e{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];let a=i[i.length-1],o=timeUnits[a[0]],r=a[1],n;for(n=0;n<i.length;n++)if(a=i[n],o=timeUnits[a[0]],r=a[1],i[n+1])if(t<=(o*r[r.length-1]+timeUnits[i[n+1][0]])/2)break;o===timeUnits.year&&t<5*o&&(r=[1,2,5]);e=normalizeTickInterval(t/o,r,"year"===a[0]?Math.max(getMagnitude(t/o),1):1);return{unitRange:o,count:e,unitName:a[0]}}getXDateFormat(t,e){const i=this["axis"],a=i.chart.time;return i.closestPointRange?a.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||a.resolveDTLFormat(e.year).main:a.resolveDTLFormat(e.day).main}}t.Additions=e}(DateTimeAxis=DateTimeAxis||{}),DateTimeAxis),external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const{prototype:seriesProto}=external_highcharts_src_js_default_SeriesRegistry_default()["series"],{addEvent:DataGroupingSeriesComposition_addEvent,defined,error,extend:DataGroupingSeriesComposition_extend,isNumber:DataGroupingSeriesComposition_isNumber,merge:DataGroupingSeriesComposition_merge,pick:DataGroupingSeriesComposition_pick,splat}=external_highcharts_src_js_default_default(),baseGeneratePoints=seriesProto.generatePoints;function adjustExtremes(t,e){defined(e[0])&&DataGroupingSeriesComposition_isNumber(t.min)&&DataGroupingSeriesComposition_isNumber(t.dataMin)&&e[0]<t.min&&((!defined(t.options.min)&&t.min<=t.dataMin||t.min===t.dataMin)&&(t.min=Math.min(e[0],t.min)),t.dataMin=Math.min(e[0],t.dataMin)),defined(e[e.length-1])&&DataGroupingSeriesComposition_isNumber(t.max)&&DataGroupingSeriesComposition_isNumber(t.dataMax)&&e[e.length-1]>t.max&&((!defined(t.options.max)&&DataGroupingSeriesComposition_isNumber(t.dataMax)&&t.max>=t.dataMax||t.max===t.dataMax)&&(t.max=Math.max(e[e.length-1],t.max)),t.dataMax=Math.max(e[e.length-1],t.dataMax))}function anchorPoints(i,a,o){var r=i.options.dataGrouping,n=i.currentDataGrouping&&i.currentDataGrouping.gapSize,s=i.getColumn("x");if(r&&s.length&&n&&i.groupMap){var p=a.length-1,u=r.anchor,l=r.firstAnchor,r=r.lastAnchor;let t=a.length-1,e=0;if(l&&s[0]>=a[0]){e++;var g=i.groupMap[0].start,c=i.groupMap[0].length;let t;DataGroupingSeriesComposition_isNumber(g)&&DataGroupingSeriesComposition_isNumber(c)&&(t=g+(c-1)),a[0]={start:a[0],middle:a[0]+.5*n,end:a[0]+n,firstPoint:s[0],lastPoint:t&&s[t]}[l]}if(0<p&&r&&n&&a[p]>=o-n&&(t--,g=i.groupMap[i.groupMap.length-1].start,a[p]={start:a[p],middle:a[p]+.5*n,end:a[p]+n,firstPoint:g&&s[g],lastPoint:s[s.length-1]}[r]),u&&"start"!==u)for(var h=n*{middle:.5,end:1}[u];t>=e;)a[t]+=h,t--}}function DataGroupingSeriesComposition_applyGrouping(t){const r=this,n=r.chart,e=r.options,s=e.dataGrouping,i=!1!==r.allowDG&&s&&DataGroupingSeriesComposition_pick(s.enabled,n.options.isStock),p=r.reserveSpace(),u=this.currentDataGrouping;let l,g,a=!1;i&&!r.requireSorting&&(r.requireSorting=a=!0);t=!1===skipDataGrouping(r,t)||!i;if(a&&(r.requireSorting=!1),!t){r.destroyGroupedData();const c=!s.groupAll&&r.dataTable.modified||r.dataTable,h=r.getColumn("x",!s.groupAll),m=h,d=n.plotSizeX,_=r.xAxis,f=_.getExtremes(),D=_.options.ordinal,G=r.groupPixelWidth;let a,o;if(G&&m&&c.rowCount&&d&&DataGroupingSeriesComposition_isNumber(f.min)){o=!0,r.isDirty=!0,r.points=null;const x=f.min,y=f.max,A=D&&_.ordinal&&_.ordinal.getGroupIntervalFactor(x,y,r)||1,C=G*(y-x)/d*A,b=_.getTimeTicks(Axis_DateTimeAxis.Additions.prototype.normalizeTimeTickInterval(C,s.units||DataGrouping_DataGroupingDefaults.units),Math.min(x,m[0]),Math.max(y,m[m.length-1]),_.options.startOfWeek,h,r.closestPointRange),v=seriesProto.groupData.apply(r,[c,b,s.approximation]);let t=v.modified,e=t.getColumn("x",!0),i=0;for(s?.smoothed&&t.rowCount&&(s.firstAnchor="firstPoint",s.anchor="middle",s.lastAnchor="lastPoint",error(32,!1,n,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),a=1;a<b.length;a++)b.info.segmentStarts&&-1!==b.info.segmentStarts.indexOf(a)||(i=Math.max(b[a]-b[a-1],i));(l=b.info).gapSize=i,r.closestPointRange=b.info.totalRange,r.groupMap=v.groupMap,r.currentDataGrouping=l,anchorPoints(r,e||[],y),p&&e&&adjustExtremes(_,e),s.groupAll&&(r.allGroupedTable=t,g=r.cropData(t,_.min||0,_.max||0),t=g.modified,e=t.getColumn("x"),r.cropStart=g.start),r.dataTable.modified=t}else r.groupMap=void 0,r.currentDataGrouping=void 0;r.hasGroupedData=o,r.preventGraphAnimation=(u&&u.totalRange)!==(l&&l.totalRange)}}function DataGroupingSeriesComposition_compose(t){var e,i=t.prototype;i.applyGrouping||(e=t.prototype.pointClass,DataGroupingSeriesComposition_addEvent(e,"update",function(){if(this.dataGroup)return error(24,!1,this.series.chart),!1}),DataGroupingSeriesComposition_addEvent(t,"afterSetOptions",onAfterSetOptions),DataGroupingSeriesComposition_addEvent(t,"destroy",destroyGroupedData),DataGroupingSeriesComposition_extend(i,{applyGrouping:DataGroupingSeriesComposition_applyGrouping,destroyGroupedData:destroyGroupedData,generatePoints:generatePoints,getDGApproximation:getDGApproximation,groupData:groupData}))}function destroyGroupedData(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function generatePoints(){baseGeneratePoints.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function getDGApproximation(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function groupData(t,e,i){const a=t.getColumn("x",!0)||[],o=t.getColumn("y",!0),r=this,n=r.data,s=r.options&&r.options.data,p=[],u=new Data_DataTableCore,l=[],g=t.rowCount,c=!!o,h=[],m=r.pointArrayMap,d=m&&m.length,_=["x"].concat(m||["y"]),f=(m||["y"]).map(()=>[]),D=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let G,x,y,A=0,C=0;const b="function"==typeof i?i:i&&DataGrouping_ApproximationRegistry[i]?DataGrouping_ApproximationRegistry[i]:DataGrouping_ApproximationRegistry[r.getDGApproximation&&r.getDGApproximation()||"average"];if(d){let t=m.length;for(;t--;)h.push([])}else h.push([]);var v=d||1;for(let t=0;t<=g;t++)if(!(a[t]<e[0])){for(;void 0!==e[A+1]&&a[t]>=e[A+1]||t===g;){if(G=e[A],r.dataGroupInfo={start:D?C:r.cropStart+C,length:h[0].length,groupStart:G},y=b.apply(r,h),r.pointClass&&!defined(r.dataGroupInfo.options)&&(r.dataGroupInfo.options=DataGroupingSeriesComposition_merge(r.pointClass.prototype.optionsToObject.call({series:r},r.options.data[r.cropStart+C])),_.forEach(function(t){delete r.dataGroupInfo.options[t]})),void 0!==y){p.push(G);var S=splat(y);for(let t=0;t<S.length;t++)f[t].push(S[t]);l.push(r.dataGroupInfo)}C=t;for(let t=0;t<v;t++)h[t].length=0,h[t].hasNulls=!1;if(A+=1,t===g)break}if(t===g)break;if(m){var T,M=D?t:r.cropStart+t,E=n&&n[M]||r.pointClass.prototype.applyOptions.apply({series:r},[s[M]]);for(let t=0;t<d;t++)T=E[m[t]],DataGroupingSeriesComposition_isNumber(T)?h[t].push(T):null===T&&(h[t].hasNulls=!0)}else x=c?o[t]:null,DataGroupingSeriesComposition_isNumber(x)?h[0].push(x):null===x&&(h[0].hasNulls=!0)}const P={x:p};return(m||["y"]).forEach((t,e)=>{P[t]=f[e]}),u.setColumns(P),{groupMap:l,modified:u}}function onAfterSetOptions(t){const e=t.options,i=this.type,a=this.chart.options.plotOptions,o=this.useCommonDataGrouping&&DataGrouping_DataGroupingDefaults.common,r=DataGrouping_DataGroupingDefaults.seriesSpecific;let n=external_highcharts_src_js_default_default().defaultOptions.plotOptions[i].dataGrouping;a&&(r[i]||o)&&(t=this.chart.rangeSelector,n=n||DataGroupingSeriesComposition_merge(DataGrouping_DataGroupingDefaults.common,r[i]),e.dataGrouping=DataGroupingSeriesComposition_merge(o,n,a.series&&a.series.dataGrouping,a[i].dataGrouping,this.userOptions.dataGrouping,!e.isInternal&&t&&DataGroupingSeriesComposition_isNumber(t.selected)&&t.buttonOptions[t.selected].dataGrouping))}function skipDataGrouping(t,e){return!(t.isCartesian&&!t.isDirty&&!t.xAxis.isDirty&&!t.yAxis.isDirty&&!e)}const DataGroupingSeriesComposition={compose:DataGroupingSeriesComposition_compose,groupData:groupData},DataGrouping_DataGroupingSeriesComposition=DataGroupingSeriesComposition,external_highcharts_src_js_default_Templating_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.Templating;var external_highcharts_src_js_default_Templating_default=__webpack_require__.n(external_highcharts_src_js_default_Templating_namespaceObject);const format=external_highcharts_src_js_default_Templating_default()["format"],composed=external_highcharts_src_js_default_default()["composed"],{addEvent:DataGrouping_addEvent,extend:DataGrouping_extend,isNumber:DataGrouping_isNumber,pick:DataGrouping_pick,pushUnique}=external_highcharts_src_js_default_default();function DataGrouping_compose(t,e,i){DataGrouping_DataGroupingAxisComposition.compose(t),DataGrouping_DataGroupingSeriesComposition.compose(e),i&&pushUnique(composed,"DataGrouping")&&DataGrouping_addEvent(i,"headerFormatter",onTooltipHeaderFormatter)}function onTooltipHeaderFormatter(t){const e=this.chart,i=e.time,a=t.point,o=a.series,r=o.options,n=o.tooltipOptions,s=r.dataGrouping,p=o.xAxis;let u=n.xDateFormat||"",l,g,c,h,m,d=n[t.isFooter?"footerFormat":"headerFormat"];var _,f;p&&"datetime"===p.options.type&&s&&DataGrouping_isNumber(a.key)&&(g=o.currentDataGrouping,c=s.dateTimeLabelFormats||DataGrouping_DataGroupingDefaults.common.dateTimeLabelFormats,g?(h=c[g.unitName],1===g.count?u=h[0]:(u=h[1],l=h[2])):!u&&c&&p.dateTime&&(u=p.dateTime.getXDateFormat(a.x,n.dateTimeLabelFormats)),f=(_=DataGrouping_pick(o.groupMap?.[a.index].groupStart,a.key))+(g?.totalRange||0)-1,m=i.dateFormat(u,_),l&&(m+=i.dateFormat(l,f)),o.chart.styledMode&&(d=this.styledModeFormat(d)),t.text=format(d,{point:DataGrouping_extend(a,{key:m}),series:o},e),t.preventDefault())}const DataGroupingComposition={compose:DataGrouping_compose,groupData:DataGrouping_DataGroupingSeriesComposition.groupData},DataGrouping=DataGroupingComposition,G=external_highcharts_src_js_default_default(),datagrouping_src=(G.dataGrouping=G.dataGrouping||{},G.dataGrouping.approximationDefaults=G.dataGrouping.approximationDefaults||DataGrouping_ApproximationDefaults,G.dataGrouping.approximations=G.dataGrouping.approximations||DataGrouping_ApproximationRegistry,DataGrouping.compose(G.Axis,G.Series,G.Tooltip),external_highcharts_src_js_default_default());export{datagrouping_src as default};