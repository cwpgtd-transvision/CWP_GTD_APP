import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__exporting_src_js_3afc400f__ from"./exporting.src.js";var __webpack_require__={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},d:(t,e)=>{for(var a in e)__webpack_require__.o(e,a)&&!__webpack_require__.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);const{isSafari,win,win:{document:doc}}=external_highcharts_src_js_default_default(),error=external_highcharts_src_js_default_default()["error"],domurl=win.URL||win.webkitURL||win;function dataURLtoBlob(t){t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(t&&3<t.length&&win.atob&&win.ArrayBuffer&&win.Uint8Array&&win.Blob&&domurl.createObjectURL){const e=win.atob(t[3]),a=new win.ArrayBuffer(e.length),o=new win.Uint8Array(a);for(let t=0;t<o.length;++t)o[t]=e.charCodeAt(t);return domurl.createObjectURL(new win.Blob([o],{type:t[1]}))}}function downloadURL(t,e){const a=win.navigator,o=doc.createElement("a");if("string"==typeof t||t instanceof String||!a.msSaveOrOpenBlob){if(t=""+t,1e3<a.userAgent.length)throw new Error("Input too long");var n=/Edge\/\d+/.test(a.userAgent),r=isSafari&&"string"==typeof t&&0===t.indexOf("data:application/pdf");if((r||n||2e6<t.length)&&!(t=dataURLtoBlob(t)||""))throw new Error("Failed to convert to blob");if(void 0!==o.download)o.href=t,o.download=e,doc.body.appendChild(o),o.click(),doc.body.removeChild(o);else try{if(!win.open(t,"chart"))throw new Error("Failed to open window")}catch{win.location.href=t}}else a.msSaveOrOpenBlob(t,e)}function getScript(n){return new Promise((t,e)=>{const a=doc.getElementsByTagName("head")[0],o=doc.createElement("script");o.type="text/javascript",o.src=n,o.onload=()=>{t()},o.onerror=()=>{e(error("Error loading script "+n))},a.appendChild(o)})}const DownloadURL={dataURLtoBlob:dataURLtoBlob,downloadURL:downloadURL,getScript:getScript},Extensions_DownloadURL=DownloadURL,external_highcharts_src_js_default_AST_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.AST;var external_highcharts_src_js_default_AST_default=__webpack_require__.n(external_highcharts_src_js_default_AST_namespaceObject);const external_highcharts_src_js_default_Chart_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.Chart;var ExportData,external_highcharts_src_js_default_Chart_default=__webpack_require__.n(external_highcharts_src_js_default_Chart_namespaceObject);const exporting={csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},menuItemDefinitions:{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.exporting?.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.exporting?.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.exporting?.wrapLoading(this.exporting.toggleDataTable)}}},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0,showExportInProgress:!0},lang={downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table",exportInProgress:"Exporting..."},ExportDataDefaults={exporting:exporting,lang:lang},ExportData_ExportDataDefaults=ExportDataDefaults,{getOptions,setOptions}=external_highcharts_src_js_default_default(),ExportData_downloadURL=Extensions_DownloadURL["downloadURL"],{composed,doc:ExportData_doc,win:ExportData_win}=external_highcharts_src_js_default_default(),{addEvent,defined,extend,find,fireEvent,isNumber,pick,pushUnique}=external_highcharts_src_js_default_default(),ExportData_ExportData=(!function(){function h(){this.wrapLoading(()=>{var t=this.getCSV(!0);ExportData_downloadURL(e(t,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(t),this.getFilename()+".csv")})}function p(){this.wrapLoading(()=>{var t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";ExportData_downloadURL(e(t,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+(t=t,ExportData_win.btoa(unescape(encodeURIComponent(t)))),this.getFilename()+".xls")})}function e(t,e){const a=ExportData_win.navigator,o=ExportData_win.URL||ExportData_win.webkitURL||ExportData_win;try{if(a.msSaveOrOpenBlob&&ExportData_win.MSBlobBuilder){const n=new ExportData_win.MSBlobBuilder;return n.append(t),n.getBlob("image/svg+xml")}return o.createObjectURL(new ExportData_win.Blob(["\ufeff"+t],{type:e}))}catch(t){}}function _(t){let n="";const r=this.getDataRows(),e=this.options?.csv,i=pick(e?.decimalPoint,","!==e?.itemDelimiter&&t?1.1.toLocaleString()[1]:"."),s=pick(e?.itemDelimiter,","===i?";":","),l=e?.lineDelimiter;return r.forEach((t,e)=>{let a="",o=t.length;for(;o--;)"number"==typeof(a="string"==typeof(a=t[o])?`"${a}"`:a)&&"."!==i&&(a=a.toString().replace(".",i)),t[o]=a;t.length=r.length?r[0].length:0,n+=t.join(s),e<r.length-1&&(n+=l)}),n}function u(n){function r(t,e,a){if(b.columnHeaderFormatter){var o=b.columnHeaderFormatter(t,e,a);if(!1!==o)return o}return!t&&l?l:!t.bindAxes&&c&&l?t.options.title&&t.options.title.text||(t.dateTime?c:l):n?{columnTitle:(1<(a||0)?e:t.name)||"",topLevelColumnTitle:t.name}:t.name+(1<(a||0)?" ("+e+")":"")}function x(a,t,o){const n={},r={};return t.forEach(function(t){var e=(a.keyToAxis&&a.keyToAxis[t]||t)+"Axis",e=isNumber(o)?a.chart[e][o]:a[e];n[t]=e&&e.categories||[],r[t]=e&&e.dateTime}),{categoryMap:n,dateTimeValueAxisMap:r}}const t=this.chart,m=t.hasParallelCoordinates,w=t.time,b=this.options?.csv||{},i=t.xAxis,D={},e=[],s=[],E=[],a=t.options.lang,o=a.exportData,l=o?.categoryHeader,c=o?.categoryDatetimeHeader,y=[];let d,h,T,v=0,p,_;for(p in t.series.forEach(function(l){const t=l.options.keys,c=l.xAxis,d=t||(a=c,o=(e=l).pointArrayMap||["y"],e.data.some(t=>void 0!==t.y&&t.name)&&a&&!a.categories&&"name"!==e.exportKey?["x",...o]:o),h=d.length,p=!l.requireSorting&&{},_=i.indexOf(c);var e,a,o;let u=x(l,d),g,f;if(!1!==l.options.includeInDataExport&&!l.options.isInternal&&!1!==l.visible){for(find(y,function(t){return t[0]===_})||y.push([_,v]),f=0;f<h;)T=r(l,d[f],d.length),E.push(T.columnTitle||T),n&&s.push(T.topLevelColumnTitle||T),f++;g={chart:l.chart,autoIncrement:l.autoIncrement,options:l.options,pointArrayMap:l.pointArrayMap,index:l.index},l.options.data?.forEach(function(t,e){var a={series:g};let o,n,r;m&&(u=x(l,d,e)),l.pointClass.prototype.applyOptions.apply(a,[t]);t=l.data[e]&&l.data[e].name;if(o=(a.x??"")+","+t,f=0,(!c||"name"===l.exportKey||!m&&c&&c.hasNames&&t)&&(o=t),p&&(p[o]&&(o+="|"+e),p[o]=!0),D[o]){var e=o+","+D[o].pointers[l.index],i=o;D[o].pointers[l.index]&&(D[e]||(D[e]=[],D[e].xValues=[],D[e].pointers=[]),o=e),D[i].pointers[l.index]+=1}else{D[o]=[],D[o].xValues=[];const s=[];for(let t=0;t<l.chart.series.length;t++)s[t]=0;D[o].pointers=s,D[o].pointers[l.index]=1}for(D[o].x=a.x,D[o].name=t,D[o].xValues[_]=a.x;f<h;)n=d[f],r=l.pointClass.prototype.getNestedProperty.apply(a,[n]),D[o][v+f]=pick(u.categoryMap[n][r],u.dateTimeValueAxisMap[n]?w.dateFormat(b.dateFormat,r):null,r),f++}),v+=f}}),D)Object.hasOwnProperty.call(D,p)&&e.push(D[p]);let u,g;for(h=n?[s,E]:[E],v=y.length;v--;)u=y[v][0],g=y[v][1],d=i[u],e.sort(function(t,e){return t.xValues[u]-e.xValues[u]}),_=r(d),h[0].splice(g,0,_),n&&h[1]&&h[1].splice(g,0,_),e.forEach(function(t){let e=t.name;d&&!defined(e)&&(e=d.dateTime?(t.x instanceof Date&&(t.x=t.x.getTime()),w.dateFormat(b.dateFormat,t.x)):d.categories?pick(d.names[t.x],d.categories[t.x],t.x):t.x),t.splice(g,0,e)});return h=h.concat(e),fireEvent(t,"exportData",{dataRows:h}),h}function g(t){const e=t=>{if(!t.tagName||"#text"===t.tagName)return t.textContent||"";const a=t.attributes;let o="<"+t.tagName;return a&&Object.keys(a).forEach(t=>{var e=a[t];o+=` ${t}="${e}"`}),o=(o+=">")+(t.textContent||""),(t.children||[]).forEach(t=>{o+=e(t)}),o+=`</${t.tagName}>`};t=this.getTableAST(t);return e(t)}function f(t){let o=0;const e=[],p=this,a=p.chart,n=a.options,i=t?1.1.toLocaleString()[1]:".",_=pick(p.options.useMultiLevelHeaders,!0),r=p.getDataRows(_),s=_?r.shift():null,l=r.shift(),u=function(t,e){let a=t.length;if(e.length!==a)return!1;for(;a--;)if(t[a]!==e[a])return!1;return!0},g=function(t,e,a,o){let n=pick(o,""),r="highcharts-text"+(e?" "+e:"");return"number"==typeof n?(n=n.toString(),","===i&&(n=n.replace(".",i)),r="highcharts-number"):o||(r="highcharts-empty"),{tagName:t,attributes:a=extend({class:r},a),textContent:n}};t=(p.options||{}).tableCaption;!1!==t&&e.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:"string"==typeof t?t:n.title?.text||n.lang.chartTitle});for(let t=0,e=r.length;t<e;++t)r[t].length>o&&(o=r[t].length);e.push(function(t,e,a){const o=[];let n=0,r=a||e&&e.length,i,s=0,l;if(_&&t&&e&&!u(t,e)){const c=[];for(;n<r;++n)if((i=t[n])===t[n+1])++s;else if(s)c.push(g("th","highcharts-table-topheading",{scope:"col",colspan:s+1},i)),s=0;else{i===e[n]?p.options.useRowspanHeaders?(l=2,delete e[n]):(l=1,e[n]=""):l=1;const d=g("th","highcharts-table-topheading",{scope:"col"},i);1<l&&d.attributes&&(d.attributes.valign="top",d.attributes.rowspan=l),c.push(d)}o.push({tagName:"tr",children:c})}if(e){const h=[];for(n=0,r=e.length;n<r;++n)void 0!==e[n]&&h.push(g("th",null,{scope:"col"},e[n]));o.push({tagName:"tr",children:h})}return{tagName:"thead",children:o}}(s,l||[],Math.max(o,l?.length||0)));const c=[];r.forEach(function(e){const a=[];for(let t=0;t<o;t++)a.push(g(t?"td":"th",null,t?{}:{scope:"row"},e[t]));c.push({tagName:"tr",children:a})}),e.push({tagName:"tbody",children:c});t={tree:{tagName:"table",id:"highcharts-data-table-"+a.index,children:e}};return fireEvent(a,"afterGetTableAST",t),t.tree}function x(){this.toggleDataTable(!1)}function m(t){const e=this.chart,a=(t=pick(t,!this.isDataTableVisible))&&!this.dataTableDiv;if(a&&(this.dataTableDiv=ExportData_doc.createElement("div"),this.dataTableDiv.className="highcharts-data-table",e.renderTo.parentNode.insertBefore(this.dataTableDiv,e.renderTo.nextSibling)),this.dataTableDiv){const s=this.dataTableDiv.style,l=s.display;if(s.display=t?"block":"none",t){this.dataTableDiv.innerHTML=external_highcharts_src_js_default_AST_default().emptyHTML;const c=new(external_highcharts_src_js_default_AST_default())([this.getTableAST()]);c.addToDOM(this.dataTableDiv),fireEvent(e,"afterViewData",{element:this.dataTableDiv,wasHidden:a||l!==s.display})}else fireEvent(e,"afterHideData")}this.isDataTableVisible=t;const o=this.divElements,n=this.options,r=n.buttons?.contextButton.menuItems,i=e.options.lang;n&&n.menuItemDefinitions&&i&&i.viewData&&i.hideData&&r&&o&&((t=o[r.indexOf("viewData")])&&external_highcharts_src_js_default_AST_default().setElementHTML(t,this.isDataTableVisible?i.hideData:i.viewData))}function w(){this.toggleDataTable(!0)}function b(t){const e=this.chart,a=Boolean(this.options.showExportInProgress),o=ExportData_win.requestAnimationFrame||setTimeout;o(()=>{a&&e.showLoading(e.options.lang.exportInProgress),o(()=>{try{t.call(this)}finally{a&&e.hideLoading()}})})}function D(){const n=this.exporting,r=n?.dataTableDiv,i=(t,e)=>t.children[e].textContent,s=(o,n)=>(t,e)=>{var a;return a=i(n?t:e,o),e=i(n?e:t,o),""===a||""===e||isNaN(a)||isNaN(e)?a.toString().localeCompare(e):a-e};if(r&&n.options.allowTableSorting){const t=r.querySelector("thead tr");t&&t.childNodes.forEach(a=>{const o=r.querySelector("tbody");a.addEventListener("click",function(){const t=[...r.querySelectorAll("tr:not(thead tr)")],e=[...a.parentNode.children];n&&(t.sort(s(e.indexOf(a),n.ascendingOrderInTable=!n.ascendingOrderInTable)).forEach(t=>{o?.appendChild(t)}),e.forEach(e=>{["highcharts-sort-ascending","highcharts-sort-descending"].forEach(t=>{e.classList.contains(t)&&e.classList.remove(t)})}),a.classList.add(n.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending"))})})}}function E(){this.options?.exporting?.showTable&&!this.options.chart.forExport&&this.exporting?.viewData()}function y(){this.exporting?.dataTableDiv?.remove()}(ExportData||(ExportData={})).compose=function(t,e,a){if(pushUnique(composed,"ExportData")){extend(external_highcharts_src_js_default_Chart_default().prototype,{downloadCSV:function(){return this.exporting?.downloadCSV()},downloadXLS:function(){return this.exporting?.downloadXLS()},getCSV:function(t){return this.exporting?.getCSV(t)},getDataRows:function(t){return this.exporting?.getDataRows(t)},getTable:function(t){return this.exporting?.getTable(t)},getTableAST:function(t){return this.exporting?.getTableAST(t)},hideData:function(){return this.exporting?.hideData()},toggleDataTable:function(t){return this.exporting?.toggleDataTable(t)},viewData:function(){return this.exporting?.viewData()}});const o=e.prototype;if(!o.downloadCSV){addEvent(t,"afterViewData",D),addEvent(t,"render",E),addEvent(t,"destroy",y),o.downloadCSV=h,o.downloadXLS=p,o.getCSV=_,o.getDataRows=u,o.getTable=g,o.getTableAST=f,o.hideData=x,o.toggleDataTable=m,o.wrapLoading=b,o.viewData=w,setOptions(ExportData_ExportDataDefaults);const n=getOptions().exporting?.buttons?.contextButton?.menuItems,{arearange:r,gantt:i,map:s,mapbubble:l,treemap:c,xrange:d}=(n&&n.push("separator","downloadCSV","downloadXLS","viewData"),a.types);r&&(r.prototype.keyToAxis={low:"y",high:"y"}),i&&(i.prototype.exportKey="name",i.prototype.keyToAxis={start:"x",end:"x"}),s&&(s.prototype.exportKey="name"),l&&(l.prototype.exportKey="name"),c&&(c.prototype.exportKey="name"),d&&(d.prototype.keyToAxis={x2:"x"})}}}}(),ExportData);var x=t=>{var e={};return __webpack_require__.d(e,t),e},y=t=>()=>t;const external_exporting_src_js_namespaceObject=x({}),G=external_highcharts_src_js_default_default(),export_data_src=(G.dataURLtoBlob=G.dataURLtoBlob||Extensions_DownloadURL.dataURLtoBlob,G.downloadURL=G.downloadURL||Extensions_DownloadURL.downloadURL,ExportData_ExportData.compose(G.Chart,G.Exporting,G.Series),external_highcharts_src_js_default_default());export{export_data_src as default};