import*as t from"../highcharts.js";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var i in o)e.o(o,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};let o=t.default;var i=e.n(o);let s=i()["composed"],{addEvent:a,pushUnique:n}=i();function r(t){let u=this,{trigger:e,selection:o,reset:i,from:x={},to:X={}}=t;"xy"===u.zooming.type&&("mousewheel"===e||"pan"===e||o||i)&&u.series.forEach(g=>{if(!g.isCartesian&&!1!==g.options.zoomEnabled){g.isDirty=!0,u.isDirtyBox=!0,t.hasZoomed=!0;var{plotSizeX:c=0,plotSizeY:z=0}=u;if("pan"===e&&g.zooming)g.zooming.panX-=(X.x||0)/c,g.zooming.panY-=(X.y||0)/z;else if(Object.keys(x).length){let{width:t=1,height:e=1}=X,o=Math.abs(g.group?.scaleX||1),{x:i=0,y:a=0,width:s=1,height:r=1}=x,n=i,l=a,p=g.zooming?.scale||g.group?.scaleX||1,h=(g.zooming?.width||1)*c,m=(g.zooming?.height||1)*z;if(Object.keys(X).length)h=s/t*h,m=s/e*m,i-=u.plotLeft,a-=u.plotTop,n=i-h/2,l=a-m/2,p=Math.min(c/h,z/m);else{s/=o,r/=o,p=Math.min(c/s,z/r);let t=0,e=0;g.zooming&&(t=g.zooming.x*c,e=g.zooming.y*z);var f=(i-u.plotLeft)/(c-s*o||1),d=(a-u.plotTop)/(z-r*o||1);h=s,m=r,i-=u.plotLeft,a-=u.plotTop,i/=o,a/=o,i+=t+s*f,a+=e+r*d,n-=u.plotLeft,l-=u.plotTop,n/=o,l/=o,n+=t,l+=e}g.zooming={x:n/c,y:l/z,zoomX:i/c,zoomY:a/z,width:h/c,height:m/z,scale:p,panX:0,panY:0},p<1&&delete g.zooming}else delete g.zooming}})}function l(t){let{chart:e,group:o,zooming:i}=this,{plotSizeX:a=0,plotSizeY:s=0}=e,{scale:r,translateX:n,translateY:l,name:p}=t,h=0,m=0,g=n,c=l;e.inverted&&([a,s]=[s,a]),o&&i&&(r=i.scale,h=i.zoomX*a*(r-Math.abs(o.scaleX||1)),m=i.zoomY*s*(r-Math.abs(o.scaleY||1)),"series"===p&&(i.x=Math.max(0,Math.min(1-i.width,i.x+i.panX/r)),h+=i.panX*a,i.panX=0,i.y=Math.max(0,Math.min(1-i.height,i.y+i.panY/r)),m+=i.panY*s,i.panY=0),n=(o.translateX||g)-h,(l=(o.translateY||c)-m)>c?l=c:(o.translateY||c)-m<s*(1-r)+c&&(l=s*(1-r)+c),n>g?n=g:n<a*(1-r)+g&&(n=a*(1-r)+g),t.scale=r,t.translateX=n,t.translateY=l)}function p(){let t;this.series.find(t=>!!t.zooming)&&(this.zoomClipRect||(this.zoomClipRect=this.renderer.clipRect()),this.zoomClipRect.attr({x:this.plotLeft,y:this.plotTop,width:this.inverted?this.clipBox.height:this.clipBox.width,height:this.inverted?this.clipBox.width:this.clipBox.height}),t=this.zoomClipRect),this.seriesGroup?.clip(t),this.dataLabelsGroup?.clip(t)}function h(t){var e,o,i,a;t.point.series&&!t.point.series.isCartesian&&t.point.series.group&&t.point.series.zooming&&(e=t.point.series.chart,o=t.point.series.zooming.scale,i=t.point.series.group.translateX||0,a=t.point.series.group.translateY||0,t.ret[0]=t.ret[0]*o+i-e.plotLeft,t.ret[1]=t.ret[1]*o+a-e.plotTop)}function m(t){t.skipAxes&&this.series.forEach(t=>{t.group&&t.zooming&&t.group.attr({translateX:0,translateY:0,scaleX:1,scaleY:1})})}let c=class{static compose(t,e,o){n(s,"NonCartesianSeriesZoom")&&(a(t,"afterDrawChartBox",p),a(t,"transform",r),a(t,"afterSetChartSize",m),a(e,"getPlotBox",l),a(o,"getAnchor",h))}},g=i(),f=(g.NonCartesianSeriesZoom=g.NonCartesianSeriesZoom||c,g.NonCartesianSeriesZoom.compose(g.Chart,g.Series,g.Tooltip),i());export{f as default};