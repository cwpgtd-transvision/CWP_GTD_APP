import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";var __webpack_require__={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(r,{a:r}),r},d:(e,r)=>{for(var a in r)__webpack_require__.o(r,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);const addEvent=external_highcharts_src_js_default_default()["addEvent"];function addEvents(r,e,a,t){const o=e.map(e=>addEvent(r,e,a,t));return function(){for(const e of o)e()}}function countProps(e){return Object.keys(e).length}function getFirstProp(e){for(const r in e)if(Object.hasOwnProperty.call(e,r))return e[r]}function getNormalizedEvent(e,r){return(void 0===e.chartX||void 0===e.chartY)&&r.pointer?.normalize(e)||e}const DragDropUtilities={addEvents:addEvents,countProps:countProps,getFirstProp:getFirstProp,getNormalizedEvent:getNormalizedEvent},DraggablePoints_DragDropUtilities=DragDropUtilities,DragDropDefaults={dragSensitivity:2,dragHandle:{className:"highcharts-drag-handle",color:"#fff",lineColor:"rgba(0, 0, 0, 0.6)",lineWidth:1,zIndex:901},guideBox:{default:{className:"highcharts-drag-box-default",lineWidth:1,lineColor:"#888",color:"rgba(0, 0, 0, 0.1)",cursor:"move",zIndex:900}}},DraggablePoints_DragDropDefaults=DragDropDefaults,animObject=external_highcharts_src_js_default_default()["animObject"],{addEvents:DraggableChart_addEvents,countProps:DraggableChart_countProps,getFirstProp:DraggableChart_getFirstProp,getNormalizedEvent:DraggableChart_getNormalizedEvent}=DraggablePoints_DragDropUtilities,doc=external_highcharts_src_js_default_default()["doc"],{addEvent:DraggableChart_addEvent,isArray,merge,pick}=external_highcharts_src_js_default_default();function addDragDropEvents(r){var e=r.container;isChartDraggable(r)&&(DraggableChart_addEvents(e,["mousedown","touchstart"],e=>{mouseDown(DraggableChart_getNormalizedEvent(e,r),r)}),DraggableChart_addEvents(e,["mousemove","touchmove"],e=>{mouseMove(DraggableChart_getNormalizedEvent(e,r),r)},{passive:!1}),DraggableChart_addEvent(e,"mouseleave",e=>{mouseUp(DraggableChart_getNormalizedEvent(e,r),r)}),r.unbindDragDropMouseUp=DraggableChart_addEvents(doc,["mouseup","touchend"],e=>{mouseUp(DraggableChart_getNormalizedEvent(e,r),r)},{passive:!1}),r.hasAddedDragDropEvents=!0,DraggableChart_addEvent(r,"destroy",()=>{r.unbindDragDropMouseUp&&r.unbindDragDropMouseUp()}))}function chartHideDragHandles(){const e=this.dragHandles||{};if(e){for(const r of Object.keys(e))e[r].destroy&&e[r].destroy();delete this.dragHandles}}function chartSetGuideBoxState(e,r){const a=this.dragGuideBox,t=merge(DraggablePoints_DragDropDefaults.guideBox,r),o=merge(t.default,t[e]);return a.attr({class:o.className,stroke:o.lineColor,strokeWidth:o.lineWidth,fill:o.color,cursor:o.cursor,zIndex:o.zIndex}).css({pointerEvents:"none"})}function chartZoomOrPanKeyPressed(e){var r=this,a=r.options.chart||{},a=a.panKey&&a.panKey+"Key";return e[r.zooming.key&&r.zooming.key+"Key"]||e[a]}function compose(e){const r=e.prototype;r.hideDragHandles||(r.hideDragHandles=chartHideDragHandles,r.setGuideBoxState=chartSetGuideBoxState,r.zoomOrPanKeyPressed=chartZoomOrPanKeyPressed,DraggableChart_addEvent(e,"render",onChartRender))}function dragMove(e,r){const a=r.series,t=a.chart,o=t.dragDropData,i=merge(a.options.dragDrop,r.options.dragDrop),n=i.draggableX,s=i.draggableY,g=o.origin,d=o.updateProp;let l=e.chartX-g.chartX,p=e.chartY-g.chartY;e=l;t.inverted&&(l=-p,p=-e),pick(i.liveRedraw,!0)?(updatePoints(t,!1),r.showDragHandles()):d?resizeGuideBox(r,l,p):t.dragGuideBox.translate(n?l:0,s?p:0),g.prevdX=l,g.prevdY=p}function flipResizeSide(e){return{left:"right",right:"left",top:"bottom",bottom:"top"}[e]}function getGroupedPoints(r){const a=r.series,t=a.options.data||[],o=a.options.dragDrop.groupBy;let i=[];if(a.boosted&&isArray(t))for(let e=0,r=t.length;e<r;++e)i.push(new a.pointClass(a,t[e])),i[i.length-1].index=e;else i=a.points;return r.options[o]?i.filter(e=>e.options[o]===r.options[o]):[r]}function getNewPoints(e,r){const a=e.point,t=a.series,o=t.chart,i=merge(t.options.dragDrop,a.options.dragDrop),n={},s=e.updateProp,g={},d=a.series.dragDropProps;for(const p in d){var l=d[p];s&&(s!==p||!l.resize||l.optionName&&!1===i[l.optionName])||(s||l.move&&("x"===l.axis&&i.draggableX||"y"===l.axis&&i.draggableY))&&(o.mapView?n["x"===p?"lon":"lat"]=l:n[p]=l)}for(const h of s?[a]:e.groupedPoints)g[h.id]={point:h,newValues:h.getDropValues(e.origin,r,n)};return g}function getPositionSnapshot(e,r,a){const t={chartX:e.chartX,chartY:e.chartY,guideBox:a&&{x:a.attr("x"),y:a.attr("y"),width:a.attr("width"),height:a.attr("height")},points:{}};for(const o of r){const i=o.series.dragDropProps||{},n={};for(const s of Object.keys(i)){const g=i[s],d=o.series[g.axis+"Axis"];n[s]=o[s],o.series.chart.mapView&&o.plotX&&o.plotY?n[s+"Offset"]="x"===s?o.plotX:o.plotY:n[s+"Offset"]=d.toPixels(o[s])-(d.horiz?e.chartX:e.chartY)}n.point=o,t.points[o.id]=n}return t}function hasDraggedPastSensitivity(e,r,a){var r=r.dragDropData.origin,t=r.chartX,r=r.chartY,o=e.chartX,e=e.chartY;return a<Math.sqrt((o-t)*(o-t)+(e-r)*(e-r))}function initDragDrop(e,r){const a=getGroupedPoints(r),t=r.series,o=t.chart;let i;pick(t.options.dragDrop&&t.options.dragDrop.liveRedraw,!0)||(o.dragGuideBox=i=t.getGuideBox(a),o.setGuideBoxState("default",t.options.dragDrop.guideBox).add(t.group)),o.dragDropData={origin:getPositionSnapshot(e,a,i),point:r,groupedPoints:a,isDragging:!0}}function isChartDraggable(e){let r=e.series?e.series.length:0;if(e.hasCartesianSeries&&!e.polar||e.mapView)for(;r--;)if(e.series[r].options.dragDrop&&isSeriesDraggable(e.series[r]))return!0;return!1}function isPointMovable(e){var r=e.series,a=r.chart,t=r.options.dragDrop||{},e=e.options&&e.options.dragDrop,o=r.dragDropProps;let i,n,s;for(const g in o)"x"===(i=o[g]).axis&&i.move?n=!0:"y"===i.axis&&i.move&&(s=!0);return(t.draggableX&&n||t.draggableY&&s)&&!(e&&!1===e.draggableX&&!1===e.draggableY)&&(!(!r.yAxis||!r.xAxis)||a.mapView)}function isSeriesDraggable(e){const r=["draggableX","draggableY"],a=e.dragDropProps||{};var t;for(const i of Object.keys(a))(t=a[i]).optionName&&r.push(t.optionName);let o=r.length;for(;o--;)if(e.options.dragDrop[r[o]])return!0}function mouseDown(e,r){const a=r.hoverPoint,t=merge(a&&a.series.options.dragDrop,a&&a.options.dragDrop),o=t.draggableX||!1,i=t.draggableY||!1;r.cancelClick=!1,!o&&!i||r.zoomOrPanKeyPressed(e)||r.hasDraggedAnnotation||(r.dragDropData&&r.dragDropData.isDragging?mouseUp(e,r):a&&isPointMovable(a)&&(r.mouseIsDown=!1,initDragDrop(e,a),a.firePointEvent("dragStart",e)))}function mouseMove(i,n){if(!n.zoomOrPanKeyPressed(i)){const s=n.dragDropData;let e,r,a,t,o;s&&s.isDragging&&s.point.series&&(r=(e=s.point).series.options.dragDrop,i.preventDefault(),s.draggedPastSensitivity||(s.draggedPastSensitivity=hasDraggedPastSensitivity(i,n,pick(e.options.dragDrop&&e.options.dragDrop.dragSensitivity,r&&r.dragSensitivity,DraggablePoints_DragDropDefaults.dragSensitivity))),s.draggedPastSensitivity&&(s.newPoints=getNewPoints(s,i),a=s.newPoints,o=1===(t=DraggableChart_countProps(a))?DraggableChart_getFirstProp(a):null,e.firePointEvent("drag",{origin:s.origin,newPoints:s.newPoints,newPoint:o&&o.newValues,newPointId:o&&o.point.id,numNewPoints:t,chartX:i.chartX,chartY:i.chartY},function(){dragMove(i,e)})))}}function mouseUp(e,r){var a=r.dragDropData;if(a&&a.isDragging&&a.draggedPastSensitivity&&a.point.series){const t=a.point,o=a.newPoints,i=DraggableChart_countProps(o),n=1===i?DraggableChart_getFirstProp(o):null;r.dragHandles&&r.hideDragHandles(),e.preventDefault(),r.cancelClick=!0,t.firePointEvent("drop",{origin:a.origin,chartX:e.chartX,chartY:e.chartY,newPoints:o,numNewPoints:i,newPoint:n&&n.newValues,newPointId:n&&n.point.id},function(){updatePoints(r)})}delete r.dragDropData,r.dragGuideBox&&(r.dragGuideBox.destroy(),delete r.dragGuideBox)}function onChartRender(){this.hasAddedDragDropEvents||addDragDropEvents(this)}function resizeGuideBox(e,r,a){const t=e.series,o=t.chart,i=o.dragDropData,n=t.dragDropProps[i.updateProp],s=i.newPoints[e.id].newValues,g="function"==typeof n.resizeSide?n.resizeSide(s,e):n.resizeSide;n.beforeResize&&n.beforeResize(o.dragGuideBox,s,e),resizeRect(o.dragGuideBox,"x"===n.axis&&t.xAxis.reversed||"y"===n.axis&&t.yAxis.reversed?flipResizeSide(g):g,{x:"x"===n.axis?r-(i.origin.prevdX||0):0,y:"y"===n.axis?a-(i.origin.prevdY||0):0})}function resizeRect(e,r,a){let t;switch(r){case"left":t={x:e.attr("x")+a.x,width:Math.max(1,e.attr("width")-a.x)};break;case"right":t={width:Math.max(1,e.attr("width")+a.x)};break;case"top":t={y:e.attr("y")+a.y,height:Math.max(1,e.attr("height")-a.y)};break;case"bottom":t={height:Math.max(1,e.attr("height")+a.y)}}e.attr(t)}function updatePoints(e,r){var a=e.dragDropData.newPoints,r=animObject(r);e.isDragDropAnimating=!0;let t;for(const o of Object.keys(a))(t=a[o]).point.update(t.newValues,!1);e.redraw(r),setTimeout(()=>{delete e.isDragDropAnimating,e.hoverPoint&&!e.dragHandles&&e.hoverPoint.showDragHandles()},r.duration)}const DraggableChart={compose:compose,flipResizeSide:flipResizeSide,initDragDrop:initDragDrop},DraggablePoints_DraggableChart=DraggableChart,DragDropProps_flipResizeSide=DraggablePoints_DraggableChart["flipResizeSide"],{isNumber,merge:DragDropProps_merge,pick:DragDropProps_pick}=external_highcharts_src_js_default_default(),line={x:{axis:"x",move:!0},y:{axis:"y",move:!0}},flags=line,column={x:{axis:"x",move:!0},y:{axis:"y",move:!1,resize:!0,beforeResize:(e,r,a)=>{var t=DragDropProps_pick(a.yBottom,a.series.translatedThreshold),o=e.attr("y"),i=isNumber(a.stackY)?a.stackY-(a.y||0):a.series.options.threshold||0,r=i+r.y;(a.series.yAxis.reversed?r<i:i<=r)?(a=e.attr("height"),e.attr({height:Math.max(0,Math.round(a+(t?t-o-a:0)))})):e.attr({y:Math.round(o+(t?t-o:0))})},resizeSide:(e,r)=>{const a=r.series.chart,t=a.dragHandles,o=e.y>=(r.series.options.threshold||0)?"top":"bottom",i=DragDropProps_flipResizeSide(o);return t&&t[i]&&(t[i].destroy(),delete t[i]),o},handlePositioner:e=>{var r=e.shapeArgs||e.graphic&&e.graphic.getBBox()||{},a=e.series.yAxis.reversed,t=e.series.options.threshold||0,e=e.y||0;return{x:r.x||0,y:!a&&t<=e||a&&e<t?r.y||0:(r.y||0)+(r.height||0)}},handleFormatter:e=>{var e=e.shapeArgs||{},r=e.r||0,e=e.width||0,a=e/2;return[["M",r,0],["L",a-5,0],["A",1,1,0,0,0,5+a,0],["A",1,1,0,0,0,a-5,0],["M",5+a,0],["L",e-r,0]]}}},boxplot={x:column.x,low:{optionName:"draggableLow",axis:"y",move:!0,resize:!0,resizeSide:"bottom",handlePositioner:e=>({x:e.shapeArgs.x||0,y:e.lowPlot}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e<=r.q1},q1:{optionName:"draggableQ1",axis:"y",move:!0,resize:!0,resizeSide:"bottom",handlePositioner:e=>({x:e.shapeArgs.x||0,y:e.q1Plot}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e<=r.median&&e>=r.low},median:{axis:"y",move:!0},q3:{optionName:"draggableQ3",axis:"y",move:!0,resize:!0,resizeSide:"top",handlePositioner:e=>({x:e.shapeArgs.x||0,y:e.q3Plot}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e<=r.high&&e>=r.median},high:{optionName:"draggableHigh",axis:"y",move:!0,resize:!0,resizeSide:"top",handlePositioner:e=>({x:e.shapeArgs.x||0,y:e.highPlot}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e>=r.q3}},errorbar={x:column.x,low:{...boxplot.low,propValidate:(e,r)=>e<=r.high},high:{...boxplot.high,propValidate:(e,r)=>e>=r.low}},bullet={x:column.x,y:column.y,target:{optionName:"draggableTarget",axis:"y",move:!0,resize:!0,resizeSide:"top",handlePositioner:e=>{var r=e.targetGraphic.getBBox();return{x:e.barX,y:r.y+r.height/2}},handleFormatter:column.y.handleFormatter}},ohlc={x:column.x,low:{optionName:"draggableLow",axis:"y",move:!0,resize:!0,resizeSide:"bottom",handlePositioner:e=>({x:e.shapeArgs.x,y:e.plotLow}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e<=r.open&&e<=r.close},high:{optionName:"draggableHigh",axis:"y",move:!0,resize:!0,resizeSide:"top",handlePositioner:e=>({x:e.shapeArgs.x,y:e.plotHigh}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e>=r.open&&e>=r.close},open:{optionName:"draggableOpen",axis:"y",move:!0,resize:!0,resizeSide:e=>e.open>=e.close?"top":"bottom",handlePositioner:e=>({x:e.shapeArgs.x,y:e.plotOpen}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e<=r.high&&e>=r.low},close:{optionName:"draggableClose",axis:"y",move:!0,resize:!0,resizeSide:e=>e.open>=e.close?"bottom":"top",handlePositioner:e=>({x:e.shapeArgs.x,y:e.plotClose}),handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e<=r.high&&e>=r.low}},waterfall={x:column.x,y:DragDropProps_merge(column.y,{handleFormatter:e=>!e.isSum&&!e.isIntermediateSum&&column?.y?.handleFormatter?.(e)||null})},columnrange={x:{axis:"x",move:!0},low:{optionName:"draggableLow",axis:"y",move:!0,resize:!0,resizeSide:"bottom",handlePositioner:e=>{e=e.shapeArgs||e.graphic.getBBox();return{x:e.x||0,y:(e.y||0)+(e.height||0)}},handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e<=r.high},high:{optionName:"draggableHigh",axis:"y",move:!0,resize:!0,resizeSide:"top",handlePositioner:e=>{e=e.shapeArgs||e.graphic.getBBox();return{x:e.x||0,y:e.y||0}},handleFormatter:column.y.handleFormatter,propValidate:(e,r)=>e>=r.low}},arearange={x:columnrange.x,low:{optionName:"draggableLow",axis:"y",move:!0,resize:!0,resizeSide:"bottom",handlePositioner:e=>{e=e.graphics&&e.graphics[0]&&e.graphics[0].getBBox();return e?{x:e.x+e.width/2,y:e.y+e.height/2}:{x:-999,y:-999}},handleFormatter:arearangeHandleFormatter,propValidate:columnrange.low.propValidate},high:{optionName:"draggableHigh",axis:"y",move:!0,resize:!0,resizeSide:"top",handlePositioner:e=>{e=e.graphics&&e.graphics[1]&&e.graphics[1].getBBox();return e?{x:e.x+e.width/2,y:e.y+e.height/2}:{x:-999,y:-999}},handleFormatter:arearangeHandleFormatter,propValidate:columnrange.high.propValidate}},xrange={y:{axis:"y",move:!0},x:{optionName:"draggableX1",axis:"x",move:!0,resize:!0,resizeSide:"left",handlePositioner:e=>xrangeHandlePositioner(e,"x"),handleFormatter:horizHandleFormatter,propValidate:(e,r)=>e<=r.x2},x2:{optionName:"draggableX2",axis:"x",move:!0,resize:!0,resizeSide:"right",handlePositioner:e=>xrangeHandlePositioner(e,"x2"),handleFormatter:horizHandleFormatter,propValidate:(e,r)=>e>=r.x}},gantt={y:xrange.y,start:DragDropProps_merge(xrange.x,{optionName:"draggableStart",validateIndividualDrag:e=>!e.milestone}),end:DragDropProps_merge(xrange.x2,{optionName:"draggableEnd",validateIndividualDrag:e=>!e.milestone})};function arearangeHandleFormatter(e){e=e.graphic?e.graphic.getBBox().width/2+1:4;return[["M",0-e,0],["a",e,e,0,1,0,2*e,0],["a",e,e,0,1,0,-2*e,0]]}function horizHandleFormatter(e){var e=e.shapeArgs||e.graphic.getBBox(),r=e.r||0,a=e.height-r,e=e.height/2;return[["M",0,r],["L",0,e-5],["A",1,1,0,0,0,0,5+e],["A",1,1,0,0,0,0,e-5],["M",0,5+e],["L",0,a]]}function xrangeHandlePositioner(e,r){const a=e.series,t=a.xAxis,o=a.yAxis,i=a.chart.inverted,n=a.columnMetrics?a.columnMetrics.offset:-e.shapeArgs.height/2;let s=t.toPixels(e[r],!0),g=o.toPixels(e.y,!0);return i&&(s=t.len-s,g=o.len-g),g+=n,{x:Math.round(s),y:Math.round(g)}}const DragDropProps={arearange:arearange,boxplot:boxplot,bullet:bullet,column:column,columnrange:columnrange,errorbar:errorbar,flags:flags,gantt:gantt,line:line,ohlc:ohlc,waterfall:waterfall,xrange:xrange},DraggablePoints_DragDropProps=DragDropProps,{addEvents:DraggablePoints_addEvents,getNormalizedEvent:DraggablePoints_getNormalizedEvent}=DraggablePoints_DragDropUtilities,DraggablePoints_initDragDrop=DraggablePoints_DraggableChart["initDragDrop"],{addEvent:DraggablePoints_addEvent,clamp,isNumber:DraggablePoints_isNumber,merge:DraggablePoints_merge}=external_highcharts_src_js_default_default();function DraggablePoints_compose(e,r){DraggablePoints_DraggableChart.compose(e);const a=r.prototype;if(!a.dragDropProps){const t=r.prototype.pointClass,o=r.types,i=t.prototype;i.getDropValues=pointGetDropValues,i.showDragHandles=pointShowDragHandles,DraggablePoints_addEvent(t,"mouseOut",onPointMouseOut),DraggablePoints_addEvent(t,"mouseOver",onPointMouseOver),DraggablePoints_addEvent(t,"remove",onPointRemove),a.dragDropProps=DraggablePoints_DragDropProps.line,a.getGuideBox=seriesGetGuideBox;for(const n of["arearange","boxplot","bullet","column","columnrange","errorbar","flags","gantt","ohlc","waterfall","xrange"])o[n]&&(o[n].prototype.dragDropProps=DraggablePoints_DragDropProps[n]);for(const s of["bellcurve","gauge","histogram","map","mapline","pareto","pie","sankey","sma","sunburst","treemap","vector","windbarb","wordcloud"])o[s]&&(o[s].prototype.dragDropProps=null)}}function mouseOut(e){const r=e.series&&e.series.chart,a=r&&r.dragDropData;!r||!r.dragHandles||a&&(a.isDragging&&a.draggedPastSensitivity||a.isHoveringHandle===e.id)||r.hideDragHandles()}function mouseOver(e){const r=e.series,a=r&&r.chart,t=a&&a.dragDropData,o=a&&a.is3d&&a.is3d();!a||t&&t.isDragging&&t.draggedPastSensitivity||a.isDragDropAnimating||!r.options.dragDrop||o||(a.dragHandles&&a.hideDragHandles(),e.showDragHandles())}function onPointMouseOut(){const e=this;setTimeout(()=>{e.series&&mouseOut(e)},10)}function onPointMouseOver(){const e=this;setTimeout(()=>mouseOver(e),12)}function onPointRemove(){const e=this.series.chart,r=e.dragHandles;r&&r.point===this.id&&e.hideDragHandles()}function onResizeHandleMouseOut(e){const r=e.series.chart;r.dragDropData&&e.id===r.dragDropData.isHoveringHandle&&delete r.dragDropData.isHoveringHandle,r.hoverPoint||mouseOut(e)}function onResizeHandleMouseDown(e,r,a){const t=r.series.chart;t.zoomOrPanKeyPressed(e)||(t.mouseIsDown=!1,DraggablePoints_initDragDrop(e,r),t.dragDropData.updateProp=e.updateProp=a,r.firePointEvent("dragStart",e),e.stopPropagation(),e.preventDefault())}function pointGetDropValues(e,r,a){const d=this.series,l=d.chart,p=l.mapView,h=DraggablePoints_merge(d.options.dragDrop,this.options.dragDrop),t={},o=e.points[this.id],i=1===Object.keys(a).length;for(const n of Object.keys(a)){const s=a[n],g=o.point[n],c=d[s.axis+"Axis"],u=p?((t,o,i)=>{if(p){var o=o.toUpperCase(),n=h["dragPrecision"+o]??0,s=p.pixelsToLonLat({x:0,y:0}),g=p.pixelsToLonLat({x:l.plotBox.width,y:l.plotBox.height});let e=h["dragMin"+o]??s?.[i]??-1/0,r=h["dragMax"+o]??g?.[i]??1/0,a=t[i];return"Orthographic"===p.projection.options.name?a:("lat"===i&&((isNaN(e)||e>p.projection.maxLatitude)&&(e=p.projection.maxLatitude),s=r=isNaN(r)||r<-1*p.projection.maxLatitude?-1*p.projection.maxLatitude:r,r=e,e=s),p.projection.hasCoordinates||(o=p.pixelsToLonLat({x:t.chartX-l.plotLeft,y:l.plotHeight-t.chartY+l.plotTop}))&&(a=o[i]),n&&(a=Math.round(a/n)*n),clamp(a,e,r))}})(r,s.axis,n):((e,r)=>{const a=r.toUpperCase(),t=d.chart.time,o=d[r+"Axis"].categories?1:0,i=h["dragPrecision"+a]??o,n=t.parse(h["dragMin"+a])??-1/0,s=t.parse(h["dragMax"+a])??1/0;let g=e;return i&&(g=Math.round(g/i)*i),clamp(g,n,s)})(c.toValue((c.horiz?r.chartX:r.chartY)+o[n+"Offset"]),s.axis);!DraggablePoints_isNumber(u)||i&&s.propValidate&&!s.propValidate(u,this)||void 0===g||(t[n]=u)}return t}function pointShowDragHandles(){const t=this,o=t.series,i=o.chart,{inverted:n,renderer:s}=i,g=DraggablePoints_merge(o.options.dragDrop,t.options.dragDrop),d=o.dragDropProps||{};let l=i.dragHandles;for(const h of Object.keys(d)){const c=d[h],u=DraggablePoints_merge(DraggablePoints_DragDropDefaults.dragHandle,c.handleOptions,g.dragHandle),m={class:u.className,"stroke-width":u.lineWidth,fill:u.color,stroke:u.lineColor},D=u.pathFormatter||c.handleFormatter,x=c.handlePositioner,P=!c.validateIndividualDrag||c.validateIndividualDrag(t);let e,r,a;if(c.resize&&P&&c.resizeSide&&D&&(g["draggable"+c.axis.toUpperCase()]||g[c.optionName])&&!1!==g[c.optionName]){l?l.point=t.id:l=i.dragHandles={group:s.g("drag-drop-handles").add(o.markerGroup||o.group),point:t.id},e=x(t),m.d=a=D(t);var p=t.series.xAxis.categories?-.5:0;if(!a||e.x<p||e.y<0)return;m.cursor=u.cursor||("x"===c.axis!=!!n?"ew-resize":"ns-resize"),r=(r=l[c.optionName])||(l[c.optionName]=s.path().add(l.group)),m.translateX=n?o.yAxis.len-e.y:e.x,m.translateY=n?o.xAxis.len-e.x:e.y,n&&(m.rotation=-90),r.attr(m),DraggablePoints_addEvents(r.element,["touchstart","mousedown"],e=>{onResizeHandleMouseDown(DraggablePoints_getNormalizedEvent(e,i),t,h)},{passive:!1}),DraggablePoints_addEvent(l.group.element,"mouseover",()=>{i.dragDropData=i.dragDropData||{},i.dragDropData.isHoveringHandle=t.id}),DraggablePoints_addEvents(l.group.element,["touchend","mouseout"],()=>{onResizeHandleMouseOut(t)})}}}function seriesGetGuideBox(e){const r=this.chart;let a=1/0,t=-1/0,o=1/0,i=-1/0,n;for(const d of e){var s=d.graphic&&d.graphic.getBBox()||d.shapeArgs;if(s){let e;var g=d.x2,g=(DraggablePoints_isNumber(g)&&(e=d.series.xAxis.translate(g,!1,!1,!1,!0)),!(s.width||s.height||s.x||s.y));n=!0,a=Math.min(d.plotX||0,e||0,g?1/0:s.x||0,a),t=Math.max(d.plotX||0,e||0,(s.x||0)+(s.width||0),t),o=Math.min(d.plotY||0,g?1/0:s.y||0,o),i=Math.max((s.y||0)+(s.height||0),i)}}return n?r.renderer.rect(a,o,t-a,i-o):r.renderer.g()}const DraggablePoints={compose:DraggablePoints_compose},DraggablePoints_DraggablePoints=DraggablePoints,G=external_highcharts_src_js_default_default(),draggable_points_src=(DraggablePoints_DraggablePoints.compose(G.Chart,G.Series),external_highcharts_src_js_default_default());export{draggable_points_src as default};