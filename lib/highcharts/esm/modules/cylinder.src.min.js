import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__highcharts_3d_src_js_d1e794f4__ from"../highcharts-3d.src.js";var __webpack_require__={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(r,{a:r}),r},d:(e,r)=>{for(var t in r)__webpack_require__.o(r,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);const deg2rad=external_highcharts_src_js_default_default()["deg2rad"],pick=external_highcharts_src_js_default_default()["pick"];function rotate3D(e,r,t,s){return{x:s.cosB*e-s.sinB*t,y:-s.sinA*s.sinB*e+s.cosA*r-s.cosB*s.sinA*t,z:s.cosA*s.sinB*e+s.sinA*r+s.cosA*s.cosB*t}}function perspective(e,r,t,s){const i=r.options.chart.options3d,n=pick(s,!!t&&r.inverted),_={x:r.plotWidth/2,y:r.plotHeight/2,z:i.depth/2,vd:pick(i.depth,1)*pick(i.viewDistance,0)},a=r.scale3d||1,c=deg2rad*i.beta*(n?-1:1),l=deg2rad*i.alpha*(n?-1:1),o={cosA:Math.cos(l),cosB:Math.cos(-c),sinA:Math.sin(l),sinB:Math.sin(-c)};return t||(_.x+=r.plotLeft,_.y+=r.plotTop),e.map(function(e){const r=rotate3D((n?e.y:e.x)-_.x,(n?e.x:e.y)-_.y,(e.z||0)-_.z,o),t=perspective3D(r,_,_.vd);return t.x=t.x*a+_.x,t.y=t.y*a+_.y,t.z=r.z*a+_.z,{x:n?t.y:t.x,y:n?t.x:t.y,z:t.z}})}function perspective3D(e,r,t){r=0<t&&t<Number.POSITIVE_INFINITY?t/(e.z+r.z+t):1;return{x:e.x*r,y:e.y*r}}function pointCameraDistance(e,r){const t=r.options.chart.options3d,s=r.plotWidth/2,i=r.plotHeight/2,n=pick(t.depth,1)*pick(t.viewDistance,0)+t.depth,_=Math.sqrt(Math.pow(s-pick(e.plotX,e.x),2)+Math.pow(i-pick(e.plotY,e.y),2)+Math.pow(n-pick(e.plotZ,e.z),2));return _}function shapeArea(e){let r=0,t,s;for(t=0;t<e.length;t++)s=(t+1)%e.length,r+=e[t].x*e[s].y-e[s].x*e[t].y;return r/2}function shapeArea3D(e,r,t){return shapeArea(perspective(e,r,t))}const Math3D={perspective:perspective,perspective3D:perspective3D,pointCameraDistance:pointCameraDistance,shapeArea:shapeArea,shapeArea3D:shapeArea3D},Core_Math3D=Math3D,external_highcharts_src_js_default_Color_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.Color;var external_highcharts_src_js_default_Color_default=__webpack_require__.n(external_highcharts_src_js_default_Color_namespaceObject);const external_highcharts_src_js_default_RendererRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.RendererRegistry;var external_highcharts_src_js_default_RendererRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_RendererRegistry_namespaceObject);const color=external_highcharts_src_js_default_Color_default()["parse"],SVGElement3D=external_highcharts_src_js_default_RendererRegistry_default().getRendererType().prototype["Element3D"];class SVGElement3DCylinder extends SVGElement3D{constructor(){super(...arguments),this.parts=["top","bottom","front","back"],this.pathType="cylinder"}fillSetter(e){return this.singleSetterForParts("fill",null,{front:e,back:e,top:color(e).brighten(.1).get(),bottom:color(e).brighten(-.1).get()}),this.color=this.fill=e,this}}const Cylinder_SVGElement3DCylinder=SVGElement3DCylinder,{charts,deg2rad:CylinderComposition_deg2rad}=external_highcharts_src_js_default_default(),CylinderComposition_perspective=Core_Math3D["perspective"],{extend,pick:CylinderComposition_pick}=external_highcharts_src_js_default_default();function compose(e){const r=e.prototype;r.cylinder||(r.Element3D.types.cylinder=Cylinder_SVGElement3DCylinder,extend(r,{cylinder:rendererCylinder,cylinderPath:rendererCylinderPath,getCurvedPath:rendererGetCurvedPath,getCylinderBack:rendererGetCylinderBack,getCylinderEnd:rendererGetCylinderEnd,getCylinderFront:rendererGetCylinderFront}))}function isSimplified(e){return!e.some(e=>"C"===e[0])}function rendererCylinder(e){return this.element3d("cylinder",e)}function rendererCylinderPath(e){var r=this,t=charts[r.chartIndex],s=this.cuboidPath(e),i=!s.isTop,n=!s.isFront,_=r.getCylinderEnd(t,e),t=r.getCylinderEnd(t,e,!0);return{front:r.getCylinderFront(_,t),back:r.getCylinderBack(_,t),top:_,bottom:t,zIndexes:{top:i?3:0,bottom:i?0:3,front:n?2:1,back:n?1:2,group:s.zIndexes.group}}}function rendererGetCurvedPath(r){const t=[["M",r[0].x,r[0].y]],s=r.length-2;for(let e=1;e<s;e+=3)t.push(["C",r[e].x,r[e].y,r[e+1].x,r[e+1].y,r[e+2].x,r[e+2].y]);return t}function rendererGetCylinderBack(e,r){const t=[];var s,i;return isSimplified(e)?(s=e[0],i=e[2],"M"===s[0]&&"L"===i[0]&&(t.push(["M",i[1],i[2]]),t.push(e[3]),t.push(["L",s[1],s[2]]))):("C"===e[2][0]&&t.push(["M",e[2][5],e[2][6]]),t.push(e[3],e[4])),isSimplified(r)?"M"===(i=r[0])[0]&&(t.push(["L",i[1],i[2]]),t.push(r[3]),t.push(r[2])):(s=r[2],e=r[3],i=r[4],"C"===s[0]&&"C"===e[0]&&"C"===i[0]&&(t.push(["L",i[5],i[6]]),t.push(["C",i[3],i[4],i[1],i[2],e[5],e[6]]),t.push(["C",e[3],e[4],e[1],e[2],s[5],s[6]]))),t.push(["Z"]),t}function rendererGetCylinderEnd(e,r,t){var{width:s=0,height:i=0,alphaCorrection:n=0}=r,_=CylinderComposition_pick(r.depth,s,0),a=Math.min(s,_)/2,n=CylinderComposition_deg2rad*(e.options.chart.options3d.beta-90+n),t=(r.y||0)+(t?i:0),i=.5519*a,c=s/2+(r.x||0),l=_/2+(r.z||0),s=[{x:0,y:t,z:a},{x:i,y:t,z:a},{x:a,y:t,z:i},{x:a,y:t,z:0},{x:a,y:t,z:-i},{x:i,y:t,z:-a},{x:0,y:t,z:-a},{x:-i,y:t,z:-a},{x:-a,y:t,z:-i},{x:-a,y:t,z:0},{x:-a,y:t,z:i},{x:-i,y:t,z:a},{x:0,y:t,z:a}],o=Math.cos(n),d=Math.sin(n);let h,p,y;for(const u of s)p=u.x,y=u.z,u.x=p*o-y*d+c,u.z=y*o+p*d+l;_=CylinderComposition_perspective(s,e,!0);return h=Math.abs(_[3].y-_[9].y)<2.5&&Math.abs(_[0].y-_[6].y)<2.5?this.toLinePath([_[0],_[3],_[6],_[9]],!0):this.getCurvedPath(_)}function rendererGetCylinderFront(e,r){const t=e.slice(0,3);var s;return isSimplified(r)?"M"===(e=r[0])[0]&&(t.push(r[2]),t.push(r[1]),t.push(["L",e[1],e[2]])):(e=r[0],s=r[1],r=r[2],"M"===e[0]&&"C"===s[0]&&"C"===r[0]&&(t.push(["L",r[5],r[6]]),t.push(["C",r[3],r[4],r[1],r[2],s[5],s[6]]),t.push(["C",s[3],s[4],s[1],s[2],e[1],e[2]]))),t.push(["Z"]),t}const CylinderComposition={compose:compose},Cylinder_CylinderComposition=CylinderComposition,external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const{prototype:{pointClass:ColumnPoint}}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["column"],CylinderPoint_extend=external_highcharts_src_js_default_default()["extend"];class CylinderPoint extends ColumnPoint{}CylinderPoint_extend(CylinderPoint.prototype,{shapeType:"cylinder"});const Cylinder_CylinderPoint=CylinderPoint,CylinderSeriesDefaults={},Cylinder_CylinderSeriesDefaults=CylinderSeriesDefaults,ColumnSeries=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes["column"],{extend:CylinderSeries_extend,merge}=external_highcharts_src_js_default_default();class CylinderSeries extends ColumnSeries{}CylinderSeries.compose=Cylinder_CylinderComposition.compose,CylinderSeries.defaultOptions=merge(ColumnSeries.defaultOptions,Cylinder_CylinderSeriesDefaults),CylinderSeries_extend(CylinderSeries.prototype,{pointClass:Cylinder_CylinderPoint}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("cylinder",CylinderSeries);const Cylinder_CylinderSeries=CylinderSeries;var x=e=>{var r={};return __webpack_require__.d(r,e),r},y=e=>()=>e;const external_highcharts_3d_src_js_namespaceObject=x({}),cylinder_src=(Cylinder_CylinderSeries.compose(external_highcharts_src_js_default_RendererRegistry_default().getRendererType()),external_highcharts_src_js_default_default());export{cylinder_src as default};