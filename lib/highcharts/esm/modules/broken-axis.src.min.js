import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";var __webpack_require__={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},d:(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject);const external_highcharts_src_js_default_StackItem_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.StackItem;var BrokenAxis,external_highcharts_src_js_default_StackItem_default=__webpack_require__.n(external_highcharts_src_js_default_StackItem_namespaceObject);const{addEvent,find,fireEvent,isArray,isNumber,pick}=external_highcharts_src_js_default_default(),Axis_BrokenAxis=(!function(e){function s(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function r(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function n(){const e=this,t=e.brokenAxis;if(t?.hasBreaks){const i=e.tickPositions,s=e.tickPositions.info,r=[];for(let e=0;e<i.length;e++)t.isInAnyBreak(i[e])||r.push(i[e]);e.tickPositions=r,e.tickPositions.info=s}}function a(){var e=this;e.brokenAxis||(e.brokenAxis=new u(e))}function o(){const{isDirty:e,options:{connectNulls:t},points:i,xAxis:s,yAxis:r}=this;if(e){let e=i.length;for(;e--;){const a=i[e];var n=!(null===a.y&&!1===t)&&(s?.brokenAxis?.isInAnyBreak(a.x,!0)||r?.brokenAxis?.isInAnyBreak(a.y,!0));a.visible=!n&&!1!==a.options.visible}}}function c(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,pick(this.pointArrayMap,["y"]))}function f(s,e){const i=this,r=i.points;let n,a,o;if(s?.brokenAxis?.hasBreaks){const c=s.brokenAxis;e.forEach(function(e){n=c?.breakArray||[],a=s.isXAxis?s.min:pick(i.options.threshold,s.min);const t=s?.options?.breaks?.filter(function(t){let i=!0;for(let e=0;e<n.length;e++){var s=n[e];if(s.from===t.from&&s.to===t.to){i=!1;break}}return i});r.forEach(function(i){o=pick(i["stack"+e.toUpperCase()],i[e]),n.forEach(function(t){if(isNumber(a)&&isNumber(o)){let e="";a<t.from&&o>t.to||a>t.from&&o<t.from?e="pointBreak":(a<t.from&&o>t.from&&o<t.to||a>t.from&&o>t.to&&o<t.from)&&(e="pointInBreak"),e&&fireEvent(s,e,{point:i,brk:t})}}),t?.forEach(function(e){fireEvent(s,"pointOutsideOfBreak",{point:i,brk:e})})})})}}function _(){const e=this.currentDataGrouping,i=e?.gapSize,s=this.points.slice(),r=this.yAxis;let n=this.options.gapSize,a=s.length-1,o;if(n&&0<a){"value"!==this.options.gapUnit&&(n*=this.basePointRange),i&&i>n&&i>=this.basePointRange&&(n=i);let e,t;for(;a--;){var c;t&&!1!==t.visible||(t=s[a+1]),e=s[a],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>n&&(c=(e.x+t.x)/2,s.splice(a+1,0,{isNull:!0,x:c}),r.stacking&&this.options.stacking&&((o=r.stacking.stacks[this.stackKey][c]=new(external_highcharts_src_js_default_StackItem_default())(r,r.options.stackLabels,!1,c,this.stack)).total=0)),t=e)}}return this.getGraphPath(s)}e.compose=function(e,t){if(!e.keepProps.includes("brokenAxis")){e.keepProps.push("brokenAxis"),addEvent(e,"init",a),addEvent(e,"afterInit",s),addEvent(e,"afterSetTickPositions",n),addEvent(e,"afterSetOptions",r);const i=t.prototype;i.drawBreaks=f,i.gappedPath=_,addEvent(t,"afterGeneratePoints",o),addEvent(t,"afterRender",c)}return e};class u{static isInBreak(e,t){var i=e.repeat||1/0,s=e.from,r=e.to-e.from,s=s<=t?(t-s)%i:i-(s-t)%i;let n;return n=e.inclusive?s<=r:s<r&&0!=s}static lin2Val(e){var t=this.brokenAxis?.breakArray;if(!t||!isNumber(e))return e;let i=e,s,r;for(r=0;r<t.length&&!((s=t[r]).from>=i);r++)(s.to<i||u.isInBreak(s,i))&&(i+=s.len);return i}static val2Lin(e){var t=this.brokenAxis?.breakArray;if(!t||!isNumber(e))return e;let i=e,s,r;for(r=0;r<t.length;r++)if((s=t[r]).to<=e)i-=s.len;else{if(s.from>=e)break;if(u.isInBreak(s,e)){i-=e-s.from;break}}return i}constructor(e){this.hasBreaks=!1,this.axis=e}findBreakAt(t,e){return find(e,function(e){return e.from<t&&t<e.to})}isInAnyBreak(e,t){var i=this.axis,s=i.options.breaks||[];let r=s.length,n,a,o;if(r&&isNumber(e)){for(;r--;)u.isInBreak(s[r],e)&&(n=!0,a=a||pick(s[r].showPoints,!i.isXAxis));o=n&&t?n&&!a:n}return o}setBreaks(e,t){const l=this,h=l.axis,i=h.chart.time,s=isArray(e)&&!!e.length&&!!Object.keys(e[0]).length;h.isDirty=l.hasBreaks!==s,l.hasBreaks=s,e?.forEach(e=>{e.from=i.parse(e.from)||0,e.to=i.parse(e.to)||0}),e!==h.options.breaks&&(h.options.breaks=h.userOptions.breaks=e),h.forceRedraw=!0,h.series.forEach(function(e){e.isDirty=!0}),s||h.val2lin!==u.val2Lin||(delete h.val2lin,delete h.lin2val),s&&(h.userOptions.ordinal=!1,h.lin2val=u.lin2Val,h.val2lin=u.val2Lin,h.setExtremes=function(t,i,e,s,r){if(l.hasBreaks){var n=this.options.breaks||[];let e;for(;e=l.findBreakAt(t,n);)t=e.to;for(;e=l.findBreakAt(i,n);)i=e.from;i<t&&(i=t)}h.constructor.prototype.setExtremes.call(this,t,i,e,s,r)},h.setAxisTranslation=function(){if(h.constructor.prototype.setAxisTranslation.call(this),l.unitLength=void 0,l.hasBreaks){const e=h.options.breaks||[],c=[],f=[],_=pick(h.pointRangePadding,0);let t=0,i,s,r=h.userMin||h.min,n=h.userMax||h.max,a,o;e.forEach(function(e){s=e.repeat||1/0,isNumber(r)&&isNumber(n)&&(u.isInBreak(e,r)&&(r+=e.to%s-r%s),u.isInBreak(e,n)&&(n-=n%s-e.from%s))}),e.forEach(function(e){if(a=e.from,s=e.repeat||1/0,isNumber(r)&&isNumber(n)){for(;a-s>r;)a-=s;for(;a<r;)a+=s;for(o=a;o<n;o+=s)c.push({value:o,move:"in"}),c.push({value:o+e.to-e.from,move:"out",size:e.breakSize})}}),c.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),i=0,a=r,c.forEach(function(e){1===(i+="in"===e.move?1:-1)&&"in"===e.move&&(a=e.value),0===i&&isNumber(a)&&(f.push({from:a,to:e.value,len:e.value-a-(e.size||0)}),t+=e.value-a-(e.size||0))}),l.breakArray=f,isNumber(r)&&isNumber(n)&&isNumber(h.min)&&(l.unitLength=n-r-t+_,fireEvent(h,"afterBreaks"),h.staticScale?h.transA=h.staticScale:l.unitLength&&(h.transA*=(n-h.min+_)/l.unitLength),_&&(h.minPixelPadding=h.transA*(h.minPointOffset||0)),h.min=r,h.max=n)}}),pick(t,!0)&&h.chart.redraw()}}e.Additions=u}(BrokenAxis=BrokenAxis||{}),BrokenAxis),G=external_highcharts_src_js_default_default(),broken_axis_src=(G.BrokenAxis=G.BrokenAxis||Axis_BrokenAxis,G.BrokenAxis.compose(G.Axis,G.Series),external_highcharts_src_js_default_default());export{broken_axis_src as default};