import*as __WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__ from"../highcharts.src.js";import*as __WEBPACK_EXTERNAL_MODULE__stock_src_js_3de69a45__ from"./stock.src.js";var __webpack_require__={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const external_highcharts_src_js_default_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default;var external_highcharts_src_js_default_default=__webpack_require__.n(external_highcharts_src_js_default_namespaceObject),x=e=>{var t={};return __webpack_require__.d(t,e),t},y=e=>()=>e;const external_stock_src_js_namespaceObject=x({}),external_highcharts_src_js_default_SeriesRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.SeriesRegistry;var external_highcharts_src_js_default_SeriesRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_SeriesRegistry_namespaceObject);const{scatter:{prototype:{pointClass:ScatterPoint}}}=external_highcharts_src_js_default_SeriesRegistry_default()["seriesTypes"];class PointAndFigurePoint extends ScatterPoint{resolveMarker(){var e=this.series.options;this.marker=this.options.marker=this.upTrend?e.markerUp:e.marker,this.color=this.options.marker.lineColor}resolveColor(){super.resolveColor(),this.resolveMarker()}getClassName(){return super.getClassName.call(this)+(this.upTrend?" highcharts-point-up":" highcharts-point-down")}}const PointAndFigure_PointAndFigurePoint=PointAndFigurePoint,PointAndFigureSeriesDefaults={boxSize:"1%",reversalAmount:3,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Close: {point.y:.2f}<br/>',headerFormat:""},turboThreshold:0,groupPadding:.2,pointPadding:.1,pointRange:null,dataGrouping:{enabled:!1},markerUp:{symbol:"cross",lineColor:"#00FF00",lineWidth:2},marker:{symbol:"circle",fillColor:"transparent",lineColor:"#FF0000",lineWidth:2},legendSymbol:"lineMarker"},PointAndFigure_PointAndFigureSeriesDefaults=PointAndFigureSeriesDefaults,external_highcharts_src_js_default_RendererRegistry_namespaceObject=__WEBPACK_EXTERNAL_MODULE__highcharts_src_js_8202131d__.default.RendererRegistry;var PointAndFigureSymbols,external_highcharts_src_js_default_RendererRegistry_default=__webpack_require__.n(external_highcharts_src_js_default_RendererRegistry_namespaceObject);!function(e){const r=[];function s(e,t,r,s){return[["M",e,t],["L",e+r,t+s],["M",e+r,t],["L",e,t+s],["Z"]]}e.compose=function(e){if(-1===r.indexOf(e)){r.push(e);const t=e.prototype.symbols;t.cross=s}e=external_highcharts_src_js_default_RendererRegistry_default().getRendererType(),r.indexOf(e)&&r.push(e)}}(PointAndFigureSymbols=PointAndFigureSymbols||{});const PointAndFigure_PointAndFigureSymbols=PointAndFigureSymbols,composed=external_highcharts_src_js_default_default()["composed"],{scatter:ScatterSeries,column:{prototype:columnProto}}=external_highcharts_src_js_default_SeriesRegistry_default().seriesTypes,{extend,merge,pushUnique,isNumber,relativeLength}=external_highcharts_src_js_default_default();class PointAndFigureSeries extends ScatterSeries{constructor(){super(...arguments),this.allowDG=!1}static compose(e){pushUnique(composed,"pointandfigure")&&PointAndFigure_PointAndFigureSymbols.compose(e)}init(){super.init.apply(this,arguments),this.pnfDataGroups=[]}getProcessedData(){if(!this.pnfDataGroups)return{modified:this.dataTable.modified,cropped:!1,cropStart:0,closestPointRange:1};const e=this,t=this.dataTable.modified,r=e.options,s=e.getColumn("x",!0),i=e.getColumn("y",!0),n=r.boxSize,o=isNumber(n)?n:relativeLength(n,i[0]),_=e.pnfDataGroups,a=o*r.reversalAmount;e.calculatedBoxSize=o;let l;function u(e,t,r){const s=_[_.length-1],i=t?1:-1,n=Math.floor(i*(e-r)/o);for(let e=1;e<=n;e++){var a=r+i*(o*e);s.y.push(a)}}if(this.isDirtyData||0===_.length){for(let e=this.pnfDataGroups.length=0;e<i.length;e++){var h=s[e],c=i[e],d=i[0];if(c-d>=o){l=!0,_.push({x:h,y:[c],upTrend:l});break}if(d-c>=o){l=!1,_.push({x:h,y:[c],upTrend:l});break}}i.forEach((e,t)=>{var t=s[t],r=(r=(r=_)[r.length-1].y)[r.length-1];l&&(e-r>=o&&u(e,l,r),r-e>=a&&(l=!1,_.push({x:t,y:[],upTrend:l}),u(e,l,r))),l||(r-e>=o&&u(e,l,r),e-r>=a&&(l=!0,_.push({x:t,y:[],upTrend:l}),u(e,l,r)))})}const p=[],g=[],f=[];return _.forEach(e=>{const t=e.x,r=e.upTrend;e.y.forEach(e=>{g.push(t),f.push(e),p.push({x:t,y:e,upTrend:r})})}),t.setColumn("x",g),t.setColumn("y",f),e.pnfDataGroups=_,e.processedData=p,{modified:t,cropped:!1,cropStart:0,closestPointRange:1}}markerAttribs(e){const t=this.options,r={},s=e.pos();return r.width=this.markerWidth,r.height=this.markerHeight,s&&r.width&&r.height&&(r.x=s[0]-Math.round(r.width)/2,r.y=s[1]-Math.round(r.height)/2),t.crisp&&r.x&&(r.x=Math.floor(r.x)),r}translate(){var e=this.getColumnMetrics(),t=this.calculatedBoxSize;this.markerWidth=e.width+e.paddedWidth+e.offset,this.markerHeight=this.yAxis.toPixels(0)-this.yAxis.toPixels(t),super.translate()}}PointAndFigureSeries.defaultOptions=merge(ScatterSeries.defaultOptions,PointAndFigure_PointAndFigureSeriesDefaults),extend(PointAndFigureSeries.prototype,{takeOrdinalPosition:!0,pnfDataGroups:[],getColumnMetrics:columnProto.getColumnMetrics,pointClass:PointAndFigure_PointAndFigurePoint,sorted:!0}),external_highcharts_src_js_default_SeriesRegistry_default().registerSeriesType("pointandfigure",PointAndFigureSeries);const PointAndFigure_PointAndFigureSeries=PointAndFigureSeries,G=external_highcharts_src_js_default_default(),pointandfigure_src=(PointAndFigure_PointAndFigureSeries.compose(G.Renderer),external_highcharts_src_js_default_default());export{pointandfigure_src as default};